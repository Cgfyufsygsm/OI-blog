<!DOCTYPE html>
<html dir="ltr" lang="zh-CN">
<head><meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/><meta content="Round div id sol rk perf A B C D E F G H I R670 2 1406 0 9207 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R695 2 1467 1 6299 ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ‘€ R697 3 1475 4 N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R698 2 1478 2 4882 ğŸ‰‘ ğŸ‰‘ R698 1 1477 N/A N/A ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… EDU103 edu 1476 2 4551 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R699 2 1481 3 2113 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R700 2 1480 2 6974 ğŸ‰‘ ğŸ‰‘ R700 1 1479 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R701 2 1485 1 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU104 edu 1487 2 4964 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ R702 3 1490 5 1352 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R705 2 1493 3 869 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R706 2 1496 3 1792 ğŸ‰‘ ğŸ‰‘ R706 1 1495 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R707 2 1501 2 1320 ğŸ‰‘ ğŸ‰‘ R707 1 1500 N/A N/A ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R712 2 1504 1 8171 ğŸ‰‘ ğŸ‘€ R712 1 1503 N/A N/A ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R718 1+2 1517 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… HSSC21 1+2 1553 5 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R733 1+2 1530 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R736 2 1549 4 373 ğŸ‰‘ ğŸ‰‘ R736 1 1548 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R737 2 1557 3 463 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R738 2 1559 4 1780 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R740 2 1561 4 1738 ğŸ‰‘ ğŸ‰‘ R740 1 1558 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R741 2 1562 2 3894 ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ DR 2021 1+2 1556 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R742 2 1567 3 2622 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R743 2 1573 4 vp ğŸ‰‘ ğŸ‰‘ R743 1 1572 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… EDU113 edu 1569 2 8249 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… GR17 gr 1566 4 4019 1330 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU114 edu 1574 3 1807 1585 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R745 2 1581 3 279 1886 ğŸ‰‘ ğŸ‰‘ R745 1 1580 N/A N/A N/A ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R746 2 1592 3 550 1928 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R747 2 1594 5 605 1825 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU115 edu 1598 4 581 1825 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R749 1+2 1586 5 349 2284 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R750 2 1582 4 1738 1514 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R754 2 1605 3 869 1787 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R755 1 1588 2 451 1933 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ˜… ğŸ˜… R758 1+2 1608 3 522 2059 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… GR18 gr 1615 3 816 2031 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… Hello2022 1621 N/A skip N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… ğŸ˜… ğŸ˜… R765 2 1625 4 140 2191 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R766 2 1627 3 1275 1678 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU121 edu 1626 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R767 2 1629 4 305 1988 ğŸ‰‘ ğŸ‰‘ R767 1 1628 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R768 2 1631 3 2765 1435 ğŸ‰‘ ğŸ‰‘ R768 1 1630 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R769 2 1632 3 1620 1661 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU122 edu 1633 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ GR19 gr 1637 4 1047 1975 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R771 2 1638 4 521 1936 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R772 2 1635 5 121 2204 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU123 edu 1644 5 365 1968 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R773 1 1641 2 689 1884 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R777 2 1647 4 549 1908 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R781 2 1665 2 3461 1276 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU126 edu 1661 4 311 2001 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R785 2 1673 3 1368 1624 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ EDU128 edu 1680 3 958 1742 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ R796 1 1687 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R796 2 1688 5 181 2034 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R801 2 1695 3." name="description"/><title>Codeforces æ¯”èµ›æ—¥è®°</title>
<link href="https://oi.imyangty.com/summary-codeforces/" rel="canonical"/>
<link href="/scss/style.min.a5821f3d3ab84ce5a0ac21477e347a2e0ca00292e398d16c5e8e36ded6e35a23.css" rel="stylesheet"/><meta content="Codeforces æ¯”èµ›æ—¥è®°" property="og:title"/>
<meta content="Round div id sol rk perf A B C D E F G H I R670 2 1406 0 9207 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R695 2 1467 1 6299 ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ‘€ R697 3 1475 4 N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R698 2 1478 2 4882 ğŸ‰‘ ğŸ‰‘ R698 1 1477 N/A N/A ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… EDU103 edu 1476 2 4551 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R699 2 1481 3 2113 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R700 2 1480 2 6974 ğŸ‰‘ ğŸ‰‘ R700 1 1479 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R701 2 1485 1 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU104 edu 1487 2 4964 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ R702 3 1490 5 1352 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R705 2 1493 3 869 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R706 2 1496 3 1792 ğŸ‰‘ ğŸ‰‘ R706 1 1495 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R707 2 1501 2 1320 ğŸ‰‘ ğŸ‰‘ R707 1 1500 N/A N/A ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R712 2 1504 1 8171 ğŸ‰‘ ğŸ‘€ R712 1 1503 N/A N/A ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R718 1+2 1517 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… HSSC21 1+2 1553 5 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R733 1+2 1530 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R736 2 1549 4 373 ğŸ‰‘ ğŸ‰‘ R736 1 1548 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R737 2 1557 3 463 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R738 2 1559 4 1780 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R740 2 1561 4 1738 ğŸ‰‘ ğŸ‰‘ R740 1 1558 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R741 2 1562 2 3894 ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ DR 2021 1+2 1556 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R742 2 1567 3 2622 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R743 2 1573 4 vp ğŸ‰‘ ğŸ‰‘ R743 1 1572 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… EDU113 edu 1569 2 8249 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… GR17 gr 1566 4 4019 1330 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU114 edu 1574 3 1807 1585 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R745 2 1581 3 279 1886 ğŸ‰‘ ğŸ‰‘ R745 1 1580 N/A N/A N/A ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R746 2 1592 3 550 1928 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R747 2 1594 5 605 1825 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU115 edu 1598 4 581 1825 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R749 1+2 1586 5 349 2284 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R750 2 1582 4 1738 1514 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R754 2 1605 3 869 1787 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R755 1 1588 2 451 1933 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ˜… ğŸ˜… R758 1+2 1608 3 522 2059 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… GR18 gr 1615 3 816 2031 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… Hello2022 1621 N/A skip N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… ğŸ˜… ğŸ˜… R765 2 1625 4 140 2191 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R766 2 1627 3 1275 1678 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU121 edu 1626 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R767 2 1629 4 305 1988 ğŸ‰‘ ğŸ‰‘ R767 1 1628 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R768 2 1631 3 2765 1435 ğŸ‰‘ ğŸ‰‘ R768 1 1630 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R769 2 1632 3 1620 1661 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU122 edu 1633 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ GR19 gr 1637 4 1047 1975 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R771 2 1638 4 521 1936 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R772 2 1635 5 121 2204 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU123 edu 1644 5 365 1968 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R773 1 1641 2 689 1884 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R777 2 1647 4 549 1908 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R781 2 1665 2 3461 1276 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU126 edu 1661 4 311 2001 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R785 2 1673 3 1368 1624 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ EDU128 edu 1680 3 958 1742 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ R796 1 1687 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R796 2 1688 5 181 2034 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R801 2 1695 3." property="og:description"/>
<meta content="https://oi.imyangty.com/summary-codeforces/" property="og:url"/>
<meta content="æ¸…çƒ›çš„åšå®¢" property="og:site_name"/>
<meta content="article" property="og:type"/><meta content="Post" property="article:section"/><meta content="Codeforces" property="article:tag"/><meta content="OI" property="article:tag"/><meta content="è§£é¢˜æŠ¥å‘Š" property="article:tag"/><meta content="æ¨¡æ‹Ÿ" property="article:tag"/><meta content="æ„é€ " property="article:tag"/><meta content="è´ªå¿ƒ" property="article:tag"/><meta content="åšå¼ˆè®º" property="article:tag"/><meta content="åŠ¨æ€è§„åˆ’" property="article:tag"/><meta content="ç»„åˆæ•°å­¦" property="article:tag"/><meta content="ç”Ÿæˆå‡½æ•°" property="article:tag"/><meta content="çº¿æ®µæ ‘" property="article:tag"/><meta content="äºŒåˆ†å›¾" property="article:tag"/><meta content="äºŒåˆ†ç­”æ¡ˆ" property="article:tag"/><meta content="æ‹“æ‰‘æ’åº" property="article:tag"/><meta content="å¼ºè¿é€šåˆ†é‡" property="article:tag"/><meta content="é•¿é“¾å‰–åˆ†" property="article:tag"/><meta content="æ•°è®º" property="article:tag"/><meta content="æ ¹å·åˆ†æ²»" property="article:tag"/><meta content="2021-02-17T18:11:15+08:00" property="article:published_time"/><meta content="2021-02-17T18:11:15+08:00" property="article:modified_time"/><meta content="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg1.webp" property="og:image"/>
<meta content="Codeforces æ¯”èµ›æ—¥è®°" name="twitter:title"/>
<meta content="Round div id sol rk perf A B C D E F G H I R670 2 1406 0 9207 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R695 2 1467 1 6299 ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ‘€ R697 3 1475 4 N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R698 2 1478 2 4882 ğŸ‰‘ ğŸ‰‘ R698 1 1477 N/A N/A ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… EDU103 edu 1476 2 4551 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R699 2 1481 3 2113 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R700 2 1480 2 6974 ğŸ‰‘ ğŸ‰‘ R700 1 1479 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R701 2 1485 1 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU104 edu 1487 2 4964 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ R702 3 1490 5 1352 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R705 2 1493 3 869 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R706 2 1496 3 1792 ğŸ‰‘ ğŸ‰‘ R706 1 1495 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R707 2 1501 2 1320 ğŸ‰‘ ğŸ‰‘ R707 1 1500 N/A N/A ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R712 2 1504 1 8171 ğŸ‰‘ ğŸ‘€ R712 1 1503 N/A N/A ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R718 1+2 1517 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… HSSC21 1+2 1553 5 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R733 1+2 1530 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R736 2 1549 4 373 ğŸ‰‘ ğŸ‰‘ R736 1 1548 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R737 2 1557 3 463 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R738 2 1559 4 1780 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R740 2 1561 4 1738 ğŸ‰‘ ğŸ‰‘ R740 1 1558 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R741 2 1562 2 3894 ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ DR 2021 1+2 1556 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R742 2 1567 3 2622 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R743 2 1573 4 vp ğŸ‰‘ ğŸ‰‘ R743 1 1572 N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… EDU113 edu 1569 2 8249 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… GR17 gr 1566 4 4019 1330 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU114 edu 1574 3 1807 1585 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… R745 2 1581 3 279 1886 ğŸ‰‘ ğŸ‰‘ R745 1 1580 N/A N/A N/A ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R746 2 1592 3 550 1928 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R747 2 1594 5 605 1825 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU115 edu 1598 4 581 1825 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R749 1+2 1586 5 349 2284 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R750 2 1582 4 1738 1514 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R754 2 1605 3 869 1787 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R755 1 1588 2 451 1933 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‰‘ ğŸ˜… ğŸ˜… R758 1+2 1608 3 522 2059 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… GR18 gr 1615 3 816 2031 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… Hello2022 1621 N/A skip N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… ğŸ˜… ğŸ˜… R765 2 1625 4 140 2191 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R766 2 1627 3 1275 1678 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU121 edu 1626 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ R767 2 1629 4 305 1988 ğŸ‰‘ ğŸ‰‘ R767 1 1628 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R768 2 1631 3 2765 1435 ğŸ‰‘ ğŸ‰‘ R768 1 1630 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ˜… ğŸ˜… R769 2 1632 3 1620 1661 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU122 edu 1633 4 vp ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ GR19 gr 1637 4 1047 1975 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… ğŸ˜… R771 2 1638 4 521 1936 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R772 2 1635 5 121 2204 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU123 edu 1644 5 365 1968 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ˜… R773 1 1641 2 689 1884 ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… ğŸ˜… R777 2 1647 4 549 1908 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ R781 2 1665 2 3461 1276 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ EDU126 edu 1661 4 311 2001 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R785 2 1673 3 1368 1624 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ EDU128 edu 1680 3 958 1742 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ‘€ ğŸ‘€ R796 1 1687 N/A N/A N/A ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ ğŸ‘€ ğŸ˜… ğŸ˜… R796 2 1688 5 181 2034 ğŸ‰‘ ğŸ‰‘ ğŸ‰‘ R801 2 1695 3." name="twitter:description"/><meta content="summary_large_image" name="twitter:card"/>
<meta content="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg1.webp" name="twitter:image"/>
<link href="https://q1.qlogo.cn/g?b=qq&amp;nk=375836877&amp;s=5" rel="shortcut icon"/>
<link href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/styles/github-dark-dimmed.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="article-page">
<script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky">
<button aria-label="åˆ‡æ¢èœå•" class="hamburger hamburger--spin" id="toggle-menu" type="button">
<span class="hamburger-box">
<span class="hamburger-inner"></span>
</span>
</button>
<header>
<figure class="site-avatar">
<a href="/">
<img alt="Avatar" class="site-logo" height="300" loading="lazy" src="/img/avatar_huea3ce2119467b51fdd2a81393644a76d_51594_300x0_resize_q75_box.jpg" width="300"/>
</a>
<span class="emoji">ğŸ˜…</span>
</figure>
<div class="site-meta">
<h1 class="site-name"><a href="/">æ¸…çƒ›çš„åšå®¢</a></h1>
<h2 class="site-description">çƒŸç«å·²è°¢ï¼Œç¬™æ­Œæœªåœ</h2>
</div>
</header><ol class="social-menu">
<li>
<a href="mailto:i@imyangty.com" target="_blank" title="email">
<svg class="icon icon-tabler icon-tabler-mail" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<rect height="14" rx="2" width="18" x="3" y="5"></rect>
<polyline points="3 7 12 13 21 7"></polyline>
</svg>
</a>
</li>
<li>
<a href="https://github.com/Cgfyufsygsm" target="_blank" title="GitHub">
<svg class="icon icon-tabler icon-tabler-brand-github" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path>
</svg>
</a>
</li>
<li>
<a href="https://t.me/Cgfyufsygsm" target="_blank" title="Telegram">
<svg class="icon icon-tabler icon-tabler-brand-telegram" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4"></path>
</svg>
</a>
</li>
<li>
<a href="https://twitter.com/Cgfyufsygsm" target="_blank" title="Twitter">
<svg class="icon icon-tabler icon-tabler-brand-twitter" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"></path>
</svg>
</a>
</li>
</ol><ol class="menu" id="main-menu">
<li>
<a href="/">
<svg class="icon icon-tabler icon-tabler-home" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<polyline points="5 12 3 12 12 3 21 12 19 12"></polyline>
<path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"></path>
<path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"></path>
</svg>
<span>ä¸»é¡µ</span>
</a>
</li>
<li>
<a href="/about/">
<svg class="icon icon-tabler icon-tabler-user" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<circle cx="12" cy="7" r="4"></circle>
<path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>
</svg>
<span>å…³äº</span>
</a>
</li>
<li>
<a href="/idx/">
<svg class="icon icon-tabler icon-tabler-hash" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<line x1="5" x2="19" y1="9" y2="9"></line>
<line x1="5" x2="19" y1="15" y2="15"></line>
<line x1="11" x2="7" y1="4" y2="20"></line>
<line x1="17" x2="13" y1="4" y2="20"></line>
</svg>
<span>å¯¼èˆª</span>
</a>
</li>
<li>
<a href="/archives/">
<svg class="icon icon-tabler icon-tabler-archive" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<rect height="4" rx="2" width="18" x="3" y="4"></rect>
<path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10"></path>
<line x1="10" x2="14" y1="12" y2="12"></line>
</svg>
<span>å½’æ¡£</span>
</a>
</li>
<li>
<a href="/search/">
<svg class="icon icon-tabler icon-tabler-search" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<circle cx="10" cy="10" r="7"></circle>
<line x1="21" x2="15" y1="21" y2="15"></line>
</svg>
<span>æœç´¢</span>
</a>
</li>
<li>
<a href="/friends/">
<svg class="icon icon-tabler icon-tabler-link" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path>
<path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path>
</svg>
<span>å‹é“¾</span>
</a>
</li>
<li>
<a href="https://blog.imyangty.com" target="_blank">
<svg class="icon icon-tabler icon-tabler-home" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<polyline points="5 12 3 12 12 3 21 12 19 12"></polyline>
<path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"></path>
<path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"></path>
</svg>
<span>ä¸»åšå®¢</span>
</a>
</li>
<div class="menu-bottom-section">
<li id="dark-mode-toggle">
<svg class="icon icon-tabler icon-tabler-toggle-left" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<circle cx="8" cy="12" r="2"></circle>
<rect height="12" rx="6" width="20" x="2" y="6"></rect>
</svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<circle cx="16" cy="12" r="2"></circle>
<rect height="12" rx="6" width="20" x="2" y="6"></rect>
</svg>
<span>æš—è‰²æ¨¡å¼</span>
</li>
</div>
</ol>
</aside>
<main class="main full-width">
<article class="has-image main-article">
<header class="article-header">
<div class="article-image">
<a href="/summary-codeforces/">
<img alt="Featured image of post Codeforces æ¯”èµ›æ—¥è®°" loading="lazy" src="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg1.webp"/>
</a>
</div>
<div class="article-details">
<header class="article-category">
<a href="/categories/oi/">
                OI
            </a>
<a href="/categories/summary/">
                æ€»ç»“
            </a>
</header>
<div class="article-title-wrapper">
<h2 class="article-title">
<a href="/summary-codeforces/">Codeforces æ¯”èµ›æ—¥è®°</a>
</h2>
</div>
<footer class="article-time">
<div>
<svg class="icon icon-tabler icon-tabler-calendar-time" fill="none" height="56" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="56" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4"></path>
<circle cx="18" cy="18" r="4"></circle>
<path d="M15 3v4"></path>
<path d="M7 3v4"></path>
<path d="M3 11h16"></path>
<path d="M18 16.496v1.504l1 1"></path>
</svg>
<time class="article-time--published">Feb 17, 2021</time>
</div>
<div>
<svg class="icon icon-tabler icon-tabler-clock" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<circle cx="12" cy="12" r="9"></circle>
<polyline points="12 7 12 12 15 15"></polyline>
</svg>
<time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 69 åˆ†é’Ÿ
                </time>
</div>
</footer>
</div>
</header>
<section class="article-content">
<div class="table-wrapper"><table>
<thead>
<tr class="header">
<th>Round</th>
<th>div</th>
<th>id</th>
<th>sol</th>
<th>rk</th>
<th>perf</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
<th>G</th>
<th>H</th>
<th>I</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>R670</td>
<td>2</td>
<td>1406</td>
<td>0</td>
<td>9207</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R695</td>
<td>2</td>
<td>1467</td>
<td>1</td>
<td>6299</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R697</td>
<td>3</td>
<td>1475</td>
<td>4</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R698</td>
<td>2</td>
<td>1478</td>
<td>2</td>
<td>4882</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R698</td>
<td>1</td>
<td>1477</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>EDU103</td>
<td>edu</td>
<td>1476</td>
<td>2</td>
<td>4551</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R699</td>
<td>2</td>
<td>1481</td>
<td>3</td>
<td>2113</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R700</td>
<td>2</td>
<td>1480</td>
<td>2</td>
<td>6974</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R700</td>
<td>1</td>
<td>1479</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R701</td>
<td>2</td>
<td>1485</td>
<td>1</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU104</td>
<td>edu</td>
<td>1487</td>
<td>2</td>
<td>4964</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R702</td>
<td>3</td>
<td>1490</td>
<td>5</td>
<td>1352</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R705</td>
<td>2</td>
<td>1493</td>
<td>3</td>
<td>869</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R706</td>
<td>2</td>
<td>1496</td>
<td>3</td>
<td>1792</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R706</td>
<td>1</td>
<td>1495</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R707</td>
<td>2</td>
<td>1501</td>
<td>2</td>
<td>1320</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R707</td>
<td>1</td>
<td>1500</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R712</td>
<td>2</td>
<td>1504</td>
<td>1</td>
<td>8171</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R712</td>
<td>1</td>
<td>1503</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R718</td>
<td>1+2</td>
<td>1517</td>
<td></td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
</tr>
<tr class="odd">
<td>HSSC21</td>
<td>1+2</td>
<td>1553</td>
<td>5</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
</tr>
<tr class="even">
<td>R733</td>
<td>1+2</td>
<td>1530</td>
<td>4</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R736</td>
<td>2</td>
<td>1549</td>
<td>4</td>
<td>373</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R736</td>
<td>1</td>
<td>1548</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R737</td>
<td>2</td>
<td>1557</td>
<td>3</td>
<td>463</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R738</td>
<td>2</td>
<td>1559</td>
<td>4</td>
<td>1780</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R740</td>
<td>2</td>
<td>1561</td>
<td>4</td>
<td>1738</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R740</td>
<td>1</td>
<td>1558</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R741</td>
<td>2</td>
<td>1562</td>
<td>2</td>
<td>3894</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>DR 2021</td>
<td>1+2</td>
<td>1556</td>
<td>4</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
</tr>
<tr class="odd">
<td>R742</td>
<td>2</td>
<td>1567</td>
<td>3</td>
<td>2622</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R743</td>
<td>2</td>
<td>1573</td>
<td>4</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R743</td>
<td>1</td>
<td>1572</td>
<td>N/A</td>
<td>N/A</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>EDU113</td>
<td>edu</td>
<td>1569</td>
<td>2</td>
<td>8249</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>GR17</td>
<td>gr</td>
<td>1566</td>
<td>4</td>
<td>4019</td>
<td>1330</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>EDU114</td>
<td>edu</td>
<td>1574</td>
<td>3</td>
<td>1807</td>
<td>1585</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R745</td>
<td>2</td>
<td>1581</td>
<td>3</td>
<td>279</td>
<td>1886</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R745</td>
<td>1</td>
<td>1580</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R746</td>
<td>2</td>
<td>1592</td>
<td>3</td>
<td>550</td>
<td>1928</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R747</td>
<td>2</td>
<td>1594</td>
<td>5</td>
<td>605</td>
<td>1825</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU115</td>
<td>edu</td>
<td>1598</td>
<td>4</td>
<td>581</td>
<td>1825</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R749</td>
<td>1+2</td>
<td>1586</td>
<td>5</td>
<td>349</td>
<td>2284</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
</tr>
<tr class="odd">
<td>R750</td>
<td>2</td>
<td>1582</td>
<td>4</td>
<td>1738</td>
<td>1514</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R754</td>
<td>2</td>
<td>1605</td>
<td>3</td>
<td>869</td>
<td>1787</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R755</td>
<td>1</td>
<td>1588</td>
<td>2</td>
<td>451</td>
<td>1933</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R758</td>
<td>1+2</td>
<td>1608</td>
<td>3</td>
<td>522</td>
<td>2059</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>GR18</td>
<td>gr</td>
<td>1615</td>
<td>3</td>
<td>816</td>
<td>2031</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
</tr>
<tr class="even">
<td>Hello2022</td>
<td></td>
<td>1621</td>
<td>N/A</td>
<td>skip</td>
<td>N/A</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
</tr>
<tr class="odd">
<td>R765</td>
<td>2</td>
<td>1625</td>
<td>4</td>
<td>140</td>
<td>2191</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R766</td>
<td>2</td>
<td>1627</td>
<td>3</td>
<td>1275</td>
<td>1678</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU121</td>
<td>edu</td>
<td>1626</td>
<td>4</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R767</td>
<td>2</td>
<td>1629</td>
<td>4</td>
<td>305</td>
<td>1988</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R767</td>
<td>1</td>
<td>1628</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R768</td>
<td>2</td>
<td>1631</td>
<td>3</td>
<td>2765</td>
<td>1435</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R768</td>
<td>1</td>
<td>1630</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R769</td>
<td>2</td>
<td>1632</td>
<td>3</td>
<td>1620</td>
<td>1661</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU122</td>
<td>edu</td>
<td>1633</td>
<td>4</td>
<td>vp</td>
<td></td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>GR19</td>
<td>gr</td>
<td>1637</td>
<td>4</td>
<td>1047</td>
<td>1975</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
</tr>
<tr class="odd">
<td>R771</td>
<td>2</td>
<td>1638</td>
<td>4</td>
<td>521</td>
<td>1936</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R772</td>
<td>2</td>
<td>1635</td>
<td>5</td>
<td>121</td>
<td>2204</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU123</td>
<td>edu</td>
<td>1644</td>
<td>5</td>
<td>365</td>
<td>1968</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R773</td>
<td>1</td>
<td>1641</td>
<td>2</td>
<td>689</td>
<td>1884</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R777</td>
<td>2</td>
<td>1647</td>
<td>4</td>
<td>549</td>
<td>1908</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R781</td>
<td>2</td>
<td>1665</td>
<td>2</td>
<td>3461</td>
<td>1276</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU126</td>
<td>edu</td>
<td>1661</td>
<td>4</td>
<td>311</td>
<td>2001</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R785</td>
<td>2</td>
<td>1673</td>
<td>3</td>
<td>1368</td>
<td>1624</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EDU128</td>
<td>edu</td>
<td>1680</td>
<td>3</td>
<td>958</td>
<td>1742</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R796</td>
<td>1</td>
<td>1687</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R796</td>
<td>2</td>
<td>1688</td>
<td>5</td>
<td>181</td>
<td>2034</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R801</td>
<td>2</td>
<td>1695</td>
<td>3.5</td>
<td>332</td>
<td>2038</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R802</td>
<td>2</td>
<td>1700</td>
<td>4</td>
<td>240</td>
<td>2044</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R807</td>
<td>2</td>
<td>1705</td>
<td>5</td>
<td>140</td>
<td>2206</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>TON R2</td>
<td>1+2</td>
<td>1704</td>
<td>5</td>
<td>424</td>
<td>2303</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td>ğŸ˜…</td>
<td>ğŸ˜…</td>
<td></td>
</tr>
<tr class="even">
<td>R812</td>
<td>2</td>
<td>1713</td>
<td>4</td>
<td>226</td>
<td>2138</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>R813</td>
<td>2</td>
<td>1712</td>
<td>5</td>
<td>88</td>
<td>2318</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>R815</td>
<td>2</td>
<td>1720</td>
<td>5</td>
<td>287</td>
<td>2042</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‰‘</td>
<td>ğŸ‘€</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>
<h2 id="codeforces-round-670-div.-2">Codeforces Round #670 (Div. 2)</h2>
<p>æ‰“çš„ç¬¬ä¸€åœº CF ç„¶è€Œä¸€é¢˜éƒ½æ²¡åšå‡ºæ¥ã€‚</p>
<h3 id="d---three-sequences">1406D - Three Sequences</h3>
<p>é¢˜æ„ï¼šç»™å®š <span class="math inline">\(a_i\)</span>ï¼Œè¦æ±‚æ„é€ ä¸€ä¸ªä¸å‡åºåˆ— <span class="math inline">\(b_i\)</span> å’Œä¸€ä¸ªä¸å¢åºåˆ— <span class="math inline">\(c_i\)</span> ä½¿å¾— <span class="math inline">\(a_i = b_i + c_i\)</span>ã€‚è¯·æœ€å°åŒ– <span class="math inline">\(\max\{b_i, c_i\}\)</span>ã€‚<span class="math inline">\(q\)</span> æ¬¡æ“ä½œï¼Œæ¯æ¬¡å¯ä»¥å¯¹ <span class="math inline">\(a_l, a_{l + 1},\cdots , a_r\)</span> åŠ ä¸Š <span class="math inline">\(x\)</span>ã€‚é—®æ¯æ¬¡ä¿®æ”¹åçš„æœ€å°çš„ <span class="math inline">\(\max\{b_i, c_i\}\)</span>ã€‚</p>
<p>ä¸€ä¸ªæ¯”è¾ƒå¥‡å¦™çš„è´ªå¿ƒã€‚æˆ‘ä»¬æ³¨æ„åˆ°ç­”æ¡ˆä¸º <span class="math inline">\(\max(b_n, c_1)\)</span>ã€‚è€Œæˆ‘ä»¬å‘ç°ï¼Œå¯¹äº <span class="math inline">\(a_{i + 1} &gt; a_i\)</span>ï¼Œæˆ‘ä»¬è‹¥æ˜¯è°ƒæ•´åœ¨ <span class="math inline">\(c\)</span> ä¸Šï¼Œåˆ™ä¸ä¼˜ï¼›ä½†å¦‚è‹¥è°ƒæ•´ <span class="math inline">\(b\)</span>ï¼Œåˆ™å› ä¸º <span class="math inline">\(b\)</span> é€’å¢ï¼Œæ‰€ä»¥ä»¤ <span class="math inline">\(b_{i + 1} = b_i + a_{i + 1} - a_i\)</span> æ˜¯æœ€ä¼˜çš„ã€‚è€Œ <span class="math inline">\(a_{i + 1} &lt; a_i\)</span> æ—¶ï¼Œæˆ‘ä»¬è‹¥æ˜¯è°ƒæ•´ <span class="math inline">\(c\)</span>ï¼Œåˆ™ <span class="math inline">\(c_{i + 1} = c_i + a_{i +1} - a_i\)</span> æ˜¯æœ€ä¼˜çš„ã€‚</p>
<p>å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<span class="math inline">\(a_1 = b_1 + c_1 = b_n - \sum_{i = 2}^n(b_i - b_{i - 1}) + c_1\)</span>ã€‚æ•…ä»¤ <span class="math inline">\(b_n\)</span> å’Œ <span class="math inline">\(c_1\)</span> å°½é‡æ¥è¿‘æœ€ä¼˜ã€‚ç­”æ¡ˆä¸º <span class="math inline">\(\displaystyle\lceil\frac{a_1 + \sum_{i = 2}^n(b_i - b_{i - 1})}{2}\rceil\)</span>ã€‚</p>
<p>è€Œ <span class="math inline">\(\sum_{i = 2}^n(b_i - b_{i - 1}) = \sum_{i = 2}^n(a_i - a_{i - 1})\cdot[a_i &gt; a_{i - 1}]\)</span>ã€‚è¿™ä¸ªä¸œè¥¿åº”è¯¥æ˜¯å¯ä»¥ <span class="math inline">\(O(1)\)</span> ç»´æŠ¤çš„ã€‚</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e5</span> + <span class="dv">5</span>;</span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3"></a><span class="dt">int</span> n, q;</span>
<span id="cb1-4"><a aria-hidden="true" href="#cb1-4"></a>ll a[maxn], d[maxn];</span>
<span id="cb1-5"><a aria-hidden="true" href="#cb1-5"></a></span>
<span id="cb1-6"><a aria-hidden="true" href="#cb1-6"></a><span class="dt">int</span> main() {</span>
<span id="cb1-7"><a aria-hidden="true" href="#cb1-7"></a>    read(n);</span>
<span id="cb1-8"><a aria-hidden="true" href="#cb1-8"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i]), d[i] = a[i] - a[i - <span class="dv">1</span>];</span>
<span id="cb1-9"><a aria-hidden="true" href="#cb1-9"></a>    ll sum = <span class="dv">0</span>;</span>
<span id="cb1-10"><a aria-hidden="true" href="#cb1-10"></a>    FOR(i, <span class="dv">2</span>, n) <span class="cf">if</span> (d[i] &gt; <span class="dv">0</span>) sum += d[i];</span>
<span id="cb1-11"><a aria-hidden="true" href="#cb1-11"></a>    print((ll)ceil((sum + d[<span class="dv">1</span>]) * <span class="fl">0.5</span>));</span>
<span id="cb1-12"><a aria-hidden="true" href="#cb1-12"></a>    <span class="dt">int</span> q; read(q);</span>
<span id="cb1-13"><a aria-hidden="true" href="#cb1-13"></a>    <span class="cf">while</span> (q--) {</span>
<span id="cb1-14"><a aria-hidden="true" href="#cb1-14"></a>        <span class="dt">int</span> l, r; ll x;</span>
<span id="cb1-15"><a aria-hidden="true" href="#cb1-15"></a>        read(l, r, x), ++r;</span>
<span id="cb1-16"><a aria-hidden="true" href="#cb1-16"></a>        ll dl = d[l], dr = d[r];</span>
<span id="cb1-17"><a aria-hidden="true" href="#cb1-17"></a>        d[l] += x, d[r] -= x;</span>
<span id="cb1-18"><a aria-hidden="true" href="#cb1-18"></a>        <span class="cf">if</span> (l != <span class="dv">1</span>) sum += max(d[l], <span class="dv">0</span><span class="bu">ll</span>) - max(dl, <span class="dv">0</span><span class="bu">ll</span>);</span>
<span id="cb1-19"><a aria-hidden="true" href="#cb1-19"></a>        <span class="cf">if</span> (r != n + <span class="dv">1</span>) sum += max(d[r], <span class="dv">0</span><span class="bu">ll</span>) - max(dr, <span class="dv">0</span><span class="bu">ll</span>);</span>
<span id="cb1-20"><a aria-hidden="true" href="#cb1-20"></a>        print((ll)ceil((sum + d[<span class="dv">1</span>]) * <span class="fl">0.5</span>));</span>
<span id="cb1-21"><a aria-hidden="true" href="#cb1-21"></a>    }</span>
<span id="cb1-22"><a aria-hidden="true" href="#cb1-22"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb1-23"><a aria-hidden="true" href="#cb1-23"></a>}</span></code></pre></div>
<h3 id="e---deleting-numbers">1406E - Deleting Numbers</h3>
<p>äº¤äº’é¢˜ã€‚äº¤äº’åº“ç»™å®šä¸€ä¸ªæ•°å­— <span class="math inline">\(n\)</span>ï¼Œè¦ä½ çŒœä¸€ä¸ªæ•°å­— <span class="math inline">\(x\)</span>ï¼ˆ<span class="math inline">\(1\le x\le n\)</span>ï¼‰ã€‚ä¸€å¼€å§‹ä½ æœ‰ä¸€ä¸ªé›†åˆ <span class="math inline">\(\{1, 2,\cdots, n\}\)</span>ï¼Œä½ å¯ä»¥è¿›è¡Œè‡³å¤š <span class="math inline">\(10000\)</span> æ¬¡æ“ä½œï¼š</p>
<ul>
<li><code>A a</code>ï¼šè¯¢é—®å½“å‰é›†åˆä¸­æœ‰å¤šå°‘æ•°ä¸º <span class="math inline">\(a\)</span> çš„å€æ•°ã€‚</li>
<li><code>B a</code>ï¼šè¯¢é—®å½“å‰é›†åˆä¸­æœ‰å¤šå°‘æ•°ä¸º <span class="math inline">\(a\)</span> çš„å€æ•°ï¼Œå¹¶å°†ä»–ä»¬å…¨éƒ¨åˆ æ‰ã€‚<strong><span class="math inline">\(x\)</span> ä¸ä¼šè¢«åˆ æ‰ã€‚</strong></li>
<li><code>C a</code>ï¼šå‘Šè¯‰äº¤äº’åº“ç­”æ¡ˆä¸º <span class="math inline">\(a\)</span>ã€‚</li>
</ul>
<p><span class="math inline">\(1\le x\le n\le 10^5\)</span>ã€‚</p>
<p>é¦–å…ˆï¼Œæœ‰ä¸€ç§å¾ˆæœ´ç´ çš„æƒ³æ³•æ˜¯æšä¸¾æ¯ä¸ªè´¨æ•°ï¼Œåˆ é™¤å…¶å€æ•°ç„¶ååˆ¤æ–­ <span class="math inline">\(x\)</span> æ˜¯å¦æœ‰è¿™ä¸€ä¸ªè´¨å› å­ <span class="math inline">\(p\)</span>ï¼Œç„¶åå°±ä¾æ¬¡æšä¸¾ <span class="math inline">\(p^k\)</span> å¹¶è¯¢é—® <code>A p^k</code> ç›´åˆ°æ”¶åˆ°çš„ç­”æ¡ˆä¸º <span class="math inline">\(0\)</span>ï¼Œé‚£ä¹ˆ <span class="math inline">\(x\)</span> å°±æœ‰ä¸€éƒ¨åˆ† <span class="math inline">\(p^{k - 1}\)</span>ï¼Œæ ¹æ®å”¯ä¸€åˆ†è§£å®šç†ï¼Œæˆ‘ä»¬è¿™æ ·å­å°±èƒ½ç¡®å®š <span class="math inline">\(x\)</span>ã€‚</p>
<p>ä»¤ <span class="math inline">\(\tau(n)\)</span> ä¸º <span class="math inline">\([1, n]\)</span> ä¸­è´¨æ•°çš„å¹‚çš„æ•°é‡ï¼Œ<span class="math inline">\(\pi(n)\)</span> ä¸º <span class="math inline">\([1, n]\)</span> ä¸­è´¨æ•°ä¸ªæ•°ã€‚å‘ç° <span class="math inline">\(\pi(10^5) = 9592\)</span>ï¼Œ<span class="math inline">\(\tau(10^5) = 9700\)</span>ã€‚ä¸Šé¢è¿™ä¸ªåšæ³•çš„è¯¢é—®æ¬¡æ•°ä¸º <span class="math inline">\(\pi(n) + \tau(n) + 1\)</span>ï¼Œæ˜¾ç„¶è¦å¯„ã€‚</p>
<p>è€ƒè™‘ä¼˜åŒ–ã€‚ä¸€ä¸ªå¾ˆå¸¸è§çš„ç»“è®ºæ˜¯ï¼Œè€ƒè™‘æ ¹å·åˆ†æ²»ï¼Œå°†è´¨å› å­åˆ†ä¸º <span class="math inline">\(\le \sqrt n\)</span> å’Œ <span class="math inline">\(&gt;\sqrt n\)</span> ä¸¤éƒ¨åˆ†ï¼Œåˆ™ <span class="math inline">\(&gt; \sqrt n\)</span> çš„ä¸€å®šåªæœ‰ä¸€ä¸ªã€‚</p>
<p>å¯¹äº <span class="math inline">\(\le \sqrt n\)</span> çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ä¸Šé¢çš„æ–¹æ³•æš´åŠ›ï¼Œæ“ä½œæ¬¡æ•°ä¸º <span class="math inline">\(\pi(\sqrt n) + \tau(\sqrt n)\le 238\)</span>ã€‚å¯¹äº <span class="math inline">\(&gt; \sqrt n\)</span> çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬è€ƒè™‘åˆ†å—ï¼Œæ¯æ¬¡åˆ  <span class="math inline">\(100\)</span> ä¸ªè´¨æ•°ï¼Œåˆ äº†ä¹‹åè¯¢é—®è¢«åˆ æ‰çš„æ•°æ˜¯å¦ä¸º <span class="math inline">\(100\)</span> ä¸ªï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆç›´æ¥æš´åŠ›æ‰¾è¿™ä¸ª <span class="math inline">\(&gt;\sqrt n\)</span> çš„è´¨å› å­å°±èƒ½å¾—åˆ°ç­”æ¡ˆäº†ã€‚</p>
<p>ç»†èŠ‚æœ‰ç‚¹çƒ¦äººï¼Œä¸€å®šè¦å°å¿ƒã€‚</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e5</span> + <span class="dv">5</span>;</span>
<span id="cb2-2"><a aria-hidden="true" href="#cb2-2"></a><span class="dt">int</span> vis[maxn], p[maxn], tot, n;</span>
<span id="cb2-3"><a aria-hidden="true" href="#cb2-3"></a></span>
<span id="cb2-4"><a aria-hidden="true" href="#cb2-4"></a><span class="dt">int</span> ask(<span class="dt">int</span> a, <span class="dt">char</span> c) {</span>
<span id="cb2-5"><a aria-hidden="true" href="#cb2-5"></a>    cout &lt;&lt; c &lt;&lt; <span class="ch">' '</span> &lt;&lt; a &lt;&lt; endl &lt;&lt; flush;</span>
<span id="cb2-6"><a aria-hidden="true" href="#cb2-6"></a>    <span class="dt">int</span> x; cin &gt;&gt; x;</span>
<span id="cb2-7"><a aria-hidden="true" href="#cb2-7"></a>    <span class="cf">return</span> x;</span>
<span id="cb2-8"><a aria-hidden="true" href="#cb2-8"></a>}</span>
<span id="cb2-9"><a aria-hidden="true" href="#cb2-9"></a></span>
<span id="cb2-10"><a aria-hidden="true" href="#cb2-10"></a><span class="dt">int</span> main() {</span>
<span id="cb2-11"><a aria-hidden="true" href="#cb2-11"></a>    cin &gt;&gt; n;</span>
<span id="cb2-12"><a aria-hidden="true" href="#cb2-12"></a>    FOR(i, <span class="dv">2</span>, n) {</span>
<span id="cb2-13"><a aria-hidden="true" href="#cb2-13"></a>        <span class="cf">if</span> (!vis[i]) p[++tot] = i;</span>
<span id="cb2-14"><a aria-hidden="true" href="#cb2-14"></a>        <span class="cf">for</span> (<span class="dt">int</span> j = <span class="dv">1</span>; i * p[j] &lt;= n; ++j) {</span>
<span id="cb2-15"><a aria-hidden="true" href="#cb2-15"></a>            vis[i * p[j]] = <span class="dv">1</span>;</span>
<span id="cb2-16"><a aria-hidden="true" href="#cb2-16"></a>            <span class="cf">if</span> (i % p[j] == <span class="dv">0</span>) <span class="cf">break</span>;</span>
<span id="cb2-17"><a aria-hidden="true" href="#cb2-17"></a>        }</span>
<span id="cb2-18"><a aria-hidden="true" href="#cb2-18"></a>    }</span>
<span id="cb2-19"><a aria-hidden="true" href="#cb2-19"></a>    <span class="dt">int</span> B = (<span class="dt">int</span>)ceil(sqrt(<span class="fl">1e5</span>)), ans = <span class="dv">1</span>, i;</span>
<span id="cb2-20"><a aria-hidden="true" href="#cb2-20"></a>    <span class="cf">for</span> (i = <span class="dv">1</span>; i &lt;= tot &amp;&amp; p[i] &lt;= B; ++i) {</span>
<span id="cb2-21"><a aria-hidden="true" href="#cb2-21"></a>        ask(p[i], <span class="ch">'B'</span>);</span>
<span id="cb2-22"><a aria-hidden="true" href="#cb2-22"></a>        <span class="dt">int</span> tmp = p[i], flag = ask(p[i], <span class="ch">'A'</span>);</span>
<span id="cb2-23"><a aria-hidden="true" href="#cb2-23"></a>        <span class="cf">while</span> (flag &amp;&amp; (tmp *= p[i]) &lt;= n) flag = ask(tmp, <span class="ch">'A'</span>);</span>
<span id="cb2-24"><a aria-hidden="true" href="#cb2-24"></a>        ans *= tmp / p[i];</span>
<span id="cb2-25"><a aria-hidden="true" href="#cb2-25"></a>    }</span>
<span id="cb2-26"><a aria-hidden="true" href="#cb2-26"></a>    <span class="cf">for</span> (i; i &lt;= tot; i += <span class="dv">98</span>) {</span>
<span id="cb2-27"><a aria-hidden="true" href="#cb2-27"></a>        <span class="dt">int</span> cnt0 = ask(<span class="dv">1</span>, <span class="ch">'A'</span>), r = min(i + <span class="dv">97</span>, tot);</span>
<span id="cb2-28"><a aria-hidden="true" href="#cb2-28"></a>        FOR(j, i, r) cnt0 -= ask(p[j], <span class="ch">'B'</span>);</span>
<span id="cb2-29"><a aria-hidden="true" href="#cb2-29"></a>        <span class="dt">int</span> cnt1 = ask(<span class="dv">1</span>, <span class="ch">'A'</span>);</span>
<span id="cb2-30"><a aria-hidden="true" href="#cb2-30"></a>        <span class="cf">if</span> (cnt0 != cnt1) {</span>
<span id="cb2-31"><a aria-hidden="true" href="#cb2-31"></a>            FOR(j, i, r) {</span>
<span id="cb2-32"><a aria-hidden="true" href="#cb2-32"></a>                <span class="cf">if</span> (ask(p[j], <span class="ch">'A'</span>)) {</span>
<span id="cb2-33"><a aria-hidden="true" href="#cb2-33"></a>                    ans *= p[j];</span>
<span id="cb2-34"><a aria-hidden="true" href="#cb2-34"></a>                    <span class="cf">break</span>;</span>
<span id="cb2-35"><a aria-hidden="true" href="#cb2-35"></a>                }</span>
<span id="cb2-36"><a aria-hidden="true" href="#cb2-36"></a>            }</span>
<span id="cb2-37"><a aria-hidden="true" href="#cb2-37"></a>            <span class="cf">break</span>;</span>
<span id="cb2-38"><a aria-hidden="true" href="#cb2-38"></a>        }</span>
<span id="cb2-39"><a aria-hidden="true" href="#cb2-39"></a>    }</span>
<span id="cb2-40"><a aria-hidden="true" href="#cb2-40"></a>    cout &lt;&lt; <span class="st">"C "</span> &lt;&lt; ans &lt;&lt; endl &lt;&lt; flush;</span>
<span id="cb2-41"><a aria-hidden="true" href="#cb2-41"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb2-42"><a aria-hidden="true" href="#cb2-42"></a>}</span></code></pre></div>
<h2 id="codeforces-round-698">Codeforces Round 698</h2>
<h3 id="a---nezzar-and-board">1477A - Nezzar and Board</h3>
<p>ä¸€å¼€å§‹é»‘æ¿ä¸Šå†™ç€ <span class="math inline">\(n\le 2\times 10^5\)</span> ä¸ªä¸åŒæ•´æ•°ï¼Œç»™å®š <span class="math inline">\(k\)</span>ï¼Œä¸€æ¬¡æ“ä½œå¯ä»¥ä»»æ„é€‰ä¸¤ä¸ªï¼ˆä¸ä¸€å®šäº’å¼‚çš„æ•°ï¼‰<span class="math inline">\(x,y\)</span> ç„¶ååœ¨é»‘æ¿ä¸ŠåŠ ä¸Š <span class="math inline">\(2x-y\)</span>ï¼Œé—®æœ‰é™æ¬¡æ“ä½œåèƒ½å¦å¾—åˆ° <span class="math inline">\(k\)</span>ã€‚å€¼åŸŸ <span class="math inline">\([-10^{18}, 10^{18}]\)</span>ã€‚</p>
<p>å‘ç°æœ€åå½¢å¼å¾ˆåƒæ˜¯ä¸€ä¸ªåˆ¤æ–­æ»¡è¶³æŸç§æ¡ä»¶çš„çº¿æ€§ç»„åˆèƒ½ä¸èƒ½å¾—åˆ° <span class="math inline">\(k\)</span> çš„é—®é¢˜ï¼Œå³è£´èœ€å®šç†ã€‚</p>
<p>å‘ç°å½“ <span class="math inline">\(x_1 = 0\)</span> çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä»»æ„æ„é€  <span class="math inline">\(x_i\)</span> çš„å€æ•°ï¼Œæ‰€ä»¥å½“ <span class="math inline">\(\gcd(x_2,\cdots, x_n)\mid k\)</span> çš„æ—¶å€™æœ‰è§£ã€‚</p>
<p>å¯¹äº <span class="math inline">\(x_1\ne 0\)</span> çš„æƒ…å†µï¼Œå°±å°† <span class="math inline">\(x_2,\cdots, x_n, k\)</span> å…¨éƒ¨å‡å» <span class="math inline">\(x_1\)</span>ï¼Œæ ¹æ® <span class="math inline">\(2x-y\)</span> çš„è¿‡ç¨‹ä¼šå‘ç° <span class="math inline">\(-x_1\)</span> çš„åç§»é‡æ˜¯ä¸€ç›´å¸¦ç€èµ°çš„ï¼Œæ²¡æœ‰å½±å“ã€‚</p>
<p>å½“ç„¶ Asd_Okuu æ•™è‚²äº†å¦ä¸€ç§æ€è·¯ï¼šè€ƒè™‘ <span class="math inline">\(z = 2x - y\)</span> çš„è¿‡ç¨‹æ˜¯åœ¨æ•°è½´ä¸Šåšè½´å¯¹ç§°ï¼ˆé’¦å®š <span class="math inline">\(y&gt;x\)</span>ï¼‰ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ <span class="math inline">\(z\equiv x\pmod{(y-x)}\)</span>ï¼Œå³æˆ‘ä»¬å¯ä»¥ç”¨é•¿åº¦ä¸º <span class="math inline">\(y-x\)</span> çš„æ®µæ¥è¦†ç›–ã€‚æ‰€ä»¥è‹¥å­˜åœ¨ä¸¤ä¸ªæ®µçš„é•¿åº¦åˆ†åˆ«ä¸º <span class="math inline">\(a,b\)</span>ï¼Œä¸” <span class="math inline">\(\gcd(a,b) = 1\)</span>ï¼Œé‚£ä¹ˆè¿™äº›æ®µçº¿æ€§ç»„åˆèµ·æ¥æ˜¯å¯ä»¥æŠŠæ•°è½´ä¸Šæ‰€æœ‰ç‚¹å¹²ç¢çš„ï¼Œå…¶å®ä¹Ÿå°±æ˜¯è£´èœ€å®šç†äº†ã€‚</p>
<p>æ‰€ä»¥å°†æ‰€æœ‰æ•°æ’ä¸ªåºï¼Œå°†å·®åˆ†åš <span class="math inline">\(\gcd\)</span>ï¼Œå‘ç°è¿™æ ·æ˜¯å……åˆ†çš„ï¼Œæå®šäº†ã€‚</p>
<h3 id="b---nezzar-and-binary-string">1477B - Nezzar and Binary String</h3>
<p>ä¸€ä¸ª 0-1 ä¸² <span class="math inline">\(S\)</span>ï¼Œéœ€è¦æ»¡è¶³ç¬¬ <span class="math inline">\(i\)</span> å¤©æ—¶ <span class="math inline">\([l_i,r_i]\)</span> å†…ä¸åŒæ—¶å« 0 å’Œ 1ï¼Œç¬¬ <span class="math inline">\(i\)</span> å¤©ç»“æŸæ—¶å¯ä»¥æ”¹å˜é‡Œé¢<strong>å°‘äº</strong> <span class="math inline">\((r_i - l_1 + 1) / 2\)</span> ä¸ªå­—ç¬¦ï¼ŒåŒæ—¶éœ€è¦ <span class="math inline">\(q\)</span> å¤©ç»“æŸåå˜æˆ <span class="math inline">\(T\)</span>ï¼Œé—®èƒ½å¦è¾¾æˆã€‚æ•°æ®èŒƒå›´ <span class="math inline">\(2\times 10^5\)</span>ã€‚</p>
<p>æ­£ç€åšå¤ªéš¾äº†ï¼Œå€’ç€æ¥å§ã€‚å€’ç€æ¥å°±ç›¸å½“äºæ˜¯å¡«å¹³åŒºé—´ï¼Œè‹¥é‡Œé¢ <span class="math inline">\(0\)</span> ä¸ªæ•°ç­‰äº <span class="math inline">\(1\)</span> ä¸ªæ•°å°±ä¸å¯ä»¥ï¼Œå¦åˆ™å¾€æ”¹åŠ¨å°‘çš„é‚£ä¸ªå»æ”¹ï¼Œå°±å®Œäº‹äº†ã€‚ã€‚ã€‚ã€‚ã€‚æ‹¿ä¸ªåˆ†å—æˆ–è€…çº¿æ®µæ ‘ç»´æŠ¤å°±è¡Œäº†ã€‚</p>
<h3 id="c---nezzar-and-nice-beatmap">1477C - Nezzar and Nice Beatmap</h3>
<p>ç»™å®šå¹³é¢ç›´è§’åæ ‡ç³»ä¸Šçš„ <span class="math inline">\(n\)</span> ä¸ªç‚¹ <span class="math inline">\(A_1,A_2,\dots,A_n\)</span> ï¼Œæ±‚ä¸€ä¸ªæ’åˆ— <span class="math inline">\(p_1,p_2,\dots,p_n\)</span> ä½¿å¾—å¯¹äºä»»æ„ä¸€ä¸ª $i(1,n),i$ éƒ½æœ‰ <span class="math inline">\(\angle A_{p_i-1} A_{p_i} A_{p_i+1} &lt; \dfrac{\pi}{2}\)</span> ã€‚è‹¥æ— è§£ï¼Œè¾“å‡º <span class="math inline">\(-1\)</span> ï¼Œè‹¥æœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¾“å‡ºä»»æ„ä¸€ä¸ªå³å¯ã€‚<span class="math inline">\(3 \leq n \leq 5000,\ -10^9\leq x_i,y_i \leq 10^9\)</span>ã€‚</p>
<p>æ‰‹ç©ä¸€ä¸‹å‘ç°è§£ä¸€å®šå­˜åœ¨ï¼Œè€Œä¸”ä¼¼ä¹æ¯æ¬¡é€‰æœ€è¿œçš„ç‚¹å°±å¯ä»¥äº†ï¼Œç»“æœçœŸçš„å°±æ˜¯è¿™æ ·ï¼Œé€‰å‡ºé’è§’çš„æ—¶å€™æˆ‘ä»¬æ€»å¯ä»¥é€šè¿‡é€‰æ›´é•¿çš„è¾¹æ¥è§£å†³é’è§’çš„é—®é¢˜ã€‚</p>
<h2 id="codeforces-round-700">Codeforces Round 700</h2>
<h3 id="b---painting-the-array">1479B - Painting the Array</h3>
<p>ç»™å®šæ•°ç»„ <span class="math inline">\(a\)</span>ï¼Œä½ å°†å°† <span class="math inline">\(a_i\)</span> æŸ“æˆ <span class="math inline">\(b_i\)</span> è‰²ï¼Œå…¶ä¸­ <span class="math inline">\(b\)</span> ä¸ºä½ æŒ‡å®šçš„ <span class="math inline">\(0/1\)</span> æ•°ç»„ï¼Œå°† <span class="math inline">\(a\)</span> ä¸­è¢«æŸ“æˆ <span class="math inline">\(0\)</span> è‰²çš„æ•°å­—å–å‡ºæ¥æŒ‰åŸé¡ºåºæ’æˆ <span class="math inline">\(a^{(0)}\)</span>ï¼ŒæŸ“æˆ <span class="math inline">\(1\)</span> è‰²çš„æ’æˆ <span class="math inline">\(a^{(1)}\)</span>ï¼Œå®šä¹‰ <span class="math inline">\(seg(a)\)</span> ä¸º <span class="math inline">\(a\)</span> ä¸­è¿ç»­æ®µçš„ä¸ªæ•°ï¼Œæ±‚ <span class="math inline">\(seg(a^{(0)}) + seg(a^{(1)})\)</span> çš„æœ€å¤§å€¼/æœ€å°å€¼ï¼ˆåˆ†åˆ«å¯¹åº” B1/B2ï¼‰ï¼Œæ•°æ®èŒƒå›´ <span class="math inline">\(10^5\)</span>ã€‚</p>
<p>é«˜å¦™è´ªå¿ƒçœŸçš„ä¸æ˜¯å¾ˆç©å¾—èµ·ï¼Œè€ƒè™‘ dpã€‚ä»¤ <span class="math inline">\(f_{i,a,b}\)</span> è¡¨ç¤ºå¡«äº† <span class="math inline">\([1,i]\)</span>ï¼Œç¬¬ä¸€ä¸ªåºåˆ—æœ«å°¾ä¸º <span class="math inline">\(a\)</span>ï¼Œç¬¬äºŒä¸ªåºåˆ—æœ«å°¾ä¸º <span class="math inline">\(b\)</span> çš„æœ€å¤§/æœ€å°ç­”æ¡ˆã€‚å‘ç°å¯ä»¥å¹²æ‰ä¸€ç»´å› ä¸ºå¿…ç„¶æœ‰ä¸€ç»´æ˜¯ <span class="math inline">\(a_i\)</span>ã€‚äºæ˜¯å˜æˆäº† <span class="math inline">\(f_{i,x}\)</span> è¡¨ç¤ºå¡«å®Œ <span class="math inline">\([1,i]\)</span>ï¼Œåˆ†åˆ«çš„æœ«å°¾ä¸º <span class="math inline">\(a_i\)</span> å’Œ <span class="math inline">\(x\)</span>ï¼Œèƒ½è¾¾åˆ°çš„æœ€å¤§/æœ€å°ç­”æ¡ˆã€‚</p>
<p>é‚£ä¹ˆæœ‰è½¬ç§» <span class="math display">\[
\begin{aligned}
f_{i, a_{i-1}} &amp;\leftarrow f_{i-1,x} + 1&amp;a_i \ne x\\
f_{i,a_{i-1}}&amp;\leftarrow f_{i-1,x}&amp;a_i=x\\
f_{i,x}&amp;\leftarrow f_{i-1,x} + 1&amp;a_i\ne a_{i-1}\\
f_{i,x}&amp;\leftarrow f_{i-1,x}&amp;a_i=a_{i-1}
\end{aligned}
\]</span> è¿™ä¸ªä¸œè¥¿å¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘ç»´æŠ¤ï¼Œå¤§éƒ¨åˆ†çš„è½¬ç§»éƒ½æ˜¯å¹³å‡¡çš„ <span class="math inline">\(+1\)</span>ï¼Œå†™ä¸€ä¸ªåŒºé—´åŠ åŒºé—´æœ€å€¼çš„çº¿æ®µæ ‘å³å¯ï¼Œ<span class="math inline">\(O(n\log n)\)</span> å¸¦èµ°ã€‚</p>
<p>å½“ç„¶é«˜å¦™è´ªå¿ƒä¹Ÿæ˜¯æœ‰æ„æ€çš„â€”â€”çœ‹æ ¹æ®ä¸¤è¾¹é˜Ÿå°¾çš„ <span class="math inline">\(nxt\)</span> æ¥é€‰æ‹©ï¼Œæ„Ÿè§‰éå¸¸çš„ç‰›é€¼ã€‚</p>
<h3 id="c---continuous-city">1479C - Continuous City</h3>
<p>ç»™å®š <span class="math inline">\(1\le L\le R\le 10^6\)</span>ï¼Œæ„é€ ä¸€ä¸ªæœ‰å‘å¸¦æƒå›¾ã€‚è¦æ±‚ <span class="math inline">\(n\le 32\)</span>ï¼Œä¸”æ‰€æœ‰è¾¹éƒ½ä»ç¼–å·å°çš„ç‚¹æŒ‡å‘ç¼–å·å¤§çš„ç‚¹ï¼Œæ­¤å¤–è¿˜è¦æ±‚ <span class="math inline">\(1\to n\)</span> çš„æ‰€æœ‰è·¯å¾„æƒå€¼éƒ½åœ¨ <span class="math inline">\([L, R]\)</span> å†…ä¸”ä¸å­˜åœ¨ <span class="math inline">\(x\in[L,R]\)</span> ä½¿å¾—ä¸å­˜åœ¨æˆ–å¤šäºä¸€æ¡ <span class="math inline">\(1\to n\)</span> çš„è·¯å¾„çš„æƒå€¼ä¸º <span class="math inline">\(x\)</span>ã€‚æˆ–è¯´æ˜æ— è§£ã€‚</p>
<p>è¯´äººè¯å°±æ˜¯ <span class="math inline">\(1\to n\)</span> çš„è·¯å¾„éœ€è¦æ°å¥½æœ‰ <span class="math inline">\(R - L + 1\)</span> æ¡å¹¶ä¸”æƒå€¼åˆšå¥½è¦†ç›–äº† <span class="math inline">\([L,R]\)</span> çš„åŒºé—´ã€‚</p>
<p><span class="math inline">\(n\le 32\)</span> æœ‰ç‚¹äºŒè¿›åˆ¶çš„æ„æ€ï¼Ÿè€ƒè™‘æ„é€  <span class="math inline">\([1, 2^{k}]\)</span> çš„ç­”æ¡ˆï¼Œä»¤ç»è¿‡ <span class="math inline">\(i\)</span> å·ç‚¹è¡¨ç¤ºé€‰ä¸Š <span class="math inline">\(2^{i-2}\)</span>ï¼Œå°† <span class="math inline">\(i\)</span> å·ç‚¹å‘åé¢æ‰€æœ‰è¾¹è¿ä¸Šæƒä¸º <span class="math inline">\(2^{i-2}\)</span> çš„è¾¹ï¼Œå†ä» <span class="math inline">\(1\)</span> å‘åé¢æ‰€æœ‰ç‚¹è¿æƒä¸º <span class="math inline">\(1\)</span> çš„è¾¹ï¼Œé‚£ä¹ˆä» <span class="math inline">\(1\)</span> åˆ° <span class="math inline">\(k+2\)</span> çš„æ‰€æœ‰è·¯å¾„å°±éƒ½å¯¹åº”äº† <span class="math inline">\([1,2^k]\)</span> é‡Œé¢çš„æ¯ä¸€ä¸ªæ•°ã€‚</p>
<p>å¯¹äº <span class="math inline">\(R\ne 2^k\)</span> çš„æƒ…å†µï¼Œä»¤å…¶ä¸º <span class="math inline">\(2^k + t\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(2^{k+1}&gt;R\)</span>ã€‚åˆšæ‰çš„å›¾ä¸­æœ‰ä¸€ä¸ªæ€§è´¨ï¼Œå°±æ˜¯å¯¹äº <span class="math inline">\(i\)</span> å·ç‚¹ï¼ˆ<span class="math inline">\(i&gt;1\)</span>ï¼‰ï¼Œ<span class="math inline">\(1\to i\)</span> çš„æ‰€æœ‰è·¯å¾„é‡Œé¢æ˜¯æ°å¥½è¦†ç›–äº† <span class="math inline">\([1, 2^{i-2}]\)</span> çš„ã€‚å¹¶ä¸”è‹¥æˆ‘ä»¬ä»¤ <span class="math inline">\(R\)</span> çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º <span class="math inline">\((R_kR_{k-1}\cdots R_1R_0)_2\)</span>ï¼Œåˆ™å¯¹äº <span class="math inline">\(R_j=1\)</span>ï¼Œå°†è¯¥ä½è®¾ä¸º <span class="math inline">\(0\)</span> çš„è¯ä½ä½å°±å¯ä»¥ä»»æ„è¦†ç›–çš„ã€‚</p>
<p>å°±ä¾‹å¦‚ <span class="math inline">\(R = (111010)_2\)</span>ï¼Œå…³æ³¨ <span class="math inline">\(R_3 = 1\)</span>ï¼Œå‘ç° <span class="math inline">\([(110000)_2, (110111)_2]\)</span> éƒ½æ˜¯å¯ä»¥å–åˆ°çš„ï¼ˆç¬¬ <span class="math inline">\(0\)</span> åˆ° <span class="math inline">\(2\)</span> ä½ä»»æ„å–ï¼‰ï¼Œè¿™å¯å‘æˆ‘ä»¬ä» <span class="math inline">\(j+2\)</span> å·ç‚¹è¿è¾¹å‘ä¸€ä¸ªæ–°ç‚¹ <span class="math inline">\(k+3\)</span>ï¼Œè¾¹æƒä¸ºæ›´é«˜ä½ä¸Šçš„å€¼ä¹‹ç±»çš„æƒ³æ³•ã€‚ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€äº›ç»†èŠ‚ä¸Šçš„é—æ¼ï¼Œå› ä¸ºå½¢å¦‚ <span class="math inline">\((110000)_2\)</span> å°±æ˜¯æ²¡èƒ½è¦†ç›–åˆ°çš„ï¼Œå› ä¸º <span class="math inline">\(j+2\)</span> å·ç‚¹è¦†ç›–çš„æ˜¯ <span class="math inline">\([1, 2^{j}]\)</span>ï¼Œæœ‰ä¸€ä¸ª <span class="math inline">\(0\)</span> çš„ä¸‹ç•Œæ²¡è¢«è¦†ç›–ï¼Œè€Œ <span class="math inline">\(2^{j}\)</span> çš„ä¸Šç•Œåˆæ°å¥½å¤šè¦†ç›–äº†ä¸€ä½ã€‚</p>
<p>è¿™å¯å‘æˆ‘ä»¬ <span class="math inline">\(R\leftarrow R - 1\)</span>ï¼Œè¿™æ ·å­å°±åˆšå¥½æŠŠä¸Šè¿°é—®é¢˜å…¨éƒ¨ä¿®å¤äº†ï¼Œ<span class="math inline">\(1\to k+3\)</span> çš„æ‰€æœ‰è·¯å¾„å°±èƒ½è¦†ç›–æ•´ä¸ªåŒºé—´äº†ã€‚è€Œå¯¹äº <span class="math inline">\(L\ne 1\)</span>ï¼Œç›´æ¥å¹³ç§» <span class="math inline">\(L - 1\)</span>ï¼Œæ–°å¼€ä¸€ä¸ªèŠ‚ç‚¹å†æ¥ä¸Šå»å³å¯ã€‚</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb3-2"><a aria-hidden="true" href="#cb3-2"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb3-3"><a aria-hidden="true" href="#cb3-3"></a></span>
<span id="cb3-4"><a aria-hidden="true" href="#cb3-4"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb3-5"><a aria-hidden="true" href="#cb3-5"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e6</span> + <span class="dv">5</span>;</span>
<span id="cb3-6"><a aria-hidden="true" href="#cb3-6"></a>vector&lt;tuple&lt;<span class="dt">int</span>, <span class="dt">int</span>, <span class="dt">int</span>&gt;&gt; ans;</span>
<span id="cb3-7"><a aria-hidden="true" href="#cb3-7"></a><span class="dt">int</span> l, r, n;</span>
<span id="cb3-8"><a aria-hidden="true" href="#cb3-8"></a></span>
<span id="cb3-9"><a aria-hidden="true" href="#cb3-9"></a><span class="dt">int</span> main() {</span>
<span id="cb3-10"><a aria-hidden="true" href="#cb3-10"></a>    cin &gt;&gt; l &gt;&gt; r;</span>
<span id="cb3-11"><a aria-hidden="true" href="#cb3-11"></a>    r = r - l + <span class="dv">1</span>;</span>
<span id="cb3-12"><a aria-hidden="true" href="#cb3-12"></a>    <span class="dt">int</span> k = <span class="dv">31</span> - <span class="fu">__builtin_clz</span>(r); <span class="co">// æœ€é«˜ä½</span></span>
<span id="cb3-13"><a aria-hidden="true" href="#cb3-13"></a>    n = k + <span class="dv">2</span>;</span>
<span id="cb3-14"><a aria-hidden="true" href="#cb3-14"></a>    FOR(i, <span class="dv">0</span>, k) FOR(j, i + <span class="dv">1</span>, k) ans.emplace_back(i + <span class="dv">2</span>, j + <span class="dv">2</span>, <span class="dv">1</span> &lt;&lt; i);</span>
<span id="cb3-15"><a aria-hidden="true" href="#cb3-15"></a>    FOR(i, <span class="dv">0</span>, k) ans.emplace_back(<span class="dv">1</span>, i + <span class="dv">2</span>, <span class="dv">1</span>);</span>
<span id="cb3-16"><a aria-hidden="true" href="#cb3-16"></a>    <span class="cf">if</span> (<span class="fu">__builtin_popcount</span>(r) &gt; <span class="dv">1</span>) {</span>
<span id="cb3-17"><a aria-hidden="true" href="#cb3-17"></a>        --r, ans.emplace_back(<span class="dv">1</span>, ++n, <span class="dv">1</span>);</span>
<span id="cb3-18"><a aria-hidden="true" href="#cb3-18"></a>        FOR(i, <span class="dv">0</span>, k) <span class="cf">if</span> ((<span class="dv">1</span> &lt;&lt; i) &amp; r) {</span>
<span id="cb3-19"><a aria-hidden="true" href="#cb3-19"></a>            <span class="dt">int</span> tmp = <span class="dv">0</span>;</span>
<span id="cb3-20"><a aria-hidden="true" href="#cb3-20"></a>            FOR(j, i + <span class="dv">1</span>, k) tmp |= ((<span class="dv">1</span> &lt;&lt; j) &amp; r);</span>
<span id="cb3-21"><a aria-hidden="true" href="#cb3-21"></a>            ans.emplace_back(i + <span class="dv">2</span>, n, <span class="dv">1</span> + tmp);</span>
<span id="cb3-22"><a aria-hidden="true" href="#cb3-22"></a>        }</span>
<span id="cb3-23"><a aria-hidden="true" href="#cb3-23"></a>    }</span>
<span id="cb3-24"><a aria-hidden="true" href="#cb3-24"></a>    <span class="cf">if</span> (l != <span class="dv">1</span>) ans.emplace_back(n, n + <span class="dv">1</span>, l - <span class="dv">1</span>), ++n;</span>
<span id="cb3-25"><a aria-hidden="true" href="#cb3-25"></a>    cout &lt;&lt; <span class="st">"YES</span><span class="sc">\n</span><span class="st">"</span> &lt;&lt; n &lt;&lt; <span class="ch">' '</span> &lt;&lt; ans.size() &lt;&lt; endl;</span>
<span id="cb3-26"><a aria-hidden="true" href="#cb3-26"></a>    <span class="cf">for</span> (<span class="kw">auto</span> &amp;x : ans) {</span>
<span id="cb3-27"><a aria-hidden="true" href="#cb3-27"></a>        <span class="dt">int</span> i, j, k; tie(i, j, k) = x;</span>
<span id="cb3-28"><a aria-hidden="true" href="#cb3-28"></a>        cout &lt;&lt; i &lt;&lt; <span class="ch">' '</span> &lt;&lt; j &lt;&lt; <span class="ch">' '</span> &lt;&lt; k &lt;&lt; endl;</span>
<span id="cb3-29"><a aria-hidden="true" href="#cb3-29"></a>    }</span>
<span id="cb3-30"><a aria-hidden="true" href="#cb3-30"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb3-31"><a aria-hidden="true" href="#cb3-31"></a>}</span></code></pre></div>
<h3 id="d---odd-mineral-resource">1479D - Odd Mineral Resource</h3>
<p>ç»™å®šä¸€æ£µæ ‘ï¼Œæ¯ä¸ªç‚¹æœ‰é¢œè‰² <span class="math inline">\(c_i\)</span>ã€‚å¤šæ¬¡æŸ¥è¯¢ï¼Œç»™å®š <span class="math inline">\(u,v,l,r\)</span>ï¼Œæ±‚ä¸€ä¸ªé¢œè‰² <span class="math inline">\(x\)</span> ä½¿å¾— <span class="math inline">\(x\in[l,r]\)</span> ä¸” <span class="math inline">\(x\)</span> åœ¨è·¯å¾„ <span class="math inline">\((u,v)\)</span> ä¸Šå‡ºç°äº†å¥‡æ•°æ¬¡ã€‚æ•°æ®èŒƒå›´ <span class="math inline">\(3\times 10^5\)</span>ï¼Œ5sã€‚</p>
<p>æ ¹å·åšæ³•è§<a href="/summary-ds4/">è¿™é‡Œ</a>ï¼Œè¿™é‡Œè¯´ä¸€ä¸‹éšæœºåŒ–çš„å• <span class="math inline">\(\log\)</span> ç®—æ³•ã€‚</p>
<p>è€ƒè™‘åˆ°å‡ºç°å¶æ•°æ¬¡ä¸è€ƒè™‘çš„é™åˆ¶å¾ˆåƒå¼‚æˆ–ï¼Œé‚£ä¹ˆå¦‚æœè®¾è·¯å¾„ <span class="math inline">\((u,v)\)</span> ä¸Š <span class="math inline">\([l,r]\)</span> é¢œè‰²çš„å¼‚æˆ–å’Œä¸º <span class="math inline">\(f(u,v,l,r)\)</span> çš„è¯ï¼Œè‹¥å…¶å¼‚æˆ–èµ·æ¥ä¸º <span class="math inline">\(0\)</span> èƒ½æè¿°è·¯å¾„ä¸Šæ²¡æœ‰å‡ºç°å¥‡æ•°æ¬¡çš„è¯ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸»å¸­æ ‘ + äºŒåˆ†æ¥å• <span class="math inline">\(\log\)</span> æŸ¥è¯¢ã€‚</p>
<p>æ‰€ä»¥è€ƒè™‘å°†æ¯ç§é¢œè‰²åœ¨ <span class="math inline">\([0,2^{64})\)</span> å†…éšæœºé‡æ–°èµ‹å€¼ï¼Œè¿™æ ·å­å‡ºé”™çš„æ¦‚ç‡æä½ï¼ˆä¸º <span class="math inline">\(2^{-64}q\)</span>ï¼Œæ¥è¿‘ä¸º <span class="math inline">\(0\)</span>ï¼‰ã€‚</p>
<p>å¥—è·¯åœ°ï¼Œå°† <span class="math inline">\(f(u,v,l,r)\)</span> æ‹†åˆ†ä¸º <span class="math inline">\(f(1,u,l,r)\oplus f(1,v,l,r)\oplus f(1,\mathrm{LCA}, l,r)\oplus f(1,\mathrm{fa}_{\mathrm{LCA}}, l, r)\)</span>ï¼Œä½¿ç”¨ä¸»å¸­æ ‘ç»´æŠ¤ <span class="math inline">\(f(1, u, l, r)\)</span> ç„¶åå››è·¯åŒæ—¶äºŒåˆ†å³å¯ã€‚</p>
<h2 id="codeforces-round-701-div.-2">Codeforces Round #701 (Div. 2)</h2>
<p>VP on 22/07/14ã€‚A + C + Dã€‚</p>
<h3 id="e---move-and-swap">1485E - Move and Swap</h3>
<p>æœ‰ä¸€æ£µæ ‘ï¼Œä»¥ <span class="math inline">\(1\)</span> ä¸ºæ ¹ï¼Œå¶å­ç»“ç‚¹æ·±åº¦ç›¸åŒ,ç»“ç‚¹ <span class="math inline">\(i\)</span> æœ‰æƒå€¼ <span class="math inline">\(a_i\)</span>ã€‚ç°åœ¨æœ‰çº¢è“ä¸¤é¢—æ£‹å­ï¼Œæ¯ä¸€æ­¥å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li>æŠŠçº¢è‰²æ£‹å­ç§»åŠ¨åˆ°å®ƒçš„å­èŠ‚ç‚¹ï¼›</li>
<li>æŠŠè“è‰²æ£‹å­ç§»åŠ¨åˆ°å®ƒä¸‹ä¸€å±‚çš„ä»»ä½•ä¸€ä¸ªç»“ç‚¹ï¼›</li>
<li>é€‰æ‹©äº¤æ¢æˆ–ä¸äº¤æ¢çº¢å­ä¸è“å­çš„ä½ç½®ï¼›</li>
<li>è®¡ç®—å¾—åˆ†ä¸º <span class="math inline">\(|a_{red}-a_{blue}|\)</span>ã€‚</li>
</ul>
<p>é—®æœ€å¤§çš„å¾—åˆ†å’Œã€‚</p>
<p>å°†ç‚¹åˆ†å±‚è€ƒè™‘ï¼Œä¸»è¦è€ƒè™‘åˆ°çº¢ç‚¹æ¯”è¾ƒå›ºå®šè€Œè“ç‚¹å››å¤„ä¹±é£ï¼Œæ‰€ä»¥è®¾ <span class="math inline">\(f_u\)</span> ä¸ºæ“ä½œå®Œåçº¢ç‚¹åœ¨ <span class="math inline">\(u\)</span> æ—¶çš„ç­”æ¡ˆï¼ˆå‘ç°è“ç‚¹çš„ä½ç½®æ˜¯æ— å…³ç´§è¦çš„ï¼‰ã€‚è€ƒè™‘è½¬ç§»ï¼š</p>
<ul>
<li><p>ä¸äº¤æ¢çš„æ—¶å€™ï¼Œè®¾ <span class="math inline">\(\mathrm{fa}_u\)</span> ä¸º <span class="math inline">\(u\)</span> çš„çˆ¶äº²ï¼Œåˆ™ <span class="math display">\[
f_u = f_{\mathrm{fa}_u} + \max_v\{|a_u - a_v|\}
\]</span> å…¶ä¸­ <span class="math inline">\(v\)</span> å°±æ˜¯è“ç‚¹ä¸‹è½çš„ä½ç½®ï¼Œä¸éš¾å‘ç°åªèƒ½æ˜¯æœ€å¤§çš„æˆ–æœ€å°çš„ã€‚</p></li>
<li><p>äº¤æ¢çš„è¯ï¼Œé‚£ä¹ˆçº¢ç‚¹å°±æ˜¯ä»»æ„é£˜äº†ï¼Œè®¾äº¤æ¢å‰çº¢ç‚¹ä½äº <span class="math inline">\(k\)</span>ï¼Œåˆ™ <span class="math display">\[
f_u = \max_k\{|a_u - a_k| + f_{\mathrm{fa}_k}\}
\]</span> å¥—è·¯åœ°æ‹†ç»å¯¹å€¼å¾—åˆ° <span class="math inline">\(f_{\mathrm{fa}_k} - a_k + a_u\)</span> å’Œ <span class="math inline">\(f_{\mathrm{fa}_k} + a_k - a_u\)</span>ã€‚è€ƒè™‘ç»´æŠ¤ <span class="math inline">\(\max\{f_{\mathrm{fa}_k} + a_k\}\)</span> å’Œ <span class="math inline">\(\max\{f_{\mathrm{fa}_k} - a_k\}\)</span> å³å¯ã€‚</p></li>
</ul>
<h3 id="f---copy-or-prefix-sum">1485F - Copy or Prefix Sum</h3>
<p>ç»™å®šä¸€ä¸ª <span class="math inline">\(b\)</span> æ•°ç»„ï¼Œä¸€ä¸ª <span class="math inline">\(a\)</span> æ˜¯åˆæ³•çš„æŒ‡å¯¹äºæ¯ä¸€ä¸ª <span class="math inline">\(i\)</span> éƒ½æœ‰ <span class="math inline">\(b_i=a_i\)</span> æˆ– <span class="math inline">\(b_i=\sum\limits_{j=1}^{i}a_j\)</span> ã€‚é—®åˆæ³•çš„ <span class="math inline">\(a\)</span> æœ‰å¤šå°‘ä¸ªã€‚ç­”æ¡ˆå¯¹ <span class="math inline">\(10^9+7\)</span> å–æ¨¡ã€‚<span class="math inline">\(1\le t\le 10^4,1\le \sum n\le 2\times 10^5,-10^9\le b_i\le 10^9\)</span>ã€‚</p>
<p>è€ƒè™‘ä½¿ç”¨ dp æ±‚è§£ï¼Œè®¾ <span class="math inline">\(f_{i,S}\)</span> ä¸ºå¡«äº†å‰ <span class="math inline">\(i\)</span> ä½ï¼Œ<span class="math inline">\(a_i = S\)</span> çš„æ–¹æ¡ˆæ•°ã€‚æ ¹æ®æ˜¯æ»¡è¶³ <span class="math inline">\(b_i = a_i\)</span> è¿˜æ˜¯ <span class="math inline">\(b_i = \sum a_j\)</span> åˆ†ä¸ºä¸¤ç§è½¬ç§»ï¼š</p>
<ul>
<li><span class="math inline">\(f_{i, j + b_i} = f_{i - 1, j}\)</span>ï¼Œæ­¤æ—¶æ˜¯ <span class="math inline">\(b_i = a_i\)</span>ã€‚</li>
<li><span class="math inline">\(f_{i, b_i} = \sum f_{i - 1, j}\)</span>ï¼Œæ­¤æ—¶æ˜¯ <span class="math inline">\(b_i = a_i\)</span> çš„æƒ…å†µï¼Œä½†æ˜¯éœ€è¦ä¸ä¸Šé¢ <span class="math inline">\(j = 0\)</span> çš„æƒ…å†µå»ä¸€ä¸‹é‡ã€‚</li>
</ul>
<p>å‘ç°ç¬¬ä¸€ç§è½¬ç§»å®é™…ä¸Šå°±æ˜¯æ•°ç»„å¹³ç§»ï¼Œç¬¬äºŒç§è½¬ç§»æ˜¯åœ¨åšå…¨å±€å’Œã€‚å¼€ä¸€ä¸ªå°æ ‡è®°è®°å½•ç¬¬ä¸€ç§æ“ä½œçš„å…¨å±€å¹³ç§»é‡ï¼Œå†å¼€ä¸€ä¸ª <span class="math inline">\(ans\)</span>ï¼Œå‘ç° <span class="math inline">\(f_{i, b_i}= ans + ans - f_{i - 1, b_i}\)</span>ï¼ˆå› ä¸ºæ–°çš„ <span class="math inline">\(f_{i, b_i}\)</span> å°±æ˜¯ <span class="math inline">\(ans\)</span>ï¼‰ã€‚</p>
<p>æ‹¿ <code>map</code> éšç¼˜ç»´æŠ¤ä¸€ä¸‹å°±è¡Œäº†ã€‚</p>
<h2 id="codeforces-round-706">Codeforces Round 706</h2>
<h3 id="a---diamond-miner">1495A - Diamond Miner</h3>
<p>åœ¨ <span class="math inline">\(x\)</span> è½´ä¸Šæœ‰ <span class="math inline">\(n\)</span> ä¸ªé’»çŸ³çŸ¿ï¼Œ<span class="math inline">\(y\)</span> è½´ä¸Šæœ‰ <span class="math inline">\(n\)</span> ä¸ªçŸ¿å·¥ï¼Œä¿è¯æ‰€æœ‰çš„çŸ¿å·¥å’Œé’»çŸ³éƒ½ä¸åœ¨åŸç‚¹ã€‚éœ€è¦å»ºç«‹æ¯ä¸ªçŸ¿å·¥ä¸æ¯ä¸ªé’»çŸ³çŸ¿çš„ä¸€ä¸€å¯¹åº”å…³ç³»ä½¿å¾—æ¯å¯¹çŸ¿å·¥å’ŒçŸ¿çš„è·ç¦»ä¹‹å’Œæœ€å°ã€‚</p>
<p>è¦ä¹ˆæ˜¯è´ªå¿ƒè¦ä¹ˆæ˜¯ <span class="math inline">\(O(n)\)</span> çš„ dpï¼Œå…ˆè€ƒè™‘ä¸¤å¯¹çŸ¿å·¥å’Œé’»çŸ³çš„æƒ…å†µï¼šï¼ˆç”±äºæ­£è´Ÿå…¶å®ä¸å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæ‰€æœ‰çš„é’»çŸ³å’ŒçŸ¿çš„åæ ‡éƒ½å–ç»å¯¹å€¼ï¼Œåœ¨æ­£åŠè½´ä¸Šè€ƒè™‘é—®é¢˜ã€‚ä¸¤å¯¹ç‚¹çš„æƒ…å†µæ— éå°±æ˜¯äº¤å‰ç€è¿ï¼ˆè“çº¿ï¼‰å’Œå¹³è¡Œç€è¿ï¼ˆçº¢çº¿ï¼‰ã€‚æ‰€ä»¥è€ƒè™‘å“ªä¸ªè¦å¤§ä¸€äº›ï¼Œå³æ¯”è¾ƒ <span class="math inline">\(\sqrt{a^2 + d^2} + \sqrt{b^2 + c^2}\)</span> å’Œ <span class="math inline">\(\sqrt{a^2 + c^2} + \sqrt{b^2 + d^2}\)</span> çš„å¤§å°ã€‚</p>
<p>ä¸¤è¾¹åŒæ—¶å¹³æ–¹ï¼š</p>
<p><span class="math display">\[
a^2 + b^2 + c^2 + d^2 + \sqrt{(a^2 + d^2)(b^2 + c^2)}
\]</span></p>
<p>å’Œ</p>
<p><span class="math display">\[
a^2 + b^2 + c^2 + d^ 2+ \sqrt{(a^2 + c^2)(b^2 + d^2)}
\]</span></p>
<p>æ‰€ä»¥åªéœ€è¦è€ƒè™‘ <span class="math inline">\((a + d)(b+ c)\)</span> ä¸ <span class="math inline">\((a + c)(b + d)\)</span> çš„å¤§å°å³å¯ï¼ŒåŒ–ç®€ä¹‹åä¸éš¾å‘ç°</p>
<p><span class="math display">\[
(a + d)(b + c)\ge(a + c)(b + d)
\]</span></p>
<p>æ‰€ä»¥<strong>å¹³è¡Œçš„è¿æ³•ä¸€å®šæ˜¯æœ€ä¼˜çš„</strong>ã€‚å°†æ‰€æœ‰çš„ç‚¹å–ç»å¯¹å€¼åæ’åºç„¶åä¾æ¬¡ç´¯åŠ ç­”æ¡ˆå°±æå®šäº†ã€‚</p>
<h3 id="b---lets-go-hiking">1495B - Letâ€™s Go Hiking</h3>
<p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ª <span class="math inline">\(1-n\)</span> çš„æ’åˆ— <span class="math inline">\(p\)</span>ï¼ŒQingshan å’Œ Daniel åœ¨è‰ç¨¿çº¸ä¸ŠæŒ‰ç…§å¦‚ä¸‹è§„åˆ™è¿›è¡Œè¿œè¶³æ¸¸æˆã€‚ é¦–å…ˆ Qingshan é€‰å®šä¸€ä¸ªæ•° <span class="math inline">\(x\)</span> <strong>å¹¶å‘Šè¯‰ Daniel</strong>ï¼Œæ¥ä¸‹æ¥ Daniel é€‰å®šå¦ä¸€ä¸ªæ•° <span class="math inline">\(y\)</span>ï¼Œ<span class="math inline">\(1\le x, y\le n\)</span> ä¸” <span class="math inline">\(x\not=y\)</span>ã€‚ç„¶åä»–ä»¬è½®æµè¿›è¡Œæ¸¸æˆï¼ŒQingshan ä¸ºå…ˆæ‰‹ï¼š</p>
<ul>
<li>å¦‚æœè½®åˆ° Qingshanï¼Œåˆ™ Qingshan åªèƒ½æŠŠ <span class="math inline">\(x\)</span> ç§»åŠ¨åˆ° <span class="math inline">\(x'\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(x' - x = 1\)</span>ï¼Œä¸” <span class="math inline">\(x' \neq y\)</span>ï¼Œ<span class="math inline">\(p_x\gt p_{x'}\)</span>ã€‚</li>
<li>å¦‚æœè½®åˆ° Danielï¼Œåˆ™ Daniel åªèƒ½æŠŠ <span class="math inline">\(y\)</span> ç§»åŠ¨åˆ° <span class="math inline">\(y'\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(y' - y = 1\)</span>ï¼Œä¸” <span class="math inline">\(y'\neq x\)</span>ï¼Œ<span class="math inline">\(p_y\lt p_{y'}\)</span>ã€‚</li>
</ul>
<p>å¦‚æœè½®åˆ°æŸä¸€æ–¹æ—¶æ— è·¯å¯èµ°äº†ï¼Œåˆ™å¦ä¸€æ–¹èƒœåˆ©ã€‚ å‡è®¾åŒæ–¹éƒ½è¶³å¤Ÿèªæ˜ï¼Œé‚£ä¹ˆåˆ¤æ–­æœ‰å¤šå°‘ä¸ªåˆå§‹çš„ <span class="math inline">\(x\)</span> å¯ä»¥è®© Qingshan ä¸€å®šå–èƒœã€‚</p>
<p>é¢˜è§£ï¼šé¦–å…ˆå‘æ˜è¿™ä¸ªæ¸¸æˆçš„æ€§è´¨ï¼šæ¯ä¸ªäººåªèƒ½å¾€ä¸€ä¸ªæ–¹å‘èµ°ï¼Œä¸èƒ½å›å¤´ã€‚æ³¨æ„åˆ°è¿™ä¸ªæ€§è´¨ä¹‹åä¸éš¾å‘ç°å¦‚æœ Qingshan è¦èµ¢ï¼Œé‚£ä¹ˆ Daniel å¿…é¡»è¢« Qingshan å¡æ­»æˆ–è€…è‡ªå·±è¢«å¡æ­»ã€‚</p>
<p>å› ä¸ºä¸¤æ–¹éƒ½è¶³å¤Ÿèªæ˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠé—®é¢˜èŒƒå›´ç¼©å°åˆ°æœ€é•¿å•è°ƒåºåˆ—ä¸Šé¢æ¥ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æœ€å¤§åŒ–åŒæ–¹çš„ç§»åŠ¨æ­¥æ•°ã€‚</p>
<p>å¯ä»¥è¯æ˜çš„æ˜¯ï¼Œ<strong>Qingshan ä¸€å¼€å§‹é€‰çš„ç‚¹åœ¨æœ€é•¿å•è°ƒåºåˆ—çš„é¡¶ç«¯æ˜¯ä»–èƒ½èµ¢çš„å¿…è¦æ¡ä»¶</strong>ã€‚è‡³äºä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœ Qingshan é€‰çš„ä¸æ˜¯æœ€é•¿å•è°ƒåºåˆ—çš„é¡¶ç«¯ï¼Œé‚£ä¹ˆ Daniel å°±å¯ä»¥é€‰æœ€é•¿å•è°ƒåºåˆ—çš„åº•ç«¯è¿›è¡Œæ¸¸æˆï¼Œé‚£ä¹ˆ Qingshan è‚¯å®šå…ˆè¢«å¡æ­»ã€‚</p>
<p>å¹¶ä¸”å¦‚æœæœ‰å¤šæ¡ä¸ç›¸äº¤çš„æœ€é•¿å•è°ƒåºåˆ—ï¼Œ<strong>Qingshan å¿…è¾“</strong>ã€‚å› ä¸ºè¿™æ · Daniel å¯ä»¥é€‰æ‹©å¦å¤–ä¸€æ¡åºåˆ—çš„åº•ç«¯ï¼Œè€Œ Qingshan æ˜¯å…ˆæ‰‹ï¼Œæ‰€ä»¥ Qingshan <strong>è‚¯å®šå…ˆè¢«å¡æ­»</strong>ã€‚</p>
<p>å¦‚æœåªæœ‰ä¸€æ¡æœ€é•¿å•è°ƒåºåˆ—ï¼Œè¿˜æ˜¯ <strong>Qingshan å¿…è¾“</strong>ï¼Œå› ä¸º Qingshan æ˜¯å…ˆæ‰‹ï¼ŒDaniel é€‰æ‹©çš„ä½ç½®ä½†å‡¡ä¸ Qingshan çš„åˆå§‹ä½ç½®æˆçš„é“¾é•¿ä¸º<strong>å¶æ•°</strong>ï¼Œ<strong>é‚£ä¹ˆ Daniel è‚¯å®šå¯ä»¥å¡æ­» Qingshan</strong>ã€‚</p>
<p>å‰©ä¸‹çš„ä¸¤ç§æƒ…å†µå°±æ˜¯åŒæ—¶æœ‰ä¸¤æ¡æœ€é•¿å•è°ƒåºåˆ—ï¼Œè¦ä¹ˆæˆâ€œVâ€å½¢è¦ä¹ˆæˆå±±å³°å½¢ã€‚å¯¹äºâ€œVâ€å½¢çš„æƒ…å†µ<strong>è¿˜æ˜¯ Qingshan å¿…è¾“</strong>ï¼Œå› ä¸º Daniel å¯ä»¥å¾€ä¸ Qingshan ç›¸åçš„æ–¹å‘è·‘èµ°ï¼Œé‚£ä¹ˆå½“ Qingshan æœ€ååˆ°è¾¾è°·åº•çš„æ—¶å€™å°± GG äº†ã€‚å¯¹äºå±±å³°å½¢çš„æƒ…å†µï¼ŒQingshan è‚¯å®šæ˜¯é€‰å³°é¡¶ï¼Œæ¥ä¸‹æ¥åˆ†æœ€é•¿å•è°ƒåºåˆ—é•¿åº¦çš„å¥‡å¶æ€§è®¨è®ºï¼š</p>
<p>å¥‡æ•°ï¼šå¦‚æœ Daniel é€‰äº†å¡åº•ï¼Œ<strong>é‚£ä¹ˆ Qingshan åªè¦å¾€ Daniel çš„æ–¹å‘èµ°é‚£ä¹ˆå°±å¿…ç„¶å¯ä»¥å¡æ­» Daniel</strong>ï¼›å¦‚æœä¸é€‰å¡åº•ï¼Œ<strong>é‚£ä¹ˆ Qingshan åªè¦å¾€å¦ä¸€ä¸ªæ–¹å‘èµ°å°±å¯ä»¥è®© Daniel å…ˆæ— è·¯å¯èµ°</strong>ï¼Œæ‰€ä»¥æ­¤æ—¶ç­”æ¡ˆä¸º <span class="math inline">\(1\)</span>ï¼ŒQingshan å”¯ä¸€çš„å¿…èƒœç­–ç•¥å°±æ˜¯é€‰æ‹©å±±é¡¶ã€‚</p>
<p>å¶æ•°ï¼šç±»ä¼¼ä¸Šé¢çš„åˆ†ææ–¹æ³•ï¼Œä¸éš¾å‘ç°<strong>è¦ä¹ˆ Daniel å¡æ­» Qingshanï¼Œè¦ä¹ˆ Qingshan å…ˆæ— è·¯å¯èµ°</strong>ï¼Œæ‰€ä»¥ Qingshan <strong>å¿…è´¥</strong>ã€‚</p>
<p>åˆ†æåˆ°è¿™é‡Œæˆ‘ä»¬å°±å‘ç°äº†<strong>ç­”æ¡ˆä¸º <span class="math inline">\(1\)</span> å½“ä¸”ä»…å½“æœ‰ä¸¤æ¡æœ€é•¿å•è°ƒåºåˆ—å¹¶ä¸”ä»–ä»¬å…±äº«ä¸€ä¸ªæœ€é«˜ç‚¹ï¼Œå¦åˆ™ç­”æ¡ˆä¸º <span class="math inline">\(0\)</span></strong>ã€‚<span class="math inline">\(O(n)\)</span> ç›´æ¥æ‰«å°±å¯ä»¥è¿‡äº†ã€‚</p>
<h3 id="c---garden-of-the-sun">1495C - Garden of the Sun</h3>
<p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ª <span class="math inline">\(n\times m\)</span> çŸ©é˜µï¼Œé‡Œé¢å«æœ‰å­—ç¬¦ <code>.</code> å’Œ <code>X</code>ã€‚ä¿è¯æ‰€æœ‰ <code>X</code> ä¹‹é—´æ— å…¬å…±ç‚¹ï¼ˆå³ä¸è”é€šï¼‰ï¼Œè¯·å°†ä¸€éƒ¨åˆ† <code>.</code> æ›¿æ¢æˆ <code>X</code> ä½¿å¾—è¿™äº› <code>X</code> å½¢æˆä¸€æ£µæ ‘ï¼ˆè¦æ±‚å››è”é€šï¼Œå³ä¸¤ä¸ª <code>X</code> ä¹‹é—´æœ‰ä¸€å…¬å…±è¾¹ï¼Œä¸èƒ½æœ‰ç¯ï¼‰ã€‚</p>
<p>é¦–å…ˆ<strong>æ‰€æœ‰ <code>X</code> ä¹‹é—´æ— å…¬å…±ç‚¹</strong>æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½çš„æ€§è´¨ï¼Œè¿™ä¿è¯äº†ä¸‹é¢å¡«å……åˆ—çš„æ–¹æ³•çš„æ­£ç¡®æ€§ã€‚</p>
<p>å…·ä½“åœ°ï¼Œè€ƒè™‘ <span class="math inline">\(3\mid m\)</span> çš„æƒ…å†µï¼Œä¸å¦¨ç›´æ¥å°† <span class="math inline">\(2,5,8,\cdots\)</span> åˆ—å…¨éƒ¨å¡«æˆ <code>X</code>ï¼Œä¸éš¾å‘ç°è¿™æ ·<strong>éš”ä¸¤åˆ—å¡«ä¸€åˆ—çš„æ–¹å¼æ˜¯ä¸ä¼šå‡ºç°ç¯çš„</strong>ï¼Œç„¶åå†å°† <span class="math inline">\(3, 6, 9, \cdots\)</span> å’Œ <span class="math inline">\(4,7,10,\cdots\)</span> ç­‰åˆ—æ„é€ æˆè”é€šçš„å°±å¯ä»¥äº†ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åªè€ƒè™‘ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œï¼Œå¦‚æœåˆæ³•å°±ç›´æ¥è¿ã€‚</p>
<p>å¦‚æœ <span class="math inline">\(3\not\mid m\)</span>ï¼Œé‚£ä¹ˆåªéœ€è¦å˜ä¸€ä¸‹ï¼ŒæŠŠ <span class="math inline">\(1, 4, 7,\cdots\)</span> å¡«æˆ <code>X</code>ï¼Œå‰©ä½™æ“ä½œç±»ä¼¼ã€‚è‡³äºä¸ºä»€ä¹ˆå¡«çš„åˆ—æ”¹å˜äº†åˆ™å¯ä»¥è€ƒè™‘ç”»ä¸€ä¸‹å›¾è‡ªå·±æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œä¼šå‘ç°å¦‚æœé€‰ <span class="math inline">\(2, 5, 8,\cdots\)</span> çš„è¯åœ¨ <span class="math inline">\(m = 3k + 1\)</span> çš„æ—¶å€™ä¼šå¤šå‡ºä¸€ä¸ªéœ€è¦å•ç‹¬è€ƒè™‘çš„åˆ—ï¼Œæ‰€ä»¥ä¸å¦‚ç®€åŒ–é—®é¢˜ã€‚</p>
<h2 id="codeforces-round-707-div.2-based-on-moscow-open-olympiad-in-informatics">Codeforces Round 707 Div.2 based on moscow open olympiad in informatics</h2>
<h3 id="a---going-home">1500A - Going Home</h3>
<p>ç»™å®š <span class="math inline">\(\lbrace a_n\rbrace\)</span>ï¼Œæ»¡è¶³ <span class="math inline">\(4\le n\le 2\times10^5\)</span> å¹¶ä¸” <span class="math inline">\(\forall i\in[1,n],1\le a_i\le 2.5\times10^6\)</span>ï¼Œæ±‚å››ä¸ªä¸åŒçš„ä¸‹æ ‡ <span class="math inline">\(x,y,z,w\)</span> ä½¿å¾— <span class="math inline">\(a_x + a_y = a_z + a_w\)</span>ã€‚ æœ‰è§£åˆ™æ‰“å°è§£ï¼Œæ— è§£è¾“å‡º <span class="math inline">\(\texttt{NO}\)</span>ã€‚</p>
<p>æ³¨æ„åˆ°æˆ‘ä»¬çš„å’Œ <span class="math inline">\(a_i + a_j\le 5\times 10^6\)</span>ï¼Œè¿™ä¸ªæ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚ æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¤§åŠ›æšä¸¾ <span class="math inline">\(S = a_i + a_j\)</span>ï¼Œè®°å½•ä¸€ä¸‹åŠ å‡ºæ¥çš„è¿™ä¸ª <span class="math inline">\(S\)</span>ï¼Œå¦‚æœåŒæ ·çš„ <span class="math inline">\(S\)</span> å‡ºç°äº†ç¬¬äºŒæ¬¡åˆ™ç›´æ¥è¾“å‡ºç­”æ¡ˆå°±å¥½ã€‚æ ¹æ®<strong>é¸½å·¢åŸç†</strong>ï¼Œæˆ‘ä»¬å¦‚æœæšä¸¾çš„æ¬¡æ•°è¶…è¿‡äº†å€¼åŸŸï¼Œé‚£ä¹ˆå°±è‚¯å®šä¸å­˜åœ¨è§£ã€‚</p>
<h2 id="contest-2050-and-codeforces-round-718-div.1-div.2">Contest 2050 and Codeforces Round #718 (Div.1 + Div.2)</h2>
<p>VP on 22/07/14</p>
<h3 id="e---group-photo">1517E - Group Photo</h3>
<p>å°†æ­£æ•´æ•°åºåˆ— <span class="math inline">\(a\)</span> åˆ’åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸‹æ ‡åˆ†åˆ«ä¸º <span class="math inline">\(c_i\)</span> å’Œ <span class="math inline">\(p_i\)</span>ï¼Œè¦æ±‚</p>
<ul>
<li><span class="math inline">\(c_i - c_{i-1} \le c_{i+1} - c_i\)</span>ï¼›</li>
<li><span class="math inline">\(p_i - p_{i-1}\ge p_{i+1}-p_i\)</span>ï¼›</li>
<li><span class="math inline">\(\sum\limits_{x\in C}a_x &lt; \sum\limits_{y\in P}a_y\)</span>ã€‚</li>
</ul>
<p>é—®æ–¹æ¡ˆæ•°æ¨¡ <span class="math inline">\(998244353\)</span>ï¼Œ<span class="math inline">\(n\)</span> äºŒåä¸‡ï¼Œ<span class="math inline">\(a_i\le 10^9\)</span>ã€‚</p>
<p>å‘ç° <span class="math inline">\(c\)</span> å’Œ <span class="math inline">\(p\)</span> çš„é™åˆ¶æ˜¯å‰æ¾åç´§å’Œå‰ç´§åæ¾ï¼Œè€Œä¸€ä¸ªç´§å¯¹åº”ç€å¦ä¸€ä¸ªå¿…é¡»æ¾ï¼Œæœ‰ç‚¹è¯ˆéª—çš„æ„Ÿè§‰ï¼Œæ‰€ä»¥èƒ½å‡ºç°çš„åˆ’åˆ†ä¹Ÿå°±åªæœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li><code>P...PC...C</code>ï¼Œæ­£åˆ™è¡¨è¾¾å¼ <code>P+C+</code>ï¼›</li>
<li><code>PC...CPC...PCP...PC</code>ï¼Œæ­£åˆ™è¡¨è¾¾å¼ <code>P?C+(PC)*P+C?</code>ã€‚</li>
</ul>
<p>æ³¨æ„åˆ°ç¬¬äºŒç§é‡Œé¢ <code>C..</code> çš„éƒ¨åˆ†å’Œ <code>P..</code> çš„éƒ¨åˆ†å¿…é¡»è‡³å°‘ä¸€ä¸ª <code>C</code> å’Œä¸€ä¸ª <code>P</code>ï¼Œå¦åˆ™ä¼šé€€åŒ–æˆç¬¬ä¸€ç§ã€‚</p>
<p>ç¬¬ä¸€ç§å¾ˆå®¹æ˜“ä½¿ç”¨å‰ç¼€å’Œç»Ÿè®¡ã€‚ç¬¬äºŒç§æšä¸¾ <span class="math inline">\(4\)</span> ç§å¤´å°¾é€‰/ä¸é€‰çš„ caseï¼Œç„¶åæšä¸¾ <code>C</code> çš„ä¸ªæ•°ï¼Œç”±äºå…¶æ˜¾ç„¶å…³äº <code>PC</code> çš„ä¸ªæ•°æœ‰å•è°ƒæ€§ï¼Œæ‰€ä»¥äºŒåˆ†å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(n\log n)\)</span>ã€‚</p>
<h3 id="f---reunion">1517F - Reunion</h3>
<p>å¤§ä¼šæœ‰ <span class="math inline">\(n\)</span> ä¸ªå¿—æ„¿è€… , ä»–ä»¬ä¹‹é—´çš„å…³ç³»å¯ä»¥ç”¨ä¸€æ£µ <span class="math inline">\(n\)</span> çš„ç‚¹çš„æ ‘æè¿° . ç¬¬ <span class="math inline">\(i\)</span> ä¸ªç»“ç‚¹ä»£è¡¨ç¬¬ <span class="math inline">\(i\)</span> ä¸ªå¿—æ„¿è€… . å®šä¹‰æ ‘ä¸Šä¸¤ç‚¹é—´è·ç¦» <span class="math inline">\(\mathrm{dis}(u,v)\)</span> ä¸ºä¸ºä»–ä»¬ä¹‹é—´çš„æœ€çŸ­è·¯å¾„æ‰€ç»è¿‡çš„è¾¹æ•°ã€‚</p>
<p>ç°åœ¨ä»–ä»¬æƒ³è¿›è¡Œä¸€åœºèšä¼š , ä¸€äº›å¿—æ„¿è€…æœ‰ç©ºå‚åŠ  , è€Œå…¶å®ƒçš„æ­£å¿™ . åœ¨è¿™ç§æƒ…å†µä¸‹ , å¯¹äºæŸä¸ªå¿—æ„¿è€… <span class="math inline">\(x\)</span> å’Œéè´Ÿæ•´æ•° <span class="math inline">\(r\)</span> , å¦‚æœæ‰€æœ‰ä¸ <span class="math inline">\(x\)</span> çš„è·ç¦»ä¸è¶…è¿‡ <span class="math inline">\(r\)</span> çš„å¿—æ„¿è€…<strong>å…¨éƒ¨</strong>æœ‰ç©ºå‚åŠ  , é‚£ä¹ˆå¯ä»¥å¬å¼€ä¸€åœºä»¥ <span class="math inline">\(x\)</span> ä¸ºä¸­å¿ƒ , åŠå¾„ä¸º <span class="math inline">\(r\)</span> çš„èšä¼š . è¿™åœºèšä¼šçš„ç­‰çº§å®šä¹‰ä¸ºæ‰€æœ‰å¯èƒ½çš„åŠå¾„ <span class="math inline">\(r\)</span> ä¸­çš„<strong>æœ€å¤§å€¼</strong> .</p>
<p>æ¯ä¸€ä¸ªå¿—æ„¿è€…éƒ½æœ‰ <span class="math inline">\(\frac12\)</span> çš„æ¦‚ç‡æœ‰ç©ºå‚åŠ æˆ–è€…æ­£å¿™ . ç°åœ¨è¯·ä½ æ±‚å‡ºæ‰€æœ‰æƒ…å†µä¸‹èšä¼šç­‰çº§çš„<strong>æœŸæœ›</strong>å¯¹ <span class="math inline">\(998\ 244\ 353\)</span> å–æ¨¡çš„ç»“æœ . ç‰¹åˆ«çš„ , å½“æ‰€æœ‰å¿—æ„¿è€…éƒ½æ­£å¿™æ—¶ , è¯¥èšä¼šçš„ç­‰çº§ä¸º <span class="math inline">\(-1\)</span> ; å½“æ‰€æœ‰å¿—æ„¿è€…éƒ½æœ‰ç©ºå‚åŠ æ—¶ , è¯¥èšä¼šçš„ç­‰çº§ä¸º <span class="math inline">\(n\)</span>ã€‚<span class="math inline">\(2\le n\le300\)</span></p>
<p>æœŸæœ›é¢˜åŸºæœ¬æ²¡åšè¿‡å‡ é“ï¼Œä¸åŸ‹æ€¨è‡ªå·±äº†ã€‚</p>
<p>å¯¹æ¯ä¸ª <span class="math inline">\(x\)</span> å»å¯»æ‰¾ç­”æ¡ˆæ˜¯å›°éš¾çš„ï¼Œè€ƒè™‘é€šè¿‡æ¯ä¸ª <span class="math inline">\(r\)</span> æ±‚æ–¹æ¡ˆæ•°æ¥ç®—æœŸæœ›ã€‚</p>
<p>è€Œæ­£é¢åœ°è€ƒè™‘<strong>å­˜åœ¨</strong>ä¸€ä¸ªèŠ‚ç‚¹ <span class="math inline">\(x\)</span> ä½¿å¾—ä¸å…¶è·ç¦» <span class="math inline">\(\le r\)</span> çš„äººéƒ½æœ‰ç©ºæ˜¯å›°éš¾çš„ï¼Œé€†å‘åœ°æ¥çœ‹ï¼Œä¸å¦¨ä»¤ä¸èƒ½å‚åŠ çš„æŸ“æˆé»‘è‰²ï¼Œå®šä¹‰ <span class="math inline">\(B_{u,r} = \{v:dis(u,v)\le r\}\)</span>ï¼Œé‚£ä¹ˆå¯¹äºæ‰€æœ‰æŸ“è‰²äº†çš„ <span class="math inline">\(u\)</span>ï¼Œ<span class="math inline">\(B_{u,r}\)</span> éƒ½æ˜¯è¢«å¹²æ‰äº†çš„ã€‚</p>
<p>é‚£ä¹ˆï¼Œè‹¥æ‰€æœ‰ <span class="math inline">\(B_{u,r}\)</span> çš„å¹¶åŒ…å«äº†æ‰€æœ‰ç‚¹ï¼Œåˆ™è¯´æ˜è¯¥æƒ…å†µä¸‹åˆæ³•çš„åŠå¾„ä¸€å®š <span class="math inline">\(&lt;r\)</span>ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¯¹äºæ‰€æœ‰ <span class="math inline">\(r\)</span> ç®—å‡º <span class="math inline">\(&lt; r\)</span> çš„æƒ…å†µï¼Œç®€å•å·®åˆ†ä¸€ä¸‹ä¹Ÿå°±å¯ä»¥å¾—åˆ° <span class="math inline">\(=r\)</span> çš„æƒ…å†µäº†ã€‚</p>
<p>æ‰€ä»¥é—®é¢˜è½¬åŒ–ä¸ºå¯¹äºä¸€ä¸ª <span class="math inline">\(r\)</span>ï¼Œæ±‚æŸ“è‰²æ–¹æ¡ˆæ•°ï¼Œä½¿å¾— <span class="math inline">\(B_{u,r}\)</span> çš„å¹¶èƒ½å°†æ‰€æœ‰ç‚¹åŒ…å«ã€‚è€ƒè™‘ dpã€‚</p>
<h2 id="harbour.space-scholarship-contest-2021-2022-open-for-everyone-rated-div.-1-div.-2">Harbour.Space Scholarship Contest 2021-2022 (open for everyone, rated, Div. 1 + Div. 2)</h2>
<p>VP on 21/10/18. A + B + C + D + Fã€‚</p>
<h3 id="e---permutation-shift">1553E - Permutation Shift</h3>
<p>åˆå§‹æœ‰æ’åˆ— <span class="math inline">\((1, 2, \cdots, n)\)</span>ï¼Œç°ç»™å®šæ’åˆ— <span class="math inline">\(P\)</span> å’Œæ­£æ•´æ•° <span class="math inline">\(m\)</span>ï¼Œæ±‚å‡ºæ‰€æœ‰æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„æ•´æ•° <span class="math inline">\(k\in[0, n- 1]\)</span>ï¼š</p>
<ul>
<li>å°†åˆå§‹æ’åˆ—å‘å³å¾ªç¯ç§»ä½ <span class="math inline">\(k\)</span> ä¸ªå•ä½åï¼Œèƒ½ç»è¿‡ä¸è¶…è¿‡ <span class="math inline">\(m\)</span> æ¬¡äº¤æ¢å…ƒç´ çš„æ“ä½œåå¾—åˆ° <span class="math inline">\(P\)</span>ã€‚</li>
</ul>
<p><span class="math inline">\(1\le n\le 3\times 10^5\)</span>ï¼Œ<span class="math inline">\(0\le m\le \dfrac n3\)</span>ã€‚</p>
<p>å¯ä»¥è€ƒè™‘æšä¸¾ <span class="math inline">\(k\)</span> ç„¶ååˆ¤æ–­è¿™ä¸ª <span class="math inline">\(k\)</span> æ˜¯å¦å¯è¡Œã€‚ä½†æ˜¯ <span class="math inline">\(O(n^2)\)</span> æ˜¾ç„¶ä¼šçˆ†ç‚¸ã€‚è€ƒè™‘ç”±äºæˆ‘ä»¬ä¸€æ¬¡äº¤æ¢æœ€å¤šæ”¹å˜ä¸¤ä¸ªæ•°çš„ä½ç½®ï¼Œæ‰€ä»¥ä½ç½®ä¸ç”¨æ”¹å˜çš„æ•°å­—è‡³å°‘æœ‰ <span class="math inline">\(n - 2m\)</span> ä¸ªï¼Œä»¤ <span class="math inline">\(x_k\)</span> è¡¨ç¤ºå¾ªç¯ç§»ä½ <span class="math inline">\(k\)</span> æ¬¡åä¸ç”¨åŠ¨çš„æ•°å­—ä¸ªæ•°ï¼Œä¸€å®šæœ‰ <span class="math inline">\(\displaystyle\sum_{i = 0}^{n - 1}x_i = n\)</span>ï¼Œè€Œä¸”ç”± <span class="math inline">\(m\le \dfrac n 3\)</span> å¾—çŸ¥ <span class="math inline">\(x_k\ge \dfrac n 3\)</span> æ’æˆç«‹ã€‚è¿™æ ·æ»¡è¶³æ¡ä»¶çš„ <span class="math inline">\(x_k\)</span> è‡³å¤šæœ‰ <span class="math inline">\(3\)</span> ä¸ªã€‚æ‰€ä»¥æˆ‘ä»¬é¢„å¤„ç†ä¸€ä¸‹æ‰€æœ‰çš„ <span class="math inline">\(x_k\)</span> ç„¶åæ¯æ¬¡æ‰¾ <span class="math inline">\(\ge n - 2m\)</span> çš„ <span class="math inline">\(x_k\)</span> ç„¶å <span class="math inline">\(O(n)\)</span> æ‰¾ç¯å³å¯ï¼Œå¤æ‚åº¦ <span class="math inline">\(O(n)\)</span>ã€‚</p>
<h3 id="f---pairwise-modulo">1553F - Pairwise Modulo</h3>
<p>ç»™å®š <span class="math inline">\(n\)</span> å’Œ <span class="math inline">\(\{a_n\}\)</span>ï¼ˆ<span class="math inline">\(1\le a_i\le 2\times 10^5\)</span>ï¼‰ï¼Œå¯¹æ¯ä¸ª <span class="math inline">\(k\)</span> æ±‚å‡º <span class="math inline">\(f_k = \displaystyle\sum_{1\le i,j\le k}a_i\bmod a_j\)</span>ã€‚</p>
<p>è€ƒè™‘æ–°åŠ è¿›æ¥ä¸€ä¸ª <span class="math inline">\(a_i\)</span> æ—¶äº§ç”Ÿçš„è´¡çŒ®ï¼Œå°†è¿™éƒ¨åˆ†è´¡çŒ®ä¸ <span class="math inline">\(f_{i - 1}\)</span> ç›¸åŠ å³å¾—åˆ° <span class="math inline">\(f_i\)</span>ã€‚å…¶åˆ†ä¸º</p>
<ul>
<li><span class="math inline">\(\sum_j a_j\bmod a_i\)</span>ã€‚è¿™éƒ¨åˆ†æ¯”è¾ƒå¥½åŠï¼Œæ ‘çŠ¶æ•°ç»„ç›´æ¥æ‰«ä¾¿æ˜¯ï¼Œä¿© <span class="math inline">\(\log\)</span>ã€‚</li>
<li><span class="math inline">\(\sum_j a_i\bmod a_j\)</span>ã€‚è¿™éƒ¨åˆ†ä¸å¤ªå¥½ç›´æ¥å»ç®—ã€‚è€ƒè™‘ <span class="math inline">\(a_i\bmod a_j = a_i - a_j\lfloor a_i/a_j\rfloor\)</span>ï¼Œæ•…å¯ä»¥åœ¨è®¡ç®—ä¹‹å‰çš„ <span class="math inline">\(a_j\)</span> çš„æ—¶å€™é¡ºä¾¿æ›´æ–°ä¸€ä¸‹å®ƒèƒ½æ›´æ–°åˆ°çš„åŒºé—´ã€‚åŒºé—´åŠ ï¼Œå•ç‚¹æŸ¥ï¼Œä¾ç„¶å¯ä»¥æ ‘çŠ¶æ•°ç»„ã€‚è¿˜æ˜¯ä¿© <span class="math inline">\(\log\)</span>ã€‚</li>
</ul>
<p>äºæ˜¯ <span class="math inline">\(O(n\log^2n)\)</span> è§£å†³æ‰äº†ã€‚æ¯” E ä¸çŸ¥é“ç®€å•åˆ°å“ªé‡Œå»äº†ã€‚</p>
<h3 id="g---common-divisor-graph">1553G - Common Divisor Graph</h3>
<p>ç»™å®šä¸€ä¸ªåŒ…å« <span class="math inline">\(n\)</span> ä¸ªèŠ‚ç‚¹çš„å›¾ã€‚ç¬¬ <span class="math inline">\(i\)</span> ä¸ªèŠ‚ç‚¹éƒ½æœ‰æƒå€¼ <span class="math inline">\(a_i\)</span>ï¼Œæ²¡æœ‰ä¸¤ä¸ªèŠ‚ç‚¹æƒå€¼ç›¸åŒã€‚èŠ‚ç‚¹ <span class="math inline">\(i,j\)</span> ä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ä»…å½“ <span class="math inline">\(\gcd(a_i,a_j)&gt;1\)</span>ã€‚</p>
<p>ç»™å®š <span class="math inline">\(q\)</span> æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡åŒ…å«æ•´æ•° <span class="math inline">\(s,t\)</span> è¡¨ç¤ºä½ å¸Œæœ›ä»èŠ‚ç‚¹ <span class="math inline">\(s\)</span> åˆ°è¾¾èŠ‚ç‚¹ <span class="math inline">\(t\)</span>ã€‚ä¸ºäº†åˆ°è¾¾é‚£ä¸ªèŠ‚ç‚¹ï¼Œä½ å¯ä»¥è¿›è¡Œä¸‹åˆ—æ“ä½œä»»æ„æ¬¡ï¼š</p>
<ul>
<li>é€‰å®šä¸€ä¸ªèŠ‚ç‚¹ <span class="math inline">\(i\)</span>ã€‚åˆ›é€ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹çš„æƒå€¼ä¸º <span class="math inline">\(a_i\times(a_i+1)\)</span>ï¼Œå¹¶æŒ‰ç…§ä¸Šè¿°è§„åˆ™è¿è¾¹ã€‚</li>
</ul>
<p>å¯¹äºæ¯æ¬¡è¯¢é—®ï¼Œä½ éƒ½éœ€è¦æ±‚å‡ºï¼Œè‡³å°‘éœ€è¦å¤šå°‘æ¬¡æ“ä½œæ‰èƒ½ä½¿èŠ‚ç‚¹ <span class="math inline">\(s\)</span> èƒ½åˆ°è¾¾èŠ‚ç‚¹ <span class="math inline">\(t\)</span>ã€‚è¯¢é—®äº’ç›¸ç‹¬ç«‹ã€‚</p>
<p>ç”±äº <span class="math inline">\(a_s(a_s + 1)\)</span> å’Œ <span class="math inline">\(a_t(a_t + 1)\)</span> å¿…ç„¶æœ‰å…¬çº¦æ•° <span class="math inline">\(2\)</span> æ‰€ä»¥è¿é€šã€‚æ‰€ä»¥ç­”æ¡ˆè‡³å¤šä¸º <span class="math inline">\(2\)</span>ã€‚</p>
<p>è€ƒè™‘ä¸€å¼€å§‹å…ˆç”¨å¹¶æŸ¥é›†è¿å¥½å·²ç»æœ‰äº†çš„è¾¹ï¼ŒæŸ¥è¯¢çš„æ—¶å€™è‹¥å·²ç»è¿é€šï¼Œåˆ™ç­”æ¡ˆä¸º <span class="math inline">\(0\)</span>ã€‚ç„¶åè€ƒè™‘ä»€ä¹ˆæ—¶å€™ç­”æ¡ˆä¸º <span class="math inline">\(1\)</span>ï¼Œæ˜¾ç„¶ï¼Œå½“ <span class="math inline">\(a_s + 1\)</span> å’Œ <span class="math inline">\(a_t\)</span> æ‰€åœ¨é›†åˆè¿é€šæˆ–è€… <span class="math inline">\(a_s\)</span> æ‰€åœ¨é›†åˆå’Œ <span class="math inline">\(a_t + 1\)</span> è¿é€šæ—¶ç­”æ¡ˆå°±ä¸º <span class="math inline">\(1\)</span>ã€‚è¿™ä¸ªå¯ä»¥é¢„å¤„ç†ä¸€ä¸‹ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦å¤§æŠµæ˜¯ <span class="math inline">\(\log\)</span> çº§åˆ«çš„ï¼Œèƒ½è¿‡ã€‚</p>
<h2 id="codeforces-round-737-div.-2">Codeforces Round #737 (Div. 2)</h2>
<h3 id="c.-moamen-and-xor">1557C. Moamen and XOR</h3>
<p>æ‹†å¼€ä½æ¥è€ƒè™‘ã€‚å¤„ç†ä¸€ä¸‹ç»„åˆæ•°ã€‚</p>
<h2 id="codeforces-round-738-div.-2">Codeforces Round #738 (Div. 2)</h2>
<h3 id="d1.-mocha-and-diana-easy-version">1559D1. Mocha and Diana (Easy Version)</h3>
<p>æš´åŠ›ç»™ä¸¤ä¸ªæ£®æ—åŠ è¾¹ï¼Œ<span class="math inline">\(O(n^2\log n)\)</span> å¯è¿‡ã€‚</p>
<h3 id="d2.-mocha-and-diana-hard-version">1559D2. Mocha and Diana (Hard Version)</h3>
<p>è€ƒè™‘å»¶ç»­ä¸Šé¢˜çš„æ€§è´¨ã€‚</p>
<p>è´ªå¿ƒçš„æŠŠ <span class="math inline">\(1\)</span> èƒ½è¿çš„è¾¹è¿äº†ï¼Œç„¶åä¼šå‡ºç°ä¸¤ç±»ç‚¹ï¼šåªåœ¨ <span class="math inline">\(A\)</span> å›¾ä¸­ä¸ <span class="math inline">\(1\)</span> ç›¸è¿ä»¥åŠåªåœ¨ <span class="math inline">\(B\)</span> å›¾ä¸­ä¸ <span class="math inline">\(1\)</span> ç›¸è¿ã€‚ç„¶åæ˜¾ç„¶å¯ä»¥åœ¨ä¸¤ä¸ªé›†åˆä¸­æŒ‘ç‚¹å‡ºæ¥è¿è¾¹ã€‚ç›´æ¥è¿å°±è¡Œäº†ï¼Œå¤æ‚åº¦ <span class="math inline">\(O(n\log n)\)</span>ã€‚</p>
<h3 id="e.-mocha-and-stars">1559E. Mocha and Stars</h3>
<p>æ±‚æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„åºåˆ— <span class="math inline">\((a_1, a_2, \cdots , a_n)\)</span> çš„æ•°é‡ï¼š</p>
<ul>
<li><span class="math inline">\(\forall i\in[1, n], a_i\in[l_i, r_i]\)</span>ï¼›</li>
<li><span class="math inline">\(\sum a_i\le m\)</span>ï¼›</li>
<li><span class="math inline">\(\gcd(a_1, a_2, \cdots, a_n) = 1\)</span></li>
</ul>
<p><span class="math inline">\(2\le n\le 50\)</span>ï¼Œ<span class="math inline">\(1\le m\le 10^5\)</span>ï¼Œç­”æ¡ˆå¯¹ <span class="math inline">\(998244353\)</span> å–æ¨¡ã€‚</p>
<p>ä¸è€ƒè™‘ <span class="math inline">\(\gcd\)</span> çš„é™åˆ¶ï¼Œå‘ç°å…¶ä¸ºä¸€ä¸ªèƒŒåŒ…ã€‚ä»¤ <span class="math inline">\(f_{i, j}\)</span> ä¸ºå‰ <span class="math inline">\(i\)</span> ä¸ªç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡ä¸º <span class="math inline">\(j\)</span> çš„æ–¹æ¡ˆæ•°ï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ï¼š <span class="math display">\[
f_{i, j} = \sum_{k = l_i}^{r_i}f_{i - 1, j - k}
\]</span> è¿™æ ·ç›´æ¥å»åšæ˜¯ <span class="math inline">\(O(nm^2)\)</span> çš„ï¼Œå‘ç°è½¬ç§»å¯ä»¥ä½¿ç”¨å‰ç¼€å’Œä¼˜åŒ–ï¼Œå…·ä½“è®¾ <span class="math inline">\(s_{i, j}\)</span> è¡¨ç¤º <span class="math display">\[
s_{i, j} = \sum_{k = 0}^jf_{i, k}
\]</span> ç„¶åå°±æœ‰äº†è½¬ç§»æ–¹ç¨‹ <span class="math display">\[
f_{i, j} = s_{i - 1, j - l_i} - s_{i - 1, j - r_i - 1}
\]</span> èƒŒåŒ…éƒ¨åˆ†çš„å¤æ‚åº¦ä¸º <span class="math inline">\(O(nm)\)</span>ã€‚</p>
<p>ç„¶åè€ƒè™‘ <span class="math inline">\(\gcd\)</span> çš„é™åˆ¶ï¼Œè¿™ç±»å¥—è·¯é—®é¢˜ä½¿ç”¨è«æ¯”ä¹Œæ–¯åæ¼”å³å¯ã€‚ <span class="math display">\[
\begin{aligned}
&amp;\sum_{a_1=l_1}^{r_1}\sum_{a_2=l_2}^{r_2}\cdots\sum_{a_n=l_n}^{r_n}[\gcd(a_1,\cdots,a_n)=1]\left[\sum_{i = 1}^na_i\le m\right]\\
=&amp;\sum_{a_1=l_1}^{r_1}\sum_{a_2=l_2}^{r_2}\cdots\sum_{a_n=l_n}^{r_n}\left[\sum_{i = 1}^na_i\le m\right]\sum_{d \mid \gcd(a_1,\cdots,a_n)}\mu(d)\\ =&amp;\sum_{a_1=l_1}^{r_1}\sum_{a_2=l_2}^{r_2}\cdots\sum_{a_n=l_n}^{r_n}\left[\sum_{i = 1}^na_i\le m\right]\sum_{d\mid a_1,\cdots,d \mid a_n}\mu(d)\\
=&amp;\sum_{d=1}^M\mu(d)\sum_{a_1=\lceil\frac{l_1}{d}\rceil}^{\lfloor\frac{r_1}{d}\rfloor}\sum_{a_2=\lceil\frac{l_2}{d}\rceil}^{\lfloor\frac{r_2}{d}\rfloor}\cdots\sum_{a_n=\lceil\frac{l_n}{d}\rceil}^{\lfloor\frac{r_n}{d}\rfloor}\left[\sum_{i = 1}^na_i\le \left\lfloor\frac m d\right\rfloor\right]
\end{aligned}
\]</span> æ€»æ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(nm\log m)\)</span>ã€‚</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a aria-hidden="true" href="#cb4-1"></a><span class="dt">int</span> main() {</span>
<span id="cb4-2"><a aria-hidden="true" href="#cb4-2"></a>    init();</span>
<span id="cb4-3"><a aria-hidden="true" href="#cb4-3"></a>    read(n), read(m);</span>
<span id="cb4-4"><a aria-hidden="true" href="#cb4-4"></a>    FOR(i, <span class="dv">1</span>, n) read(L[i]), read(R[i]);</span>
<span id="cb4-5"><a aria-hidden="true" href="#cb4-5"></a>    modint ans = <span class="dv">0</span>;</span>
<span id="cb4-6"><a aria-hidden="true" href="#cb4-6"></a>    FOR(d, <span class="dv">1</span>, m) {</span>
<span id="cb4-7"><a aria-hidden="true" href="#cb4-7"></a>        <span class="cf">if</span> (mu[d] == <span class="dv">0</span>) <span class="cf">continue</span>;</span>
<span id="cb4-8"><a aria-hidden="true" href="#cb4-8"></a>        FOR(j, <span class="dv">0</span>, m / d) sum[j] = <span class="dv">1</span>;</span>
<span id="cb4-9"><a aria-hidden="true" href="#cb4-9"></a>        FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb4-10"><a aria-hidden="true" href="#cb4-10"></a>            l[i] = (L[i] + d - <span class="dv">1</span>) / d, r[i] = R[i] / d;</span>
<span id="cb4-11"><a aria-hidden="true" href="#cb4-11"></a>            FOR(j, <span class="dv">1</span>, m / d) f[j] = <span class="dv">0</span>;</span>
<span id="cb4-12"><a aria-hidden="true" href="#cb4-12"></a>            FOR(j, l[i], m / d) {</span>
<span id="cb4-13"><a aria-hidden="true" href="#cb4-13"></a>                f[j] = sum[j - l[i]];</span>
<span id="cb4-14"><a aria-hidden="true" href="#cb4-14"></a>                <span class="cf">if</span> (j - r[i] - <span class="dv">1</span> &gt;= <span class="dv">0</span>) f[j] -= sum[j - r[i] - <span class="dv">1</span>];</span>
<span id="cb4-15"><a aria-hidden="true" href="#cb4-15"></a>            }</span>
<span id="cb4-16"><a aria-hidden="true" href="#cb4-16"></a>            sum[<span class="dv">0</span>] = <span class="dv">0</span>;</span>
<span id="cb4-17"><a aria-hidden="true" href="#cb4-17"></a>            FOR(j, <span class="dv">1</span>, m / d) sum[j] = f[j] + sum[j - <span class="dv">1</span>];</span>
<span id="cb4-18"><a aria-hidden="true" href="#cb4-18"></a>        }</span>
<span id="cb4-19"><a aria-hidden="true" href="#cb4-19"></a>        ans += sum[m / d] * mu[d];</span>
<span id="cb4-20"><a aria-hidden="true" href="#cb4-20"></a>    }</span>
<span id="cb4-21"><a aria-hidden="true" href="#cb4-21"></a>    print(ans);</span>
<span id="cb4-22"><a aria-hidden="true" href="#cb4-22"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb4-23"><a aria-hidden="true" href="#cb4-23"></a>}</span></code></pre></div>
<h2 id="vk-cup-2021-final-engine-and-codeforces-round-740">VK Cup 2021 â€” Final (Engine) and Codeforces Round #740</h2>
<h3 id="a.-simply-strange-sort">1561A. Simply Strange Sort</h3>
<p>æ¨¡æ‹Ÿ</p>
<h3 id="a.-charmed-by-the-game">1558A. Charmed by the Game</h3>
<p>ç›´æ¥æšä¸¾ A å…ˆæ‰‹ B èµ¢æ¯”èµ›çš„æ¬¡æ•°ï¼Œåˆ† <span class="math inline">\(a + b\)</span> çš„å¥‡å¶æ€§è®¨è®ºå³å¯ã€‚</p>
<h3 id="c.-deep-down-below">1561C. Deep Down Below</h3>
<p>äºŒåˆ†ç­”æ¡ˆï¼Œæ°´ã€‚</p>
<h3 id="b.-up-the-strip">1558B. Up the Strip</h3>
<p>ä¸€ä¸ªç‚¹ <span class="math inline">\(x\)</span> å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼åˆ°åˆ«çš„æ ¼å­ï¼š</p>
<ul>
<li>å‡æ³•æ“ä½œï¼šåˆ° <span class="math inline">\(y\)</span>ï¼Œ<span class="math inline">\(1\le y &lt; x\)</span>ã€‚</li>
<li>é™¤æ³•æ“ä½œï¼šåˆ° <span class="math inline">\(y\)</span>ï¼Œ<span class="math inline">\(y = \lfloor x / d\rfloor\)</span>ï¼Œ<span class="math inline">\(d\ge 2\)</span>ã€‚</li>
</ul>
<p>dpï¼Œé¦–å…ˆæœ€æœ´ç´ çš„åšæ³•å¯ä»¥é€šè¿‡å‰ç¼€å’Œå’Œæ•´é™¤åˆ†å—å®ç°ï¼Œæ€»å¤æ‚åº¦ <span class="math inline">\(O(n\sqrt n)\)</span>ã€‚</p>
<p>è€ƒè™‘ <span class="math inline">\(f_i\)</span> å¯¹åé¢äº§ç”Ÿçš„è´¡çŒ®ã€‚</p>
<p>è®¾ <span class="math inline">\(j = qi + r\)</span>ï¼Œ<span class="math inline">\(0\le r &lt; q\)</span>ï¼Œåˆ™ä¸éš¾å‘ç° <span class="math inline">\(\lfloor j / q\rfloor = i\)</span>ï¼Œæ‰€ä»¥ä¸€ä¸ª <span class="math inline">\(i\)</span> å¯¹äºæ¯ä¸ª <span class="math inline">\(q\ge 2\)</span>ï¼Œä¼šå¯¹ <span class="math inline">\([qi, q(i + 1))\)</span> äº§ç”Ÿè´¡çŒ®ã€‚</p>
<p>å·®åˆ†ç»´æŠ¤ä¸€ä¸‹å³å¯ï¼Œå¤æ‚åº¦è°ƒå’Œ <span class="math inline">\(O(n\log n)\)</span>ã€‚</p>
<h2 id="codeforces-round-741-div.-2">Codeforces Round 741 (Div. 2)</h2>
<p>A + C</p>
<h3 id="c---rings">1562C - Rings</h3>
<p>é¢˜æ„ï¼šç»™å®š <span class="math inline">\(10^5\)</span> çš„ <span class="math inline">\(01\)</span> ä¸²ï¼Œè¦æ±‚é€‰å‡ºä¸¤ä¸åŒçš„é•¿åº¦å¤§äº <span class="math inline">\(\lfloor \frac n2\rfloor\)</span> çš„å­æ®µï¼Œè¦æ±‚ä¸€ä¸ªä¸ºå¦ä¸€ä¸ªçš„å€æ•°ï¼Œä¿è¯æœ‰è§£ã€‚</p>
<p>æ³¨æ„åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶æ•°åé¢æ·»ä¸€ä¸ª <span class="math inline">\(0\)</span> ç›¸å½“äºå°±æ˜¯ä¹˜ä¸Š <span class="math inline">\(2\)</span>ã€‚è€Œæœ¬é¢˜ä¸­å‰å¯¼é›¶ä¹Ÿä¸å½±å“ï¼Œæ‰€ä»¥ç›´æ¥æ‰¾ä¸²ä¸­çš„ <span class="math inline">\(0\)</span> å³å¯ã€‚ç‰¹åˆ¤å…¨ <span class="math inline">\(1\)</span> ä¸²ã€‚</p>
<h2 id="deltix-round-summer-2021-open-for-everyone-rated-div.-1-div.-2">Deltix Round, Summer 2021 (open for everyone, rated, Div. 1 + Div. 2)</h2>
<h3 id="c---compressed-bracket-sequence">1556C - Compressed Bracket Sequence</h3>
<p>è€ƒè™‘å¦‚æœæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸²è¿ç»­çš„å³æ‹¬å·ï¼Œç»Ÿè®¡ä»–ä»¬çš„è´¡çŒ®ã€‚</p>
<ul>
<li>å¦‚æœå·¦è¾¹çš„å·¦æ‹¬å·æ¯”ä»–å¤šï¼Œåˆ™è´¡çŒ®ä¸ºå³æ‹¬å·çš„ä¸ªæ•°ã€‚</li>
<li>å¦‚æœå·¦è¾¹çš„å·¦æ‹¬å·å’Œä»–ä¸€æ ·å¤šï¼Œåˆ™è´¡çŒ®ä¸ºå³æ‹¬å·çš„æ•°é‡åŠ ä¸Šå·¦è¾¹ç›¸é‚»åˆæ³•æ‹¬å·ä¸²çš„æ•°é‡ã€‚</li>
<li>å¦‚æœå·¦è¾¹çš„å·¦æ‹¬å·æ¯”ä»–å°‘ï¼Œåˆ™è´¡çŒ®ä¸ºå³æ‹¬å·çš„æ•°é‡åŠ ä¸Šå·¦è¾¹ç›¸é‚»åˆæ³•æ‹¬å·ä¸²çš„æ•°é‡ï¼Œä½†æ˜¯è¿˜å‰©è‹¥å¹²å³æ‹¬å·æ²¡æœ‰åŒ¹é…ï¼Œå¾€å·¦æšä¸¾å·¦æ‹¬å·é‡å¤ä¸Šè¿°ä¸‰ç§æƒ…å†µå³å¯ã€‚</li>
</ul>
<p>éœ€è¦ç»´æŠ¤ä¸€ä¸ªç‚¹ç»“å°¾å¤„åˆæ³•æ‹¬å·ä¸²çš„æ•°é‡ã€‚</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a aria-hidden="true" href="#cb5-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb5-2"><a aria-hidden="true" href="#cb5-2"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="dv">1005</span>;</span>
<span id="cb5-3"><a aria-hidden="true" href="#cb5-3"></a><span class="dt">int</span> n, a[maxn];</span>
<span id="cb5-4"><a aria-hidden="true" href="#cb5-4"></a>ll sum[maxn];</span>
<span id="cb5-5"><a aria-hidden="true" href="#cb5-5"></a></span>
<span id="cb5-6"><a aria-hidden="true" href="#cb5-6"></a><span class="dt">int</span> main() {</span>
<span id="cb5-7"><a aria-hidden="true" href="#cb5-7"></a>    read(n);</span>
<span id="cb5-8"><a aria-hidden="true" href="#cb5-8"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i]);</span>
<span id="cb5-9"><a aria-hidden="true" href="#cb5-9"></a>    ll ans = <span class="dv">0</span>;</span>
<span id="cb5-10"><a aria-hidden="true" href="#cb5-10"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">2</span>; i &lt;= n; i += <span class="dv">2</span>) {</span>
<span id="cb5-11"><a aria-hidden="true" href="#cb5-11"></a>        <span class="dt">int</span> tot = a[i];</span>
<span id="cb5-12"><a aria-hidden="true" href="#cb5-12"></a>        <span class="cf">for</span> (<span class="dt">int</span> j = i - <span class="dv">1</span>; j &gt;= <span class="dv">1</span>; j -= <span class="dv">2</span>) {</span>
<span id="cb5-13"><a aria-hidden="true" href="#cb5-13"></a>            <span class="cf">if</span> (!tot) <span class="cf">break</span>;</span>
<span id="cb5-14"><a aria-hidden="true" href="#cb5-14"></a>            <span class="cf">if</span> (!a[j]) <span class="cf">continue</span>;</span>
<span id="cb5-15"><a aria-hidden="true" href="#cb5-15"></a>            <span class="cf">if</span> (tot &lt; a[j]) {</span>
<span id="cb5-16"><a aria-hidden="true" href="#cb5-16"></a>                ans += tot;</span>
<span id="cb5-17"><a aria-hidden="true" href="#cb5-17"></a>                a[j] -= tot;</span>
<span id="cb5-18"><a aria-hidden="true" href="#cb5-18"></a>                ++sum[i];</span>
<span id="cb5-19"><a aria-hidden="true" href="#cb5-19"></a>                <span class="cf">break</span>;</span>
<span id="cb5-20"><a aria-hidden="true" href="#cb5-20"></a>            } <span class="cf">else</span> <span class="cf">if</span> (tot == a[j]) {</span>
<span id="cb5-21"><a aria-hidden="true" href="#cb5-21"></a>                ans += tot + sum[j - <span class="dv">1</span>];</span>
<span id="cb5-22"><a aria-hidden="true" href="#cb5-22"></a>                sum[i] += <span class="dv">1</span> + sum[j - <span class="dv">1</span>];</span>
<span id="cb5-23"><a aria-hidden="true" href="#cb5-23"></a>                a[j] = <span class="dv">0</span>;</span>
<span id="cb5-24"><a aria-hidden="true" href="#cb5-24"></a>                <span class="cf">break</span>;</span>
<span id="cb5-25"><a aria-hidden="true" href="#cb5-25"></a>            } <span class="cf">else</span> {</span>
<span id="cb5-26"><a aria-hidden="true" href="#cb5-26"></a>                tot -= a[j];</span>
<span id="cb5-27"><a aria-hidden="true" href="#cb5-27"></a>                ans += a[j] + sum[j - <span class="dv">1</span>];</span>
<span id="cb5-28"><a aria-hidden="true" href="#cb5-28"></a>                a[j] = <span class="dv">0</span>;</span>
<span id="cb5-29"><a aria-hidden="true" href="#cb5-29"></a>            }</span>
<span id="cb5-30"><a aria-hidden="true" href="#cb5-30"></a>        }</span>
<span id="cb5-31"><a aria-hidden="true" href="#cb5-31"></a>    }</span>
<span id="cb5-32"><a aria-hidden="true" href="#cb5-32"></a>    print(ans, <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb5-33"><a aria-hidden="true" href="#cb5-33"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb5-34"><a aria-hidden="true" href="#cb5-34"></a>}</span></code></pre></div>
<h3 id="d---take-a-guess">1556D - Take a Guess</h3>
<p>æœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„ç»“è®ºæ˜¯ <span class="math inline">\(a + b = (a\land b) + (a\lor b)\)</span>ã€‚</p>
<p>æ‰€ä»¥ç›´æ¥è¯¢é—® <span class="math inline">\(a_1 + a_i\)</span>ï¼ˆ<span class="math inline">\(i\le [2, n]\)</span>ï¼‰ï¼Œç„¶åå†è¯¢é—® <span class="math inline">\(a_2 + a_3\)</span>ï¼Œå°±å¯ä»¥åˆšå¥½åœ¨ <span class="math inline">\(2n\)</span> æ¬¡è¯¢é—®é‡Œé¢å¾—åˆ°ç­”æ¡ˆã€‚</p>
<h3 id="e---equilibrium">1556E - Equilibrium</h3>
<p>é¦–å…ˆï¼Œä»¤ <span class="math inline">\(c_i = b_i - a_i\)</span>ï¼Œåˆ™ä¸€æ¬¡æ“ä½œå˜ä¸ºåœ¨ <span class="math inline">\(c\)</span> çš„æŸäº›ä½ç½®ä¸ŠåŠ ä¸€ï¼ŒæŸäº›ä½ç½®ä¸Šå‡ä¸€ï¼Œç›®æ ‡å˜ä¸ºä½¿æŸä¸€æ®µ <span class="math inline">\(c\)</span> å…¨éƒ¨å˜ä¸º <span class="math inline">\(0\)</span>ã€‚</p>
<p>å¯è¡Œæ€§ï¼šä¼šå‘ç°è¿™ä¸ªæ“ä½œæœ‰ç‚¹ç±»ä¼¼æ‹¬å·åŒ¹é…ï¼Œæ•… <span class="math inline">\(c\)</span> åœ¨ <span class="math inline">\([l, r]\)</span> ä¸Šçš„ä»»æ„ä½ç½®çš„å‰ç¼€å’Œä¸å¯å°äºé›¶è€Œä¸”æ€»å’Œè¦ä¸º <span class="math inline">\(0\)</span>ã€‚å³ <span class="math inline">\(\min\{s_j\}\ge s_{l - 1}\)</span>ã€‚éœ€è¦ä¸€ä¸ª RMQã€‚</p>
<p>æ„é€ ç­”æ¡ˆï¼šå°†åŠ å‡æ³•ä¸¤ä¸¤é…å¯¹ä¹‹åå¤šç»„çš„ä¸€èµ·å®Œæˆã€‚å³ä¸ºåµŒå¥—æœ€æ·±çš„æ‹¬å·ï¼Œç›¸å½“äºçˆ¬å±±çˆ¬çš„æœ€é«˜å³°ï¼ŒæŸ¥ä¸€ä¸‹çˆ¬å±±çš„æœ€é«˜å³°å³å¯ã€‚ä¹Ÿéœ€è¦ä¸€ä¸ª RMQã€‚ç›´æ¥ä¸Šå°±è¡Œäº†ã€‚</p>
<h3 id="f---sports-betting">1556F - Sports Betting</h3>
<h3 id="g---gates-to-another-world">1556G - Gates to Another World</h3>
<h2 id="codeforces-round-742-div.-2">Codeforces Round #742 (Div. 2)</h2>
<p>A + B + C</p>
<h3 id="c---carrying-conundrum">1567C - Carrying Conundrum</h3>
<p>é¢˜æ„ï¼šå®šä¹‰ Alice çš„åŠ æ³•ä¸º <span class="math inline">\(a + b\)</span> ç«–å¼ä¸‹è¿›ä½è¿›åˆ°å‰é¢ä¸¤ä½å»ã€‚é—®æœ‰å¤šå°‘ç§æœ‰åºæ­£æ•´æ•°å¯¹ <span class="math inline">\((a, b)\)</span> ä½¿å¾— <span class="math inline">\(a + b = n\)</span>ã€‚</p>
<p>å¯ä»¥è€ƒè™‘ DPï¼Œæ³¨æ„åˆ°åªæœ‰å½“å‰ä½å’Œåé¢ä¸€ä½æœ‰åæ•ˆæ€§ï¼Œæ‰€ä»¥å¯ä»¥ä»¤ <span class="math inline">\(f_{i, k_0, k_1}\)</span> è¡¨ç¤ºä»ä½åˆ°é«˜ç¬¬ <span class="math inline">\(i\)</span> ä½ï¼Œå½“å‰ä½åŠä¸Šä¸€ä½æœ‰æ²¡æœ‰äº§ç”Ÿè¿›ä½ï¼Œè½¬ç§»æ˜“å¾—ï¼Œç­”æ¡ˆä¸º <span class="math inline">\(f_{len, 0, 0}\)</span>ã€‚</p>
<p>æ³¨æ„éœ€è¦å»é™¤ <span class="math inline">\((n, 0)\)</span> å’Œ <span class="math inline">\((0, n)\)</span>ã€‚<a href="https://codeforces.com/contest/1567/submission/127974617">è¯„æµ‹è®°å½•#127974617</a>ã€‚</p>
<h3 id="d---expression-evaluation-error">1567D - Expression Evaluation Error</h3>
<p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªæ•° <span class="math inline">\(s\)</span>ï¼Œè¦æ±‚åˆ’åˆ†æˆ <span class="math inline">\(n\)</span> ä¸ªæ•° <span class="math inline">\(n_1,\cdots n_s\)</span>ï¼Œè¦æ±‚æŠŠè¿™äº›æ•°çœ‹æˆ <span class="math inline">\(11\)</span> è¿›åˆ¶çš„ç„¶åæŒ‰ç…§ <span class="math inline">\(11\)</span> è¿›åˆ¶åŠ èµ·æ¥ä½¿å¾—ç»“æœæœ€å¤§ã€‚æ„é€ æ–¹æ¡ˆã€‚</p>
<p>é¦–å…ˆè€ƒè™‘æŒ‰ä½è´ªå¿ƒï¼šè®©æœ€é«˜ä½æœ€å¤§æ˜¯æ˜¾ç„¶çš„ï¼Œè®©å…¶ç­‰äº <span class="math inline">\(s\)</span> çš„æœ€é«˜ä½ä¸€å®šæ˜¯æœ€ä¼˜çš„ã€‚ç„¶åæˆ‘ä»¬ä¼šå‘ç°è¿™ä¸ªæ„é€ å‡ºçš„æœ€å¤§ç»“æœä¸€å®šä¸ä¼šå¤§äº <span class="math inline">\(s\)</span> çœ‹æˆ <span class="math inline">\(11\)</span> è¿›åˆ¶è¡¨ç¤ºçš„ç»“æœã€‚</p>
<p>æœ€ä¼˜çš„åšæ³•æ˜¯å°½é‡è®© Alice ä¸è¦è¿›ä½ï¼šå°† <span class="math inline">\(s\)</span> è¡¨ç¤ºæˆ <span class="math inline">\(10^k\)</span> ä¹‹å’Œï¼Œä¾‹å¦‚ <span class="math inline">\(25\)</span> å°±å¯ä»¥è¢«è¡¨ç¤ºä¸º <span class="math inline">\(10 + 10 + 1 + 1 + 1 + 1 + 1\)</span>ã€‚ä½†æ˜¯éš¾å…æœ‰åˆ’åˆ†æ•°é‡å¤šçš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±ä»é«˜ä½å¾€ä½ä½è´ªï¼Œè®©é«˜ä½å°½é‡ä¸è¦è¿›ä½å³å¯ã€‚</p>
<p>æ‰€ä»¥ä»æœ€é«˜ä½å¾€æœ€ä½ä½ä¾æ¬¡åˆ’åˆ†å³å¯ã€‚</p>
<h3 id="e---non-decreasing-dilemma">1567E - Non-Decreasing Dilemma</h3>
<p>å•ç‚¹ä¿®æ”¹åºåˆ—ï¼ŒåŒºé—´æŸ¥è¯¢ä¸é™å­æ®µä¸ªæ•°ã€‚</p>
<p>çº¿æ®µæ ‘ç»´æŠ¤æ¯ä¸ªåŒºé—´çš„ç­”æ¡ˆï¼Œå·¦ç«¯çš„ä¸é™å­æ®µé•¿åº¦ï¼Œå³ç«¯çš„ä¸é™å­æ®µé•¿åº¦ã€‚</p>
<p>æ³¨æ„ <code>pushup</code> å³å¯ã€‚<a href="https://codeforces.com/contest/1567/submission/127985171">è¯„æµ‹è®°å½•</a></p>
<h3 id="f---one-four-overload">1567F - One-Four Overload</h3>
<p>é¢˜æ„ï¼šç»™å®š <span class="math inline">\(n\times m\)</span> çš„æ–¹æ ¼ï¼Œæœ‰ <code>.</code> å’Œ <code>X</code> ä¸¤ç§ç‚¹ï¼Œè¦æ±‚åœ¨ <code>.</code> ä¸­å¡«å…¥ <span class="math inline">\(1\)</span> æˆ– <span class="math inline">\(4\)</span>ï¼Œ<code>X</code> ç‚¹ä¸­å¡«å…¥ <span class="math inline">\(5\)</span> çš„å€æ•°æ»¡è¶³å…¶ä¸ºä¸å…¶å››è”é€šçš„ <code>.</code> ä¸­æ•°å­—ä¹‹å’Œã€‚è¾“å‡ºæ— è§£æˆ–æ„é€ æ–¹æ¡ˆã€‚</p>
<p>æ³¨æ„åˆ° <span class="math display">\[
\begin{aligned}
1&amp;\equiv 1&amp;\pmod 5\\
4&amp;\equiv -1&amp;\pmod 5
\end{aligned}
\]</span> æ‰€ä»¥ï¼Œä¸éš¾å‘ç°ä¸€ä¸ª <code>X</code> ç‚¹æ—è¾¹å¿…é¡»å…·æœ‰æ•°é‡ç›¸ç­‰çš„ <span class="math inline">\(1\)</span> å’Œ <span class="math inline">\(4\)</span>ã€‚å¯¹äºå½¢å¦‚ <code>.X.</code> çš„æƒ…å†µï¼Œåªéœ€è¦å»ºè¾¹ç„¶åäºŒåˆ†å›¾æŸ“è‰²ä¸€ä¸‹å°±å¥½äº†ã€‚å…³é”®æ˜¯å¯¹äºâ€œåâ€å­—å½¢çš„æˆ‘ä»¬æ€ä¹ˆå¤„ç†ã€‚</p>
<p>åœ¨çº¸ä¸Šæ‰‹ç©å‡ ä¸ªå‘ç°å¯¹é¢çš„å¡«ç›¸åŒé¢œè‰²çš„æ˜¯æœ€ä¼˜çš„ï¼Œè¿™æ ·å­èƒ½æ–¹ä¾¿å…¶ä»–çš„æ„é€ æ–¹æ¡ˆï¼šå¦‚</p>
<pre class="plain"><code>.1..
4X41
.1XX
.1X4</code></pre>
<p>å¦‚æœæˆ‘ä»¬è¿™æ ·</p>
<pre class="plain"><code>.1..
1X4.
.4XX
..X.</code></pre>
<p>å‘ç°æ„é€ ä¸å‡ºæ¥ã€‚æŒ‰ç…§ä¸Šè¿°æ–¹æ³•æ„é€ äºŒåˆ†å›¾ï¼ˆä¸ºä»€ä¹ˆæ˜¯äºŒåˆ†å›¾åº”è¯¥æŒºæ˜¾ç„¶çš„ï¼‰ç„¶åå°±å¯ä»¥é€šè¿‡äº†ã€‚<a href="https://codeforces.com/contest/1567/submission/128134089">è¯„æµ‹è®°å½•</a>ã€‚</p>
<h2 id="codeforces-global-round-16">Codeforces Global Round 16</h2>
<p>A + B + C + D1ã€‚D2 å·²è¡¥ï¼Œæ°´ã€‚</p>
<h3 id="e---buds-re-hanging">1566E - Buds Re-hanging</h3>
<p>å®šä¹‰ä¸€æ£µæœ‰æ ¹æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸º bud å½“ä¸”ä»…å½“å…¶æœ‰è‡³å°‘ä¸€ä¸ªå„¿å­ä¸”å…¶æ‰€æœ‰å„¿å­éƒ½ä¸ºå¶èŠ‚ç‚¹ã€‚</p>
<p>æ¯æ¬¡æ“ä½œå¯ä»¥æå‡ºä¸€ä¸ª bud åŠå…¶å„¿å­ç„¶åæ¥åœ¨ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ä¸‹é¢ã€‚</p>
<p>é—®è‹¥å¹²æ¬¡æ“ä½œä¹‹åå¶å­èŠ‚ç‚¹æœ€å°‘ä¸ºå¤šå°‘ä¸ªã€‚</p>
<p>ä¸€ä¸ª bud æ¥åœ¨ä¸€ä¸ªå¶å­ä¸‹ä¹‹åä¼šä½¿å¾—å¶å­èŠ‚ç‚¹è‡³å¤šå‡ <span class="math inline">\(1\)</span>ï¼ˆå¦‚æœ bud ä¸Šé¢æ˜¯æ ¹åˆ™ä¼šå‡ <span class="math inline">\(1\)</span>ï¼‰ã€‚è€Œä¸”ç§»åŠ¨ bud çš„è¿‡ç¨‹å¯é€†ï¼Œä¸å¦¨å°†æ‰€æœ‰çš„ bud æ‰¾å‡ºæ¥æ¥åœ¨æ ¹ä¸Šï¼Œè®¾æ ‘èŠ‚ç‚¹ä¸º <span class="math inline">\(n\)</span>ï¼Œbud æœ‰ <span class="math inline">\(k\)</span> ä¸ªï¼Œåˆ™å¶å­èŠ‚ç‚¹æ•°è‚¯å®šä¸º <span class="math inline">\(n - k - 1\)</span>ï¼ˆæ€»ç»“ç‚¹å‡å»æ ¹å’Œæ¯ä¸ª budï¼‰ã€‚</p>
<p>ç„¶åè€ƒè™‘å¦‚æœæ ¹ä¸Šè‡³å°‘è¿æœ‰ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œåˆ™æŠŠæ‰€æœ‰çš„ bud ä¾æ¬¡æ¥ä¸Šå»ï¼Œä¸€å…±ä¼šæ¥ <span class="math inline">\(k\)</span> æ¬¡ï¼Œç­”æ¡ˆä¸º <span class="math inline">\(n - 2k - 1\)</span>ã€‚</p>
<p>å¦‚æœæ ¹ä¸Šæ²¡æœ‰ç›´æ¥è¿çš„å¶å­èŠ‚ç‚¹ï¼Œåˆ™æŠŠæ¯ä¸ª bud ä¾æ¬¡åˆå¹¶ï¼Œæ¥ <span class="math inline">\(k - 1\)</span> æ¬¡ï¼Œç­”æ¡ˆä¸º <span class="math inline">\(n - k - 1 - (k -1) = n - 2k\)</span>ã€‚</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a aria-hidden="true" href="#cb8-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb8-2"><a aria-hidden="true" href="#cb8-2"></a></span>
<span id="cb8-3"><a aria-hidden="true" href="#cb8-3"></a><span class="dt">int</span> n, head[maxn], to[maxn &lt;&lt; <span class="dv">1</span>], nxt[maxn &lt;&lt; <span class="dv">1</span>], cnte, d[maxn], k;</span>
<span id="cb8-4"><a aria-hidden="true" href="#cb8-4"></a></span>
<span id="cb8-5"><a aria-hidden="true" href="#cb8-5"></a>il <span class="dt">void</span> add(<span class="dt">int</span> u, <span class="dt">int</span> v) {</span>
<span id="cb8-6"><a aria-hidden="true" href="#cb8-6"></a>    to[++cnte] = v;</span>
<span id="cb8-7"><a aria-hidden="true" href="#cb8-7"></a>    nxt[cnte] = head[u];</span>
<span id="cb8-8"><a aria-hidden="true" href="#cb8-8"></a>    head[u] = cnte;</span>
<span id="cb8-9"><a aria-hidden="true" href="#cb8-9"></a>    <span class="cf">return</span>;</span>
<span id="cb8-10"><a aria-hidden="true" href="#cb8-10"></a>}</span>
<span id="cb8-11"><a aria-hidden="true" href="#cb8-11"></a></span>
<span id="cb8-12"><a aria-hidden="true" href="#cb8-12"></a><span class="dt">void</span> dfs(<span class="dt">int</span> u, <span class="dt">int</span> fa) {</span>
<span id="cb8-13"><a aria-hidden="true" href="#cb8-13"></a>    <span class="dt">bool</span> flag = <span class="dv">0</span>;</span>
<span id="cb8-14"><a aria-hidden="true" href="#cb8-14"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = head[u]; i; i = nxt[i]) {</span>
<span id="cb8-15"><a aria-hidden="true" href="#cb8-15"></a>        <span class="dt">int</span> v = to[i];</span>
<span id="cb8-16"><a aria-hidden="true" href="#cb8-16"></a>        <span class="cf">if</span> (v == fa) <span class="cf">continue</span>;</span>
<span id="cb8-17"><a aria-hidden="true" href="#cb8-17"></a>        dfs(v, u);</span>
<span id="cb8-18"><a aria-hidden="true" href="#cb8-18"></a>        <span class="cf">if</span> (d[v] == <span class="dv">2</span>) flag = <span class="dv">1</span>;</span>
<span id="cb8-19"><a aria-hidden="true" href="#cb8-19"></a>    }</span>
<span id="cb8-20"><a aria-hidden="true" href="#cb8-20"></a>    <span class="cf">if</span> (fa) {</span>
<span id="cb8-21"><a aria-hidden="true" href="#cb8-21"></a>        <span class="cf">if</span> (flag) ++k, d[u] = <span class="dv">3</span>;</span>
<span id="cb8-22"><a aria-hidden="true" href="#cb8-22"></a>        <span class="cf">else</span> d[u] = <span class="dv">2</span>;</span>
<span id="cb8-23"><a aria-hidden="true" href="#cb8-23"></a>    }</span>
<span id="cb8-24"><a aria-hidden="true" href="#cb8-24"></a>    <span class="cf">return</span>;</span>
<span id="cb8-25"><a aria-hidden="true" href="#cb8-25"></a>}</span>
<span id="cb8-26"><a aria-hidden="true" href="#cb8-26"></a></span>
<span id="cb8-27"><a aria-hidden="true" href="#cb8-27"></a><span class="dt">int</span> main() {</span>
<span id="cb8-28"><a aria-hidden="true" href="#cb8-28"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb8-29"><a aria-hidden="true" href="#cb8-29"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb8-30"><a aria-hidden="true" href="#cb8-30"></a>        read(n);</span>
<span id="cb8-31"><a aria-hidden="true" href="#cb8-31"></a>        FOR(i, <span class="dv">1</span>, n) head[i] = d[i] = <span class="dv">0</span>;</span>
<span id="cb8-32"><a aria-hidden="true" href="#cb8-32"></a>        k = <span class="dv">0</span>;</span>
<span id="cb8-33"><a aria-hidden="true" href="#cb8-33"></a>        FOR(i, <span class="dv">1</span>, n - <span class="dv">1</span>) {</span>
<span id="cb8-34"><a aria-hidden="true" href="#cb8-34"></a>            <span class="dt">int</span> u, v; read(u), read(v);</span>
<span id="cb8-35"><a aria-hidden="true" href="#cb8-35"></a>            add(u, v), add(v, u);</span>
<span id="cb8-36"><a aria-hidden="true" href="#cb8-36"></a>        }</span>
<span id="cb8-37"><a aria-hidden="true" href="#cb8-37"></a>        dfs(<span class="dv">1</span>, <span class="dv">0</span>);</span>
<span id="cb8-38"><a aria-hidden="true" href="#cb8-38"></a>        <span class="dt">int</span> s = <span class="dv">0</span>;</span>
<span id="cb8-39"><a aria-hidden="true" href="#cb8-39"></a>        <span class="cf">for</span> (<span class="dt">int</span> i = head[<span class="dv">1</span>]; i; i = nxt[i])</span>
<span id="cb8-40"><a aria-hidden="true" href="#cb8-40"></a>            <span class="cf">if</span> (d[to[i]] == <span class="dv">2</span>) {s = <span class="dv">1</span>; <span class="cf">break</span>;}</span>
<span id="cb8-41"><a aria-hidden="true" href="#cb8-41"></a>        print(n - <span class="dv">2</span> * k - s), putchar(<span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb8-42"><a aria-hidden="true" href="#cb8-42"></a>    }</span>
<span id="cb8-43"><a aria-hidden="true" href="#cb8-43"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb8-44"><a aria-hidden="true" href="#cb8-44"></a>}</span></code></pre></div>
<h2 id="codeforces-round-743-div.-12">Codeforces Round #743 (Div. 1/2)</h2>
<p>VP on 21/10/09ã€‚D2A + D2B + D1A + D1Bã€‚</p>
<h3 id="b---xor-of-3">1572B - Xor of 3</h3>
<p>é¦–å…ˆæœ‰è§£çš„å¿…è¦æ¡ä»¶æ˜¯ <span class="math inline">\(1\)</span> çš„ä¸ªæ•°ä¸ºå¶æ•°ä¸ªï¼Œå› ä¸ºæ¯æ¬¡æ“ä½œæ˜¯ä¸ä¼šæ”¹å˜ <span class="math inline">\(1\)</span> çš„ä¸ªæ•°çš„å¥‡å¶æ€§çš„ã€‚</p>
<p>ç„¶åè€ƒè™‘æ„é€ ï¼Œè‹¥ <span class="math inline">\(n\)</span> ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œ <span class="math inline">\(n - 2, \cdots, 3, 1\)</span>ï¼Œè¿™æ ·å­ä¹‹å <span class="math inline">\(a_1 = 0\)</span>ï¼Œç„¶åå†æ‰§è¡Œä¸€é <span class="math inline">\(1, 3, \cdots, n - 2\)</span> å°±å¯ä»¥äº†ã€‚</p>
<p>å¯¹äº <span class="math inline">\(n\)</span> ä¸ºå¶æ•°çš„æƒ…å†µå°†å…¶æ‹†æˆä¸¤æ®µé•¿åº¦ä¸ºå¥‡æ•°çš„å«å¶æ•°ä¸ª <span class="math inline">\(1\)</span> çš„ç„¶ååˆ†å¼€åšå°±è¡Œäº†ã€‚</p>
<h3 id="c---paint">1572C - Paint</h3>
<p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªæœ€å¤šå« <span class="math inline">\(20\)</span> ç§é¢œè‰²çš„åºåˆ—ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥æŠŠä¸€æ®µé¢œè‰²ç›¸åŒçš„åŒºé—´æŸ“æˆä¸€ç§é¢œè‰²ï¼Œé—®å°†æ‰€æœ‰é¢œè‰²æŸ“æˆåŒä¸€ç§çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚<span class="math inline">\(n\le 3000\)</span>ã€‚</p>
<p>è€ƒè™‘åŒºé—´ dpã€‚</p>
<p>é¦–å…ˆè‚¯å®šå°†ç›¸é‚»çš„åŒè‰²ç¼©èµ·æ¥ã€‚</p>
<p>ç„¶åè®¾ <span class="math inline">\(f_{i, j}\)</span> ä¸º<strong>å°† <span class="math inline">\([i, j]\)</span> æŸ“æˆ <span class="math inline">\(c_j\)</span> çš„æœ€å°ä»£ä»·</strong>ã€‚ä¸ºä»€ä¹ˆè¿™æ ·å®šä¹‰çŠ¶æ€æ˜¯å› ä¸ºä¸€å®šå­˜åœ¨ä¸€ç§æ–¹æ¡ˆä½¿å¾—æœ€åçš„é¢œè‰²ä¸º <span class="math inline">\(c_j\)</span>ï¼Œå®¹æ˜“å‘ç°å°† <span class="math inline">\([1, j - 1]\)</span> åŒè‰²ä¹‹åå†å’Œ <span class="math inline">\(c_j\)</span> ç»Ÿä¸€æ˜¯ä¸ä¼šæ›´åŠ£çš„ã€‚</p>
<p>é¦–å…ˆæœ‰ <span class="math inline">\(f_{i, j} = \min\{f_{i + 1, j}, f_{i, j - 1} \} + 1\)</span>ã€‚</p>
<p>å…¶æ¬¡ï¼Œå¦‚æœå­˜åœ¨ <span class="math inline">\(k\)</span> ä½¿å¾— <span class="math inline">\(i\le k &lt; j\)</span> ä¸” <span class="math inline">\(c_k = c_j\)</span>ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥ä» <span class="math inline">\(f_{i, k} + f_{k + 1, j}\)</span> è½¬ç§»è¿‡æ¥ã€‚è®°å½•ä¸€ä¸‹ä¸Šä¸€ä¸ªä¸ <span class="math inline">\(k\)</span> é¢œè‰²ç›¸åŒçš„ç‚¹å°±å¯ä»¥äº†ã€‚ç­”æ¡ˆä¸º <span class="math inline">\(f_{1, n}\)</span>ã€‚</p>
<h3 id="d---bridge-club">1572D - Bridge Club</h3>
<p>æ˜¾ç„¶ï¼Œå›¾ä¸ºäºŒåˆ†å›¾ï¼ŒæŒ‰ç…§äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹ <span class="math inline">\(1\)</span> çš„ä¸ªæ•°å³å¯åˆ†ä¸ºå·¦éƒ¨å’Œå³éƒ¨ï¼Œä¸­é—´è¿æƒä¸º <span class="math inline">\(a_i + a_j\)</span> çš„è¾¹ã€‚</p>
<p>ä½†æ˜¯ç›´æ¥è´¹ç”¨æµæˆ–è€… KM éƒ½ä¼šæ­»æ‰ï¼Œå› ä¸ºç‚¹æ•°ä¸º <span class="math inline">\(O(2^n)\)</span> çº§åˆ«ï¼Œè¾¹æ•°ä¸º <span class="math inline">\(O(n2^n)\)</span> çº§åˆ«ï¼Œå¿…æ­»æ— ç–‘ã€‚ä½†æ˜¯æ³¨æ„åˆ°è¿™ä¸ª <span class="math inline">\(k\)</span> æ˜¯å¾ˆå°çš„ï¼Œæˆ‘ä»¬éœ€è¦ä» <span class="math inline">\(k\)</span> ä¸Šä¸‹æ‰‹ã€‚</p>
<p>ä¸éš¾å‘ç°ï¼Œæ¯ä¸ªç‚¹ä¼šè¿å‡ºå» <span class="math inline">\(n\)</span> æ¡è¾¹ï¼Œå¦‚æœæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªåŒ¹é…ï¼Œé‚£ä¹ˆå‰©ä¸‹èƒ½åŒ¹é…çš„æ–¹æ¡ˆæ•°å°±ä¼šå‡å°‘ <span class="math inline">\(2(n - 1)\)</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰äº† <span class="math inline">\(k\)</span> ä¸ªåŒ¹é…åæœ€å¤šåªä¼šå‡å°‘ <span class="math inline">\(k(2n - 1)\)</span> ä¸ªåŒ¹é…æ–¹å¼ï¼Œå³æˆ‘ä»¬é€‰äº† <span class="math inline">\(k(2n - 1)\)</span> ä¸ªåŒ¹é…å°±ä¼šè‡³å°‘å­˜åœ¨ <span class="math inline">\(k\)</span> ä¸ªåŒ¹é…ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦é€‰å‡ºæœ€å¤§çš„ <span class="math inline">\(k(2n - 1)\)</span> æ¡è¾¹ï¼Œç„¶åè·‘è´¹ç”¨æµå°±è¡Œäº†ï¼Œä¸éš¾å‘ç°ä¸€å®šæœ‰æœ€ä¼˜çš„æ–¹æ¡ˆå­˜åœ¨åœ¨è¿™æœ€å¤§çš„ <span class="math inline">\(k(2n - 1)\)</span> æ¡è¾¹é‡Œé¢ï¼Œè¯æ˜å¯ç”¨åè¯æ³•ã€‚</p>
<p>å…·ä½“å®ç°ä¸­ï¼Œé€‰å‡ºæœ€å¤§çš„ <span class="math inline">\(k(2n - 1)\)</span> æ¡è¾¹æˆ‘ä»¬ä½¿ç”¨ STL çš„ <code>nth_element()</code> å‡½æ•°ï¼Œå…¶å¤æ‚åº¦ä¸º <span class="math inline">\(O(\text{length of the seq})\)</span>ï¼Œæœ¬é¢˜ä¸­ä¸º <span class="math inline">\(n2^n\)</span>ï¼Œç„¶åæ³¨æ„åŠ è¾¹çš„æ—¶å€™ä¸è¦ç»™æ¯ä¸ª <span class="math inline">\([0, 2^n - 1]\)</span> çš„çƒå‘˜éƒ½åŠ è¾¹ï¼Œå¦åˆ™ä¼š TLEã€‚</p>
<h3 id="e---polygon">1572E - Polygon</h3>
<p>ç»™å®šä¸€ä¸ªä¸¥æ ¼å‡¸å¤šè¾¹å½¢ï¼Œæœ€å¤§åŒ–åˆ’ <span class="math inline">\(k\)</span> åˆ€åçš„æœ€å°é¢ç§¯ï¼Œ<span class="math inline">\(3\le n\le 200, 0\le k\le n - 3\)</span>ã€‚</p>
<p>äºŒåˆ†è¿™ä¸ªæœ€å°é¢ç§¯ã€‚ç°åœ¨æˆ‘ä»¬å°±éœ€è¦åˆ’å‡ºæ¥çš„ <span class="math inline">\(k + 1\)</span> ä¸ªåŒºåŸŸçš„é¢ç§¯éƒ½å¤§äºç­‰äº <span class="math inline">\(S\)</span>ã€‚</p>
<p>åªè€ƒè™‘åˆ’åˆ† <span class="math inline">\([l, r]\)</span> è¿™ä¸ªåŒºé—´çš„ç‚¹ï¼Œæœ‰ä¸ªè´ªå¿ƒå°±æ˜¯æˆ‘ä»¬å°½å¯èƒ½å¤šåˆ’åˆ†ï¼Œè€Œ <span class="math inline">\(l\)</span> å’Œ <span class="math inline">\(r\)</span> ç›¸é‚»çš„è¿™éƒ¨åˆ†æœ‰å¯èƒ½é¢ç§¯ä¸å¤§äº <span class="math inline">\(S\)</span>ï¼Œæˆ‘ä»¬è¦è®©å…¶å°½å¯èƒ½å¤§ã€‚</p>
<p>è®¾ <span class="math inline">\(f_{l, r} = (K, M)\)</span> è¡¨ç¤ºæœ€å¤šåˆ’åˆ†å‡ºäº† <span class="math inline">\(K\)</span> å—åˆæ³•çš„åŒºåŸŸï¼Œ<span class="math inline">\(l\)</span> å’Œ <span class="math inline">\(r\)</span> ç›¸é‚»éƒ¨åˆ†è¿™å—ä¸‰è§’å½¢çš„æœ€å¤§é¢ç§¯ä¸º <span class="math inline">\(M\)</span>ã€‚è½¬ç§»æ˜“å¾—ï¼Œæšä¸¾ <span class="math inline">\(k\in(l, r)\)</span> ç„¶åè€ƒè™‘åˆå¹¶ <span class="math inline">\(M\)</span> å’Œ <span class="math inline">\(K\)</span> å³å¯ã€‚</p>
<p>åªè¦ <span class="math inline">\(f_{1, n}\ge k + 1\)</span>ï¼Œå°±è¯´æ˜äºŒåˆ†å‡ºæ¥è¿™ä¸ªé¢ç§¯æ˜¯åˆæ³•çš„ã€‚</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a aria-hidden="true" href="#cb9-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb9-2"><a aria-hidden="true" href="#cb9-2"></a><span class="kw">using</span> pii = <span class="bu">std::</span>pair&lt;ll, ll&gt;;</span>
<span id="cb9-3"><a aria-hidden="true" href="#cb9-3"></a></span>
<span id="cb9-4"><a aria-hidden="true" href="#cb9-4"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="dv">205</span>;</span>
<span id="cb9-5"><a aria-hidden="true" href="#cb9-5"></a>ll x[maxn], y[maxn];</span>
<span id="cb9-6"><a aria-hidden="true" href="#cb9-6"></a><span class="dt">int</span> n, k;</span>
<span id="cb9-7"><a aria-hidden="true" href="#cb9-7"></a>pii f[maxn][maxn];</span>
<span id="cb9-8"><a aria-hidden="true" href="#cb9-8"></a></span>
<span id="cb9-9"><a aria-hidden="true" href="#cb9-9"></a>ll S(<span class="dt">int</span> i, <span class="dt">int</span> j, <span class="dt">int</span> k) {<span class="cf">return</span> (x[j] - x[i]) * (y[k] - y[i]) - (y[j] - y[i]) * (x[k] - x[i]);}</span>
<span id="cb9-10"><a aria-hidden="true" href="#cb9-10"></a></span>
<span id="cb9-11"><a aria-hidden="true" href="#cb9-11"></a><span class="dt">bool</span> check(ll mid) {</span>
<span id="cb9-12"><a aria-hidden="true" href="#cb9-12"></a>    FOR(len, <span class="dv">3</span>, n) {</span>
<span id="cb9-13"><a aria-hidden="true" href="#cb9-13"></a>        <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>, j = i + len - <span class="dv">1</span>; j &lt;= n; ++i, ++j) {</span>
<span id="cb9-14"><a aria-hidden="true" href="#cb9-14"></a>            f[i][j] = pii(<span class="dv">0</span>, <span class="dv">0</span>);</span>
<span id="cb9-15"><a aria-hidden="true" href="#cb9-15"></a>            FOR(k, i + <span class="dv">1</span>, j - <span class="dv">1</span>) {</span>
<span id="cb9-16"><a aria-hidden="true" href="#cb9-16"></a>                ll K = f[i][k].first + f[k][j].first;</span>
<span id="cb9-17"><a aria-hidden="true" href="#cb9-17"></a>                ll M = f[i][k].second + f[k][j].second + S(i, k, j);</span>
<span id="cb9-18"><a aria-hidden="true" href="#cb9-18"></a>                <span class="cf">if</span> (M &gt;= mid) f[i][j] = max(f[i][j], pii(K + <span class="dv">1</span>, <span class="dv">0</span>));</span>
<span id="cb9-19"><a aria-hidden="true" href="#cb9-19"></a>                <span class="cf">else</span> f[i][j] = max(f[i][j], pii(K, M));</span>
<span id="cb9-20"><a aria-hidden="true" href="#cb9-20"></a>            }</span>
<span id="cb9-21"><a aria-hidden="true" href="#cb9-21"></a>        }</span>
<span id="cb9-22"><a aria-hidden="true" href="#cb9-22"></a>    }</span>
<span id="cb9-23"><a aria-hidden="true" href="#cb9-23"></a>    <span class="cf">return</span> f[<span class="dv">1</span>][n].first &gt; k;</span>
<span id="cb9-24"><a aria-hidden="true" href="#cb9-24"></a>}</span>
<span id="cb9-25"><a aria-hidden="true" href="#cb9-25"></a></span>
<span id="cb9-26"><a aria-hidden="true" href="#cb9-26"></a><span class="dt">int</span> main() {</span>
<span id="cb9-27"><a aria-hidden="true" href="#cb9-27"></a>    read(n), read(k);</span>
<span id="cb9-28"><a aria-hidden="true" href="#cb9-28"></a>    FOR(i, <span class="dv">1</span>, n) read(x[i]), read(y[i]);</span>
<span id="cb9-29"><a aria-hidden="true" href="#cb9-29"></a>    ll l = <span class="dv">0</span>, r = <span class="fl">4e18</span>, ans;</span>
<span id="cb9-30"><a aria-hidden="true" href="#cb9-30"></a>    <span class="cf">while</span> (l &lt;= r) {</span>
<span id="cb9-31"><a aria-hidden="true" href="#cb9-31"></a>        ll mid = (l + r) &gt;&gt; <span class="dv">1</span>;</span>
<span id="cb9-32"><a aria-hidden="true" href="#cb9-32"></a>        <span class="cf">if</span> (check(mid)) ans = mid, l = mid + <span class="dv">1</span>;</span>
<span id="cb9-33"><a aria-hidden="true" href="#cb9-33"></a>        <span class="cf">else</span> r = mid - <span class="dv">1</span>;</span>
<span id="cb9-34"><a aria-hidden="true" href="#cb9-34"></a>    }</span>
<span id="cb9-35"><a aria-hidden="true" href="#cb9-35"></a>    print(ans, <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb9-36"><a aria-hidden="true" href="#cb9-36"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb9-37"><a aria-hidden="true" href="#cb9-37"></a>}</span></code></pre></div>
<h2 id="codeforces-round-745-div.-12">Codeforces Round #745 (Div. 1/2)</h2>
<p>çœŸçš„å¾ˆæ¯’ç˜¤çš„åœºã€‚Terrible Roundã€‚</p>
<h3 id="d---subsequence">1580D - Subsequence</h3>
<p>ç»™å®šé•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„åºåˆ— <span class="math inline">\(a\)</span>ï¼Œæ‰€æœ‰å…ƒç´ ä¸¤ä¸¤ä¸åŒã€‚éœ€è¦é€‰æ‹©ä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(m\)</span> çš„å­åºåˆ— <span class="math inline">\(a_{b_1}, a_{b_2},\cdots, a_{b_m}\)</span>ï¼Œè¦ä½¿å¾—å…¶ä»£ä»·æœ€å¤§ã€‚</p>
<p>å­åºåˆ—çš„ä»·å€¼è¢«å®šä¹‰ä¸º <span class="math display">\[
\sum_{i=1}^m(m\cdot a_{b_i}) - \sum_{i=1}^m\sum_{j=1}^mf(\min(b_i, b_j), \max(b_i, b_j))
\]</span> å…¶ä¸­ <span class="math inline">\(f(x, y)\)</span> è¡¨ç¤º <span class="math inline">\(\min_{x\le i\le y}\{a_i \}\)</span>ã€‚<span class="math inline">\(1\le m\le n\le 4000\)</span>ã€‚</p>
<p>åŒ–å‡ºå¼å­ï¼š <span class="math display">\[
\sum_{i = 1}^m(m - 1)a_{b_i} - 2\sum_{i=1}^{m-1}\sum_{j=i+1}^mf(b_i, b_j)
\]</span> ç„¶ååƒ <span class="math inline">\(f\)</span> è¿™ç§ä¸€è„¸ RMQ æ ·çš„ä¸œè¥¿è€ƒè™‘æ”¾åˆ°ç¬›å¡å°”æ ‘ä¸Šï¼Œç„¶åå†åŒ–å¥½çœ‹ä¸€ç‚¹ï¼š <span class="math display">\[
\sum_{i=1}^{m-1}\sum_{j=i+1}^m a_{b_i} + a_{b_j} - 2f(b_i, b_j)
\]</span> é‚£å°±æ˜¯ <span class="math inline">\(a_{b_i} + a_{b_j}\)</span> å†å‡å»ä¸¤å€ä»–ä»¬çš„ LCA çš„å€¼ï¼Œå¾ˆåƒä¸¤ç‚¹é—´çš„æ ‘ä¸Šè·ç¦»ã€‚è€ƒè™‘æ ‘å½¢ dp <span class="math inline">\(f_{i,j}\)</span> è¡¨ç¤º <span class="math inline">\(i\)</span> å­æ ‘é‡Œé¢é€‰äº† <span class="math inline">\(j\)</span> ä¸ªå…ƒç´ çš„æœ€å¤§ä»£ä»·ï¼Œå®¹æ˜“çŸ¥é“æ—¶é—´å¤æ‚åº¦ä¸º <span class="math inline">\(O(n^2)\)</span>ã€‚</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a aria-hidden="true" href="#cb10-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb10-2"><a aria-hidden="true" href="#cb10-2"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="dv">4005</span>;</span>
<span id="cb10-3"><a aria-hidden="true" href="#cb10-3"></a><span class="dt">int</span> n, m, ls[maxn], rs[maxn], stk[maxn], top;</span>
<span id="cb10-4"><a aria-hidden="true" href="#cb10-4"></a>ll a[maxn], size[maxn], f[maxn][maxn], w[maxn];</span>
<span id="cb10-5"><a aria-hidden="true" href="#cb10-5"></a></span>
<span id="cb10-6"><a aria-hidden="true" href="#cb10-6"></a><span class="dt">void</span> dfs(<span class="dt">int</span> u) {</span>
<span id="cb10-7"><a aria-hidden="true" href="#cb10-7"></a>    size[u] = <span class="dv">1</span>;</span>
<span id="cb10-8"><a aria-hidden="true" href="#cb10-8"></a>    <span class="cf">if</span> (ls[u]) {</span>
<span id="cb10-9"><a aria-hidden="true" href="#cb10-9"></a>        dfs(ls[u]), w[ls[u]] = a[ls[u]] - a[u];</span>
<span id="cb10-10"><a aria-hidden="true" href="#cb10-10"></a>        DEC(i, size[u], <span class="dv">0</span>)</span>
<span id="cb10-11"><a aria-hidden="true" href="#cb10-11"></a>            DEC(j, size[ls[u]], <span class="dv">0</span>)</span>
<span id="cb10-12"><a aria-hidden="true" href="#cb10-12"></a>                chkmax(f[u][i + j], f[u][i] + f[ls[u]][j] + j * (m - j) * w[ls[u]]);</span>
<span id="cb10-13"><a aria-hidden="true" href="#cb10-13"></a>        size[u] += size[ls[u]];</span>
<span id="cb10-14"><a aria-hidden="true" href="#cb10-14"></a>    }</span>
<span id="cb10-15"><a aria-hidden="true" href="#cb10-15"></a>    <span class="cf">if</span> (rs[u]) {</span>
<span id="cb10-16"><a aria-hidden="true" href="#cb10-16"></a>        dfs(rs[u]), w[rs[u]] = a[rs[u]] - a[u];</span>
<span id="cb10-17"><a aria-hidden="true" href="#cb10-17"></a>        DEC(i, size[u], <span class="dv">0</span>)</span>
<span id="cb10-18"><a aria-hidden="true" href="#cb10-18"></a>            DEC(j, size[rs[u]], <span class="dv">0</span>)</span>
<span id="cb10-19"><a aria-hidden="true" href="#cb10-19"></a>                chkmax(f[u][i + j], f[u][i] + f[rs[u]][j] + j * (m - j) * w[rs[u]]);</span>
<span id="cb10-20"><a aria-hidden="true" href="#cb10-20"></a>        size[u] += size[rs[u]];</span>
<span id="cb10-21"><a aria-hidden="true" href="#cb10-21"></a>    }</span>
<span id="cb10-22"><a aria-hidden="true" href="#cb10-22"></a>    <span class="cf">return</span>;</span>
<span id="cb10-23"><a aria-hidden="true" href="#cb10-23"></a>}</span>
<span id="cb10-24"><a aria-hidden="true" href="#cb10-24"></a></span>
<span id="cb10-25"><a aria-hidden="true" href="#cb10-25"></a><span class="dt">int</span> main() {</span>
<span id="cb10-26"><a aria-hidden="true" href="#cb10-26"></a>    read(n, m);</span>
<span id="cb10-27"><a aria-hidden="true" href="#cb10-27"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i]);</span>
<span id="cb10-28"><a aria-hidden="true" href="#cb10-28"></a>    stk[top = <span class="dv">1</span>] = <span class="dv">1</span>;</span>
<span id="cb10-29"><a aria-hidden="true" href="#cb10-29"></a>    FOR(i, <span class="dv">2</span>, n) {</span>
<span id="cb10-30"><a aria-hidden="true" href="#cb10-30"></a>        <span class="cf">while</span> (top &amp;&amp; a[stk[top]] &gt; a[i]) --top;</span>
<span id="cb10-31"><a aria-hidden="true" href="#cb10-31"></a>        <span class="cf">if</span> (!top) ls[i] = stk[top + <span class="dv">1</span>];</span>
<span id="cb10-32"><a aria-hidden="true" href="#cb10-32"></a>        <span class="cf">else</span> ls[i] = rs[stk[top]], rs[stk[top]] = i;</span>
<span id="cb10-33"><a aria-hidden="true" href="#cb10-33"></a>        stk[++top] = i;</span>
<span id="cb10-34"><a aria-hidden="true" href="#cb10-34"></a>    }</span>
<span id="cb10-35"><a aria-hidden="true" href="#cb10-35"></a>    dfs(stk[<span class="dv">1</span>]);</span>
<span id="cb10-36"><a aria-hidden="true" href="#cb10-36"></a>    print(f[stk[<span class="dv">1</span>]][m]);</span>
<span id="cb10-37"><a aria-hidden="true" href="#cb10-37"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb10-38"><a aria-hidden="true" href="#cb10-38"></a>}</span></code></pre></div>
<h2 id="codeforces-round-746-div.-2">Codeforces Round #746 (Div. 2)</h2>
<p>é¢˜ç›®å‡ºå¾—ä¸é”™ã€‚</p>
<h3 id="c---bakry-and-partitioning">1592C - Bakry and Partitioning</h3>
<p>é—®å°†ä¸€æ£µæ ‘åˆ’åˆ†ä¸ºæœ€å¤š <span class="math inline">\(k\)</span> ä¸ªè¿é€šå—ï¼Œè¦æ±‚è¿™äº›è¿é€šå—å†…ç‚¹æƒçš„å¼‚æˆ–å’Œç›¸ç­‰ï¼Œé—®æ˜¯å¦æœ‰è§£ã€‚</p>
<p>é¦–å…ˆå‘ç°ï¼Œå¦‚æœæ‰€æœ‰çš„ç‚¹æƒå¼‚æˆ–å’Œä¸º <span class="math inline">\(0\)</span>ï¼Œåˆ™å¿…ç„¶æœ‰è§£ï¼Œè€Œä¸”æ–­æ‰ä»»æ„ä¸€æ¡è¾¹éƒ½æ˜¯å¯ä»¥çš„ã€‚</p>
<p>ç„¶è€Œå¼‚æˆ–å’Œå¯èƒ½ä¸ä¸º <span class="math inline">\(0\)</span>ï¼Œæˆ‘ä»¬ä¸å¦¨è®¾å…¶ä¸º <span class="math inline">\(m\)</span>ã€‚è€Œæ ¹æ®å¼‚æˆ–çš„æ€§è´¨ï¼Œæˆ‘ä»¬çŸ¥é“åˆ’åˆ†å‡ºæ¥çš„å„ä¸ªè¿é€šå—çš„å¼‚æˆ–å’Œåªèƒ½ä¸º <span class="math inline">\(m\)</span>ï¼Œè€Œä¸”è¿é€šå—çš„ä¸ªæ•°ä¸ºå¥‡æ•°ã€‚</p>
<p>è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿè€ƒè™‘åˆ’åˆ†ä¸ºä¸‰ä¸ªè¿é€šå—çš„æƒ…å†µï¼šæ—¢è¦å¼‚æˆ–èµ·æ¥ä¸º <span class="math inline">\(m\)</span> åˆè¦ä¸¤ä¸¤ç›¸ç­‰ï¼Œä¸éš¾å‘ç°åªèƒ½ä¸ºä¸‰ä¸ª <span class="math inline">\(m\)</span>ã€‚ç„¶åæˆ‘ä»¬åˆä¼šå‘ç°ï¼Œä½†å‡¡æœ‰è§£ï¼Œä¸€å®šèƒ½åˆ’åˆ†ä¸ºè¿™æ ·çš„ä¸‰ä¸ªè¿é€šå—ã€‚</p>
<p>ç°åœ¨é—®é¢˜å°±è½¬åŒ–ä¸ºäº†æ‰¾åˆ°ä¸‰ä¸ªè¿é€šå—ä½¿å¾—ä»–ä»¬çš„å¼‚æˆ–å’Œéƒ½ä¸º <span class="math inline">\(m\)</span>ã€‚dfs æ‰«æä¸€éå³å¯ã€‚å¦‚æœé‡åˆ°ä¸€ä¸ªèŠ‚ç‚¹ <span class="math inline">\(u\)</span> æœ‰ä¸¤ä¸ªå­æ ‘ <span class="math inline">\(v_1,v_2\)</span> å†…å«å¼‚æˆ–å’Œä¸º <span class="math inline">\(m\)</span> çš„å­æ ‘ï¼Œåˆ™ä¸€å®šæœ‰è§£ã€‚è€Œä¸”ï¼Œå¦‚æœå½“å‰å­æ ‘ <span class="math inline">\(u\)</span> çš„å¼‚æˆ–å’Œä¸º <span class="math inline">\(0\)</span>ï¼Œä¸”å­˜åœ¨ä¸€ä¸ªåŒ…å«åœ¨ <span class="math inline">\(u\)</span> å†…çš„å¼‚æˆ–å’Œä¸º <span class="math inline">\(m\)</span> çš„å­æ ‘ï¼Œåˆ™ä¹Ÿä¸€å®šæœ‰è§£ã€‚</p>
<p>ç¨åŠ åˆ†æå¯çŸ¥ä¸Šé¢ä¸¤ç§æ¶µç›–äº†æ‰€æœ‰çš„æƒ…å†µã€‚</p>
<h3 id="d---hemose-in-icpc">1592D - Hemose in ICPC ?</h3>
<p>ç‚¹æ•°ä¸º <span class="math inline">\(n\)</span>ï¼ˆ<span class="math inline">\(n \le 1000\)</span>ï¼‰çš„æ ‘ï¼Œæœ€å¤š <span class="math inline">\(12\)</span> æ¬¡æŸ¥è¯¢ï¼Œæ¯æ¬¡æŸ¥è¯¢ç»™å®šä¸€ä¸ªç‚¹é›†ï¼Œè¿”å›æœ€å¤§çš„ <span class="math inline">\(Dist(u, v)\)</span>ï¼Œä»£è¡¨ <span class="math inline">\(u\)</span> åˆ° <span class="math inline">\(v\)</span> çš„ç®€å•è·¯å¾„ä¸Šçš„è¾¹æƒçš„ <span class="math inline">\(\gcd\)</span>ã€‚è¦æ±‚æ‰¾åˆ° <span class="math inline">\(\gcd\)</span> æœ€å¤§çš„ <span class="math inline">\(u\)</span> å’Œ <span class="math inline">\(v\)</span>ã€‚</p>
<p>æ³¨æ„åˆ° <span class="math inline">\(\gcd\)</span> åªä¼šå‡å°ï¼Œä¸ä¼šå¢å¤§ï¼Œå› æ­¤ <span class="math inline">\(\gcd(u, v)\)</span> æœ€å¤§æ—¶ä¸€å®šæ˜¯ <span class="math inline">\(u\)</span> å’Œ <span class="math inline">\(v\)</span> ç›¸è¿ï¼Œç›¸å½“äºæˆ‘ä»¬è¦æ‰¾è¿™æ£µæ ‘çš„æœ€å¤§è¾¹æƒã€‚</p>
<p>å¦‚ä½•å»æ‰¾ï¼Ÿè¿™ä¸ªæŸ¥è¯¢æ¬¡æ•°å’Œæ•°æ®èŒƒå›´å¾ˆæ˜æ˜¾çš„æš—ç¤ºäº†æˆ‘ä»¬è¦äºŒåˆ†ä¸€ä¸ªç‚¹é›†ï¼Œå¯æ˜¯æˆ‘ä»¬å¦‚ä½•ä¿è¯äºŒåˆ†å‡ºæ¥çš„ä¸¤ä¸ªç‚¹é›†æ˜¯è”é€šçš„å‘¢ï¼Ÿ</p>
<p>ä¸å¦¨è€ƒè™‘è¿™æ£µæ ‘çš„æ¬§æ‹‰åºï¼Œå°†æ¬§æ‹‰åºå»ºå‡ºæ¥åä¼šå‘ç°ä¸¤ä¸¤ä¹‹é—´ä¸€å®šæ˜¯æœ‰è¾¹çš„ï¼Œæ‰€ä»¥åœ¨æ¬§æ‹‰åºä¸ŠäºŒåˆ†æ‰¾æœ€å¤§å€¼å°±å¯ä»¥äº†ï¼Œå¯ä»¥ä¿è¯æŸ¥è¯¢æ¬¡æ•°æœ€å¤šä¸º <span class="math inline">\(1 + \log(2n - 1)\)</span>ã€‚</p>
<p>å®ç°èµ·æ¥å¾ˆç®€å•ã€‚</p>
<h2 id="codeforces-round-747-div.-2">Codeforces Round #747 (Div. 2)</h2>
<p>A + B + C + D + E1ã€‚rk 606ã€‚è¡¥å®Œäº†ï¼Œå¥½è€¶ã€‚</p>
<h3 id="e2---rubiks-cube-coloring-hard-version">1594E2 - Rubikâ€™s Cube Coloring (hard version)</h3>
<p>é¢˜æ„ï¼š<span class="math inline">\(k\)</span> å±‚çš„æ»¡äºŒå‰æ ‘ï¼Œ<span class="math inline">\(n\)</span> ä¸ªèŠ‚ç‚¹å·²ç»è¢«æŸ“è‰²ï¼Œé¢œè‰²æ¥è‡ªé­”æ–¹çš„å…­ç§é¢œè‰²ã€‚è¦æ±‚æ ‘ä¸Šç›¸é‚»çš„èŠ‚ç‚¹æŸ“çš„é¢œè‰²ä¸èƒ½ä¸ºé­”æ–¹ä¸Šä¸ ç›¸é‚»çš„é¢œè‰²ï¼Œé—®å°†æ•´æ£µæ ‘æ¶‚æ»¡çš„æ–¹æ¡ˆæ•°ã€‚</p>
<p>ç»§æ‰¿ä¸€ä¸‹ E1 çš„åšæ³•ï¼Œæ²¡æœ‰é¢„å…ˆé’¦å®šçš„é¢œè‰²é‚£ä¹ˆç­”æ¡ˆä¸º <span class="math inline">\(6\times 4^{2^k - 2}\)</span>ã€‚æˆ‘ä»¬å‘ç°ï¼Œå·²ç»é’¦å®šå¥½çš„ <span class="math inline">\(n\)</span> ä¸ªç‚¹ä¼šå½±å“å…¶åˆ°æ ¹çš„ä¸€æ¡è·¯å¾„ï¼ŒæŠŠè¿™æ¡è·¯å¾„æŠ½å‡ºæ¥ dp å³å¯ã€‚ç„¶åä»¤æ²¡æœ‰è¢«å½±å“çš„ç‚¹æœ‰ <span class="math inline">\(m\)</span> ä¸ªï¼Œç­”æ¡ˆä¹˜ä¸Š <span class="math inline">\(4^m\)</span> å³å¯ã€‚</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a aria-hidden="true" href="#cb11-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb11-2"><a aria-hidden="true" href="#cb11-2"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb11-3"><a aria-hidden="true" href="#cb11-3"></a></span>
<span id="cb11-4"><a aria-hidden="true" href="#cb11-4"></a>map&lt;string, <span class="dt">int</span>&gt; st;</span>
<span id="cb11-5"><a aria-hidden="true" href="#cb11-5"></a>map&lt;ll, modint&gt; f[<span class="dv">3</span>];</span>
<span id="cb11-6"><a aria-hidden="true" href="#cb11-6"></a>map&lt;ll, <span class="dt">int</span>&gt; mp;</span>
<span id="cb11-7"><a aria-hidden="true" href="#cb11-7"></a>map&lt;ll, set&lt;ll&gt; &gt; G;</span>
<span id="cb11-8"><a aria-hidden="true" href="#cb11-8"></a>ll k, n;</span>
<span id="cb11-9"><a aria-hidden="true" href="#cb11-9"></a></span>
<span id="cb11-10"><a aria-hidden="true" href="#cb11-10"></a><span class="dt">void</span> dfs(ll u) {</span>
<span id="cb11-11"><a aria-hidden="true" href="#cb11-11"></a>    <span class="cf">for</span> (<span class="kw">auto</span> v : G[u]) dfs(v);</span>
<span id="cb11-12"><a aria-hidden="true" href="#cb11-12"></a>    FOR(c, <span class="dv">0</span>, <span class="dv">2</span>) {</span>
<span id="cb11-13"><a aria-hidden="true" href="#cb11-13"></a>        <span class="cf">if</span> (~mp[u] &amp;&amp; c ^ mp[u]) <span class="cf">continue</span>;</span>
<span id="cb11-14"><a aria-hidden="true" href="#cb11-14"></a>        f[c][u] = ~mp[u] ? <span class="dv">1</span> : <span class="dv">2</span>;</span>
<span id="cb11-15"><a aria-hidden="true" href="#cb11-15"></a>        <span class="cf">for</span> (<span class="kw">auto</span> v : G[u])</span>
<span id="cb11-16"><a aria-hidden="true" href="#cb11-16"></a>            f[c][u] *= (f[(c + <span class="dv">1</span>) % <span class="dv">3</span>][v] + f[(c + <span class="dv">2</span>) % <span class="dv">3</span>][v]);</span>
<span id="cb11-17"><a aria-hidden="true" href="#cb11-17"></a>    }</span>
<span id="cb11-18"><a aria-hidden="true" href="#cb11-18"></a>    <span class="cf">return</span>;</span>
<span id="cb11-19"><a aria-hidden="true" href="#cb11-19"></a>}</span>
<span id="cb11-20"><a aria-hidden="true" href="#cb11-20"></a></span>
<span id="cb11-21"><a aria-hidden="true" href="#cb11-21"></a><span class="dt">int</span> main() {</span>
<span id="cb11-22"><a aria-hidden="true" href="#cb11-22"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb11-23"><a aria-hidden="true" href="#cb11-23"></a>    cin.tie(<span class="dv">0</span>);</span>
<span id="cb11-24"><a aria-hidden="true" href="#cb11-24"></a>    cin &gt;&gt; k &gt;&gt; n;</span>
<span id="cb11-25"><a aria-hidden="true" href="#cb11-25"></a>    st[<span class="st">"white"</span>] = st[<span class="st">"yellow"</span>] = <span class="dv">0</span>;</span>
<span id="cb11-26"><a aria-hidden="true" href="#cb11-26"></a>    st[<span class="st">"green"</span>] = st[<span class="st">"blue"</span>] = <span class="dv">1</span>;</span>
<span id="cb11-27"><a aria-hidden="true" href="#cb11-27"></a>    st[<span class="st">"red"</span>] = st[<span class="st">"orange"</span>] = <span class="dv">2</span>;</span>
<span id="cb11-28"><a aria-hidden="true" href="#cb11-28"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb11-29"><a aria-hidden="true" href="#cb11-29"></a>        ll u;</span>
<span id="cb11-30"><a aria-hidden="true" href="#cb11-30"></a>        string s;</span>
<span id="cb11-31"><a aria-hidden="true" href="#cb11-31"></a>        cin &gt;&gt; u &gt;&gt; s;</span>
<span id="cb11-32"><a aria-hidden="true" href="#cb11-32"></a>        mp[u] = st[s];</span>
<span id="cb11-33"><a aria-hidden="true" href="#cb11-33"></a>    }</span>
<span id="cb11-34"><a aria-hidden="true" href="#cb11-34"></a>    <span class="cf">if</span> (!mp.count(<span class="dv">1</span>)) mp[<span class="dv">1</span>] = -<span class="dv">1</span>;</span>
<span id="cb11-35"><a aria-hidden="true" href="#cb11-35"></a>    <span class="kw">auto</span> mp0 = mp;</span>
<span id="cb11-36"><a aria-hidden="true" href="#cb11-36"></a>    <span class="cf">for</span> (<span class="kw">auto</span> p : mp0) {</span>
<span id="cb11-37"><a aria-hidden="true" href="#cb11-37"></a>        ll u = p.first;</span>
<span id="cb11-38"><a aria-hidden="true" href="#cb11-38"></a>        <span class="cf">while</span> (u ^ <span class="dv">1</span>) {</span>
<span id="cb11-39"><a aria-hidden="true" href="#cb11-39"></a>            G[u &gt;&gt; <span class="dv">1</span><span class="bu">ll</span>].insert(u);</span>
<span id="cb11-40"><a aria-hidden="true" href="#cb11-40"></a>            <span class="cf">if</span> (!mp.count(u)) mp[u] = -<span class="dv">1</span>;</span>
<span id="cb11-41"><a aria-hidden="true" href="#cb11-41"></a>            u &gt;&gt;= <span class="dv">1</span>;</span>
<span id="cb11-42"><a aria-hidden="true" href="#cb11-42"></a>        }</span>
<span id="cb11-43"><a aria-hidden="true" href="#cb11-43"></a>    }</span>
<span id="cb11-44"><a aria-hidden="true" href="#cb11-44"></a>    dfs(<span class="dv">1</span>);</span>
<span id="cb11-45"><a aria-hidden="true" href="#cb11-45"></a>    modint ans = (f[<span class="dv">0</span>][<span class="dv">1</span>] + f[<span class="dv">1</span>][<span class="dv">1</span>] + f[<span class="dv">2</span>][<span class="dv">1</span>]) * qPow(<span class="dv">4</span>, ((<span class="dv">1</span><span class="bu">ll</span> &lt;&lt; k) - <span class="dv">1</span> - mp.size()) % (mod - <span class="dv">1</span>));</span>
<span id="cb11-46"><a aria-hidden="true" href="#cb11-46"></a>    cout &lt;&lt; ans.val &lt;&lt; endl;</span>
<span id="cb11-47"><a aria-hidden="true" href="#cb11-47"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb11-48"><a aria-hidden="true" href="#cb11-48"></a>}</span></code></pre></div>
<p>è¿˜æ˜¯æŒºå¥½çš„ä¸€é“é¢˜ï¼Œæå‡ºæœ‰ç”¨çš„ç‚¹æ¥è¿›è¡Œæ ‘å½¢ dpã€‚</p>
<h3 id="f---ideal-farm">1594F - Ideal Farm</h3>
<p>ç»™å‡º <span class="math inline">\(n, s, k\)</span>ï¼Œé—®æ˜¯å¦æ‰€æœ‰çš„é•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„å’Œä¸º <span class="math inline">\(s\)</span> çš„æ­£æ•´æ•°åºåˆ—éƒ½æœ‰ä¸€æ®µé•¿åº¦ä¸º <span class="math inline">\(k\)</span> çš„åŒºé—´ã€‚</p>
<p>è€ƒè™‘æ„é€ ä¸€ä¸ªæ— è§£çš„æƒ…å†µã€‚å³è¦æ±‚æ²¡æœ‰ä¸¤ä¸ªå‰ç¼€å’Œçš„å·®ä¸º <span class="math inline">\(k\)</span>ï¼Œæ„é€ çš„æ—¶å€™å³ <span class="math inline">\(1, 1,1,\cdots, k + 1, 1, 1, \cdots\)</span> å¦‚æ˜¯æ„é€ ã€‚</p>
<p><span class="math inline">\(n &lt; k\)</span> çš„æ—¶å€™ç‰¹åˆ¤ä¸€ä¸‹ã€‚è ¢å¾—è¦æ­»ã€‚ã€‚ã€‚</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb12-1"><a aria-hidden="true" href="#cb12-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb12-2"><a aria-hidden="true" href="#cb12-2"></a></span>
<span id="cb12-3"><a aria-hidden="true" href="#cb12-3"></a><span class="dt">int</span> main() {</span>
<span id="cb12-4"><a aria-hidden="true" href="#cb12-4"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb12-5"><a aria-hidden="true" href="#cb12-5"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb12-6"><a aria-hidden="true" href="#cb12-6"></a>        ll s, n, k;</span>
<span id="cb12-7"><a aria-hidden="true" href="#cb12-7"></a>        read(s), read(n), read(k);</span>
<span id="cb12-8"><a aria-hidden="true" href="#cb12-8"></a>        <span class="cf">if</span> (n &lt; k) {</span>
<span id="cb12-9"><a aria-hidden="true" href="#cb12-9"></a>            <span class="cf">if</span> (s == k) puts(<span class="st">"YES"</span>);</span>
<span id="cb12-10"><a aria-hidden="true" href="#cb12-10"></a>            <span class="cf">else</span> puts(<span class="st">"NO"</span>);</span>
<span id="cb12-11"><a aria-hidden="true" href="#cb12-11"></a>        } <span class="cf">else</span> {</span>
<span id="cb12-12"><a aria-hidden="true" href="#cb12-12"></a>            ll w = n / k * <span class="dv">2</span><span class="bu">ll</span> * k + n % k;</span>
<span id="cb12-13"><a aria-hidden="true" href="#cb12-13"></a>            s &lt; w ? puts(<span class="st">"YES"</span>) : puts(<span class="st">"NO"</span>);</span>
<span id="cb12-14"><a aria-hidden="true" href="#cb12-14"></a>        }</span>
<span id="cb12-15"><a aria-hidden="true" href="#cb12-15"></a>    }</span>
<span id="cb12-16"><a aria-hidden="true" href="#cb12-16"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb12-17"><a aria-hidden="true" href="#cb12-17"></a>}</span></code></pre></div>
<h2 id="educational-codeforces-round-115">Educational Codeforces Round 115</h2>
<p>A + B + C + Dã€‚</p>
<h3 id="e---staircases">1598E - Staircases</h3>
<p>æ³¨æ„åˆ°å…¶å®å°±è¿™ä¸¤ç§æ¥¼æ¢¯ï¼Œè¦ä¹ˆç»“æŸä½ç½®æ˜¯ä¸¤ä¸ªæ¨ªç€çš„ï¼Œè¦ä¹ˆæ˜¯ä¸¤ä¸ªç«–ç€çš„ã€‚æ‰€ä»¥å¯ä»¥ dpï¼Œè®¾ <span class="math inline">\(f_{i, j, 0/1}\)</span> è¡¨ç¤º <span class="math inline">\((i, j)\)</span> ç»“æŸï¼Œæœ€åä½ç½®ä¸ºæ¨ª/ç«–çš„æ–¹æ¡ˆæ•°ï¼Œåˆ™æœ‰è½¬ç§» <span class="math display">\[
\begin{cases}
f_{i, j, 0} :=f_{i, j, 0} + f_{i - 1, j, 1}\\
f_{i, j, 1} := f_{i ,j , 1} + f_{i, j - 1. 0}
\end{cases}
\]</span> åˆå§‹æ¡ä»¶ä¸º <span class="math inline">\(f_{i, j, 0/1} = 1\)</span>ï¼Œå› ä¸ºä¸€ä¸ªæ ¼å­ä¹Ÿç®—æ¥¼æ¢¯ã€‚ä½†æ˜¯ä¼šç®—é‡ï¼Œæ‰€ä»¥éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹ã€‚</p>
<p>ç„¶åæ˜¯ä¿®æ”¹æ“ä½œã€‚æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œä¸€æ¬¡ä¿®æ”¹æ“ä½œèƒ½å½±å“çš„ dp å€¼æ˜¯æœ‰é™çš„ã€‚æ‰‹ç©ä¸€ä¸‹å‘ç°æœ€å¤šå½±å“ <span class="math inline">\(3n\)</span> ä¸ªæ ¼å­ã€‚æ•…æ€»æ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(n^2 + nq)\)</span>ã€‚</p>
<p>ä»£ç å°±ä¸æ”¾äº†ã€‚</p>
<h3 id="f---rbs">1598F - RBS</h3>
<p>æ‹¬å·åŒ¹é… + çŠ¶å‹ dp å¥½é¢˜ã€‚</p>
<p>å®šä¹‰åˆæ³•çš„æ‹¬å·ä¸²ï¼Œç»™å‡º <span class="math inline">\(n\le 20\)</span> ä¸ªæ€»é•¿ä¸è¶…è¿‡ <span class="math inline">\(4\times 10^5\)</span> çš„æ‹¬å·ä¸² <span class="math inline">\(s_i\)</span>ï¼Œé—®å°†æ‰€æœ‰ <span class="math inline">\(s_i\)</span> æŒ‰ç…§ä¸€å®šé¡ºåºæ‹¼æ¥èµ·æ¥åæœ€å¤šæœ‰å¤šå°‘ä¸ªå‰ç¼€ä¸ºåˆæ³•æ‹¬å·ä¸²ã€‚</p>
<p><span class="math inline">\(n\le 20\)</span> è¿™ä¸ªé™åˆ¶å°±å¾ˆçµæ€§ï¼Œè€ƒè™‘çŠ¶å‹ dpã€‚è®¾ <span class="math inline">\(f_{S}\)</span> ä¸ºé›†åˆ <span class="math inline">\(S\)</span> å†…å­—ç¬¦ä¸²æ‹¼èµ·æ¥çš„ç­”æ¡ˆã€‚</p>
<p>æ€è€ƒè½¬ç§»ã€‚å‡è®¾ <span class="math inline">\(S\)</span> åœ¨åŠ ä¸Šä¸€ä¸ª <span class="math inline">\(x\)</span> åå˜æˆ <span class="math inline">\(T\)</span>ï¼Œå¹¶å‡å®š <span class="math inline">\(x\)</span> è¢«æ¥åœ¨æœ«å°¾ã€‚</p>
<p>è€ƒè™‘æ‹¬å·ä¸²çš„æ€§è´¨ï¼Œæˆ‘ä»¬ä»¤ <span class="math inline">\(\texttt{'('} = 1\)</span>ï¼Œ<span class="math inline">\(\texttt{')'} = -1\)</span>ï¼Œç„¶åä¸€ä¸ªæ‹¬å·ä¸²å°†ä¸ºåˆæ³•å½“ä¸”ä»…å½“å…¶æ¯ä¸ªå‰ç¼€å’Œéƒ½ä¸ºéè´Ÿä¸”æ•´ä¸ªçš„å‰ç¼€å’Œä¸º <span class="math inline">\(0\)</span>ã€‚é‚£ä¹ˆä¸å¦¨å¤„ç†å‡ºæ¯ä¸ªä¸²çš„å‰ç¼€å’Œä»¥åŠæ¯ä¸ªçŠ¶æ€çš„ä¸²çš„å‰ç¼€å’Œä¹‹å’Œã€‚</p>
<p>è€Œéå†ä¸€ä¸ªå­—ç¬¦ä¸² <span class="math inline">\(x\)</span> å°†ä¼šå½¢æˆä¸€ä¸ªâ€œçˆ¬å±±â€çš„è¿‡ç¨‹ï¼Œè‹¥è¿™ä¸ªè¿‡ç¨‹ä¸­å‰ç¼€å’Œæ¥è§¦åˆ°äº† <span class="math inline">\(0\)</span>ï¼Œé‚£ä¹ˆåˆæ³•çš„ç­”æ¡ˆå°†ä¼šå¢åŠ  <span class="math inline">\(1\)</span>ï¼Œè‹¥è¿™ä¸ªè¿‡ç¨‹ä¸­å‰ç¼€å’Œå˜ä¸ºäº†è´Ÿæ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªçŠ¶æ€å°±åºŸæ‰äº†â€”â€”ç­”æ¡ˆä¸å¯èƒ½å†å¢åŠ ã€‚</p>
<p>æ‰€ä»¥å¯¹äºæ¯ä¸ªä¸²ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•ä¸€ä¸‹å…¶å‘ä¸‹â€œç©¿è¿‡â€äº†æ¯ä¸ªå¹³é¢å‡ æ¬¡ã€‚ç„¶ååœ¨ dp è½¬ç§»çš„æ—¶å€™å°±å¯ä»¥åˆ¤å®šäº†ã€‚å¦‚æœä» <span class="math inline">\(S\)</span> çš„é«˜åº¦èµ°å‘ <span class="math inline">\(T\)</span> ä¼šèµ°åˆ°è‹¥å¹²æ¬¡ <span class="math inline">\(0\)</span>ï¼Œé‚£ä¹ˆç­”æ¡ˆå¯¹åº”ç´¯è®¡ï¼Œè‹¥ä¼šç©¿åˆ° <span class="math inline">\(0\)</span> ä¸‹é¢å»ï¼Œè¯´æ˜è¿™ä¸ªçŠ¶æ€å°±åºŸæ‰äº†ï¼Œåˆ¤æ‰å³å¯ã€‚</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb13-1"><a aria-hidden="true" href="#cb13-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb13-2"><a aria-hidden="true" href="#cb13-2"></a><span class="pp">#define il </span><span class="kw">inline</span></span>
<span id="cb13-3"><a aria-hidden="true" href="#cb13-3"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb13-4"><a aria-hidden="true" href="#cb13-4"></a></span>
<span id="cb13-5"><a aria-hidden="true" href="#cb13-5"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb13-6"><a aria-hidden="true" href="#cb13-6"></a></span>
<span id="cb13-7"><a aria-hidden="true" href="#cb13-7"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="dv">22</span>, maxs = <span class="dv">1</span> &lt;&lt; <span class="dv">21</span> | <span class="dv">50</span>;</span>
<span id="cb13-8"><a aria-hidden="true" href="#cb13-8"></a></span>
<span id="cb13-9"><a aria-hidden="true" href="#cb13-9"></a><span class="kw">struct</span> String {</span>
<span id="cb13-10"><a aria-hidden="true" href="#cb13-10"></a>    <span class="dt">int</span> minp, sum;</span>
<span id="cb13-11"><a aria-hidden="true" href="#cb13-11"></a>    map&lt;<span class="dt">int</span>, <span class="dt">int</span>&gt; H;</span>
<span id="cb13-12"><a aria-hidden="true" href="#cb13-12"></a>    vector&lt;<span class="dt">int</span>&gt; L;</span>
<span id="cb13-13"><a aria-hidden="true" href="#cb13-13"></a>    <span class="dt">int</span> delta;</span>
<span id="cb13-14"><a aria-hidden="true" href="#cb13-14"></a>    <span class="dt">void</span> init(string s) {</span>
<span id="cb13-15"><a aria-hidden="true" href="#cb13-15"></a>        <span class="dt">int</span> p = <span class="dv">0</span>;</span>
<span id="cb13-16"><a aria-hidden="true" href="#cb13-16"></a>        minp = <span class="fl">1e9</span>;</span>
<span id="cb13-17"><a aria-hidden="true" href="#cb13-17"></a>        map&lt;<span class="dt">int</span>, <span class="dt">bool</span>&gt; no;</span>
<span id="cb13-18"><a aria-hidden="true" href="#cb13-18"></a>        FOR(i, <span class="dv">0</span>, (<span class="dt">int</span>)s.size() - <span class="dv">1</span>) {</span>
<span id="cb13-19"><a aria-hidden="true" href="#cb13-19"></a>            <span class="cf">if</span> (s[i] == <span class="ch">'('</span>) ++p;</span>
<span id="cb13-20"><a aria-hidden="true" href="#cb13-20"></a>            <span class="cf">else</span> --p;</span>
<span id="cb13-21"><a aria-hidden="true" href="#cb13-21"></a>            <span class="cf">if</span> (s[i] == <span class="ch">')'</span>) {</span>
<span id="cb13-22"><a aria-hidden="true" href="#cb13-22"></a>                <span class="cf">if</span> (!no[p]) ++H[p];</span>
<span id="cb13-23"><a aria-hidden="true" href="#cb13-23"></a>            } <span class="cf">else</span> no[p] = <span class="dv">1</span>;</span>
<span id="cb13-24"><a aria-hidden="true" href="#cb13-24"></a>            minp = min(minp, p);</span>
<span id="cb13-25"><a aria-hidden="true" href="#cb13-25"></a>        }</span>
<span id="cb13-26"><a aria-hidden="true" href="#cb13-26"></a>        sum = p;</span>
<span id="cb13-27"><a aria-hidden="true" href="#cb13-27"></a>        <span class="cf">if</span> (H.empty()) <span class="cf">return</span>;</span>
<span id="cb13-28"><a aria-hidden="true" href="#cb13-28"></a>        delta = H.begin()-&gt;first;</span>
<span id="cb13-29"><a aria-hidden="true" href="#cb13-29"></a>        <span class="dt">int</span> R = H.rbegin()-&gt;first;</span>
<span id="cb13-30"><a aria-hidden="true" href="#cb13-30"></a>        L.resize(R - delta + <span class="dv">1</span>);</span>
<span id="cb13-31"><a aria-hidden="true" href="#cb13-31"></a>        <span class="cf">for</span> (<span class="kw">auto</span> p : H) L[p.first - delta] = p.second;</span>
<span id="cb13-32"><a aria-hidden="true" href="#cb13-32"></a>        <span class="cf">return</span>;</span>
<span id="cb13-33"><a aria-hidden="true" href="#cb13-33"></a>    }</span>
<span id="cb13-34"><a aria-hidden="true" href="#cb13-34"></a>    il <span class="dt">int</span> query(<span class="dt">int</span> x) {</span>
<span id="cb13-35"><a aria-hidden="true" href="#cb13-35"></a>        x -= delta;</span>
<span id="cb13-36"><a aria-hidden="true" href="#cb13-36"></a>        <span class="cf">if</span> (x &lt; <span class="dv">0</span> || x &gt;= (<span class="dt">int</span>)L.size()) <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb13-37"><a aria-hidden="true" href="#cb13-37"></a>        <span class="cf">return</span> L[x];</span>
<span id="cb13-38"><a aria-hidden="true" href="#cb13-38"></a>    }</span>
<span id="cb13-39"><a aria-hidden="true" href="#cb13-39"></a>} s[<span class="dv">22</span>];</span>
<span id="cb13-40"><a aria-hidden="true" href="#cb13-40"></a></span>
<span id="cb13-41"><a aria-hidden="true" href="#cb13-41"></a><span class="dt">int</span> dp[maxs], sum[maxs], n;</span>
<span id="cb13-42"><a aria-hidden="true" href="#cb13-42"></a></span>
<span id="cb13-43"><a aria-hidden="true" href="#cb13-43"></a><span class="dt">int</span> main() {</span>
<span id="cb13-44"><a aria-hidden="true" href="#cb13-44"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb13-45"><a aria-hidden="true" href="#cb13-45"></a>    cin.tie(<span class="dv">0</span>);</span>
<span id="cb13-46"><a aria-hidden="true" href="#cb13-46"></a>    cin &gt;&gt; n;</span>
<span id="cb13-47"><a aria-hidden="true" href="#cb13-47"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb13-48"><a aria-hidden="true" href="#cb13-48"></a>        string str; cin &gt;&gt; str;</span>
<span id="cb13-49"><a aria-hidden="true" href="#cb13-49"></a>        s[i].init(str);</span>
<span id="cb13-50"><a aria-hidden="true" href="#cb13-50"></a>    }</span>
<span id="cb13-51"><a aria-hidden="true" href="#cb13-51"></a>    FOR(S, <span class="dv">0</span>, (<span class="dv">1</span> &lt;&lt; n) - <span class="dv">1</span>) FOR(i, <span class="dv">1</span>, n) <span class="cf">if</span> ((<span class="dv">1</span> &lt;&lt; (i - <span class="dv">1</span>)) &amp; S) sum[S] += s[i].sum;</span>
<span id="cb13-52"><a aria-hidden="true" href="#cb13-52"></a>    memset(dp, -<span class="dv">1</span>, <span class="kw">sizeof</span> dp);</span>
<span id="cb13-53"><a aria-hidden="true" href="#cb13-53"></a>    dp[<span class="dv">0</span>] = <span class="dv">0</span>;</span>
<span id="cb13-54"><a aria-hidden="true" href="#cb13-54"></a>    <span class="dt">int</span> ans = <span class="dv">0</span>;</span>
<span id="cb13-55"><a aria-hidden="true" href="#cb13-55"></a>    FOR(S, <span class="dv">1</span>, (<span class="dv">1</span> &lt;&lt; n) - <span class="dv">1</span>) {</span>
<span id="cb13-56"><a aria-hidden="true" href="#cb13-56"></a>        FOR(i, <span class="dv">1</span>, n) <span class="cf">if</span> (S &amp; (<span class="dv">1</span> &lt;&lt; (i - <span class="dv">1</span>))) {</span>
<span id="cb13-57"><a aria-hidden="true" href="#cb13-57"></a>            <span class="dt">int</span> F = S ^ (<span class="dv">1</span> &lt;&lt; (i - <span class="dv">1</span>));</span>
<span id="cb13-58"><a aria-hidden="true" href="#cb13-58"></a>            <span class="cf">if</span> (dp[F] == -<span class="dv">1</span>) <span class="cf">continue</span>;</span>
<span id="cb13-59"><a aria-hidden="true" href="#cb13-59"></a>            <span class="dt">int</span> nows = sum[F], cur = dp[F] + s[i].query(-nows);</span>
<span id="cb13-60"><a aria-hidden="true" href="#cb13-60"></a>            ans = max(ans, cur);</span>
<span id="cb13-61"><a aria-hidden="true" href="#cb13-61"></a>            <span class="cf">if</span> (nows + s[i].minp &lt; <span class="dv">0</span>) <span class="cf">continue</span>;</span>
<span id="cb13-62"><a aria-hidden="true" href="#cb13-62"></a>            dp[S] = max(dp[S], cur);</span>
<span id="cb13-63"><a aria-hidden="true" href="#cb13-63"></a>        }</span>
<span id="cb13-64"><a aria-hidden="true" href="#cb13-64"></a>    }</span>
<span id="cb13-65"><a aria-hidden="true" href="#cb13-65"></a>    cout &lt;&lt; ans &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb13-66"><a aria-hidden="true" href="#cb13-66"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb13-67"><a aria-hidden="true" href="#cb13-67"></a>}</span></code></pre></div>
<h2 id="technocup-2022-elimination-round-1-and-codeforces-round-749-div.-1div.-2">Technocup 2022 â€” Elimination Round 1 and Codeforces Round #749 (Div. 1+Div. 2)</h2>
<p>A + B + C + D + Fï¼Œrk 352ï¼Œä¸Š CM äº†ã€‚</p>
<h3 id="d---omkar-and-the-meaning-of-life">1583D - Omkar and the Meaning of Life</h3>
<p>è€ƒè™‘å¯»æ‰¾æ¯ä¸ªå…ƒç´ åœ¨æ’åˆ—ä¸­çš„ä¸‹ä¸€ä¸ªæ•°ã€‚</p>
<ul>
<li>å¯¹äºæ¯ä¸ª <span class="math inline">\(i\)</span>ï¼Œè¯¢é—® <span class="math inline">\(a_i = 2\)</span>ï¼Œ<span class="math inline">\(a_j=1\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(j\neq i\)</span>ï¼Œå¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ª <span class="math inline">\(k\)</span>ï¼Œåˆ™ä¸éš¾å‘ç° <span class="math inline">\(\operatorname{nxt}(k) = i\)</span>ã€‚</li>
<li>è¯¢é—® <span class="math inline">\(a_i = 1\)</span>ï¼Œ<span class="math inline">\(a_j = 2\)</span> çš„æƒ…å†µåŒç†ã€‚</li>
</ul>
<p>æœ€åä¸€ä¸ªæ‹“æ‰‘æ’åºå°±å¯ä»¥æ±‚å‡ºæ•´ä¸ªæ’åˆ—ã€‚è¯¢é—®æ¬¡æ•°æ­£å¥½ä¸º <span class="math inline">\(2n\)</span>ã€‚</p>
<h3 id="e---Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚-Ñ†Ğ²ĞµÑ‚ĞµĞ½Ğ¸Ñ">1583E - ĞœĞ¾Ğ¼ĞµĞ½Ñ‚ Ñ†Ğ²ĞµÑ‚ĞµĞ½Ğ¸Ñ</h3>
<p>åœ¨ä¸€å¼ æ— å‘å›¾ä¸Šæ„é€  <span class="math inline">\(q\)</span> æ¡å§‹æœ«ç‚¹ç»™å®šçš„è·¯å¾„ï¼Œä½¿å¾—æ¯æ¡è¾¹éƒ½è¢«è¦†ç›–å¶æ•°æ¬¡ï¼Œè¾“å‡ºæ„é€ æ–¹æ¡ˆæˆ–è€…è¾“å‡ºè¿˜éœ€è¦å¤šå°‘æ¡è·¯å¾„æ‰æœ‰è§£ã€‚</p>
<p>è€ƒè™‘ä¸€å¼ æ–°å›¾ï¼šå°†æ‰€æœ‰çš„ç‚¹ä¿ç•™ï¼Œä¸º <span class="math inline">\(q\)</span> æ¬¡è¯¢é—®çš„ <span class="math inline">\(a\)</span>ï¼Œ<span class="math inline">\(b\)</span> ç‚¹è¿è¾¹ï¼Œè‹¥è¿™å¼ å›¾ä¸­çš„å„ä¸ªè¿é€šåˆ†é‡éƒ½èƒ½å½¢æˆæ¬§æ‹‰å›è·¯ï¼Œåˆ™ä¸€å®šæœ‰è§£ã€‚ä¸ºä»€ä¹ˆï¼Ÿè€ƒè™‘åŸå›¾çš„ dfs ç”Ÿæˆæ ‘ï¼Œæ¯æ¬¡åœ¨æ–°å›¾ä¸Šèµ°ä¸€æ¡è¾¹ç›¸å½“äºåœ¨åŸå›¾ä¸Šé€šè¿‡æŸç§æ–¹å¼ä» <span class="math inline">\(a\)</span> èµ°åˆ° <span class="math inline">\(b\)</span>ï¼Œè€Œæ¬§æ‹‰å›è·¯ä»£è¡¨ç€æˆ‘æœ€ç»ˆåˆèµ°å›äº†ä¸€å¼€å§‹çš„èµ·ç‚¹ï¼Œå…¶æ¯æ¡è¾¹çš„ç»è¿‡æ¬¡æ•°å¿…ç„¶æ˜¯å¶æ•°ã€‚</p>
<p>æ„é€ å°±ç›´æ¥åœ¨ dfs ç”Ÿæˆæ ‘ä¸Šæ‰¾è·¯å¾„å°±è¡Œäº†ï¼Œå€å¢å³å¯ã€‚</p>
<h3 id="f---defender-of-childhood-dreams">1586F - Defender of Childhood Dreams</h3>
<p>ç»™å®šä¸€å¼ ç«èµ›å›¾ï¼Œå…¶ä¸­è¾¹æ°¸è¿œä»ç¼–å·å°çš„ç‚¹è¿å‘ç¼–å·å¤§çš„ï¼Œç”¨æœ€å°‘çš„é¢œè‰²æŸ“è¿™äº›è¾¹ä½¿å¾—ä»»ä½•é•¿åº¦ <span class="math inline">\(\ge k\)</span> çš„è·¯å¾„è‡³å°‘æœ‰ä¸¤ç§é¢œè‰²çš„è¾¹ã€‚</p>
<p>æ®è¯´æ˜¯ ZR CSP ä¸ƒè¿çš„åŸé¢˜ï¼Œäºã€‚</p>
<p>è€ƒè™‘åˆ†å—ã€‚å°†æ‰€æœ‰ç‚¹æ¯ <span class="math inline">\(k\)</span> ä¸ªåˆ†ä¸ºä¸€å°å—ï¼Œæ¯ <span class="math inline">\(k^2\)</span> ä¸ªåˆ†ä¸ºä¸€å¤§å—â€¦â€¦ä¾æ­¤ç±»æ¨ï¼Œå¤§å°ä¸º <span class="math inline">\(k\)</span> çš„å—å†…éƒ¨è¿ä¸€ç§é¢œè‰²çš„è¾¹ï¼Œå¤§å°ä¸º <span class="math inline">\(k^2\)</span> çš„å—å†…éƒ¨è¿ä¸€ç§é¢œè‰²çš„è¾¹â€¦â€¦ä¾æ­¤ç±»æ¨ã€‚æ‰€ä»¥ä¸€å…±æœ‰ <span class="math inline">\(\lceil\log_k n \rceil\)</span> ç§é¢œè‰²ï¼Œä»£ç å¾ˆçŸ­ã€‚</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb14-1"><a aria-hidden="true" href="#cb14-1"></a><span class="dt">int</span> n, k;</span>
<span id="cb14-2"><a aria-hidden="true" href="#cb14-2"></a></span>
<span id="cb14-3"><a aria-hidden="true" href="#cb14-3"></a><span class="dt">int</span> getans(<span class="dt">int</span> x, <span class="dt">int</span> y) {</span>
<span id="cb14-4"><a aria-hidden="true" href="#cb14-4"></a>    <span class="dt">int</span> now = k, ret = <span class="dv">1</span>;</span>
<span id="cb14-5"><a aria-hidden="true" href="#cb14-5"></a>    <span class="cf">while</span> ((x - <span class="dv">1</span>) / now != (y - <span class="dv">1</span>) / now) now *= k, ++ret;</span>
<span id="cb14-6"><a aria-hidden="true" href="#cb14-6"></a>    <span class="cf">return</span> ret;</span>
<span id="cb14-7"><a aria-hidden="true" href="#cb14-7"></a>}</span>
<span id="cb14-8"><a aria-hidden="true" href="#cb14-8"></a></span>
<span id="cb14-9"><a aria-hidden="true" href="#cb14-9"></a><span class="dt">int</span> main() {</span>
<span id="cb14-10"><a aria-hidden="true" href="#cb14-10"></a>    read(n), read(k);</span>
<span id="cb14-11"><a aria-hidden="true" href="#cb14-11"></a>    print((<span class="dt">int</span>)ceil(log(n) / log(k)), <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb14-12"><a aria-hidden="true" href="#cb14-12"></a>    FOR(i, <span class="dv">1</span>, n) FOR(j, i + <span class="dv">1</span>, n) print(getans(i, j), <span class="ch">' '</span>);</span>
<span id="cb14-13"><a aria-hidden="true" href="#cb14-13"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb14-14"><a aria-hidden="true" href="#cb14-14"></a>}</span></code></pre></div>
<p>ç»ç»å­äº†å±äºæ˜¯ã€‚</p>
<h2 id="codeforces-round-750-div.2">Codeforces Round #750 (Div.2)</h2>
<h3 id="d---vupsen-pupsen-and-0">1582D - Vupsen, Pupsen and 0</h3>
<p>ç»™å®šå‘é‡ <span class="math inline">\(a\)</span>ï¼Œæ±‚ä¸€ä¸ªå‘é‡ <span class="math inline">\(b\)</span> ä½¿å¾— <span class="math inline">\(a\cdot b = 0\)</span>ï¼Œå…¶ä¸­å‘é‡ç»´æ•° <span class="math inline">\(n\le 10^5\)</span>ï¼Œ<span class="math inline">\(|a_i|\le 10^4\)</span>ï¼Œè¦æ±‚ <span class="math inline">\(\sum|b_i|\le 10^9\)</span>ã€‚</p>
<p>è€ƒè™‘ä¸¤ä¸¤é…å¯¹ï¼Œæœ€åä¸‰ä¸ªç‰¹åˆ¤ä¸€ä¸‹ã€‚</p>
<h3 id="e---pchelyonok-and-segments">1582E - Pchelyonok and Segments</h3>
<p>é‡ç‚¹ï¼šæ‰¾åˆ° <span class="math inline">\(k\)</span> çš„èŒƒå›´ç„¶åç›´æ¥ <span class="math inline">\(O(n\sqrt n)\)</span> æš´åŠ›ã€‚</p>
<p>ç”±äº <span class="math inline">\(\dfrac{k(k + 1)}{2}\le n\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(k\le \sqrt{2n}\le 447\)</span>ã€‚ç„¶åå°±å¯ä»¥è®¾è®¡ä¸€ä¸ª dpï¼šä»¤ <span class="math inline">\(f_{i, j}\)</span> ä¸ºå½“å‰è€ƒè™‘äº† <span class="math inline">\([i, n]\)</span>ï¼Œæœ€å‰é¢çš„é€‰çš„ä¸€æ®µé•¿åº¦ä¸º <span class="math inline">\(j\)</span>ï¼Œæœ€å¤§çš„å’Œã€‚ï¼ˆç±»ä¼¼ LIS çš„è´ªå¿ƒè®¾è®¡ï¼‰ç„¶åè½¬ç§»å°±éšä¾¿è½¬ç§»ä¸€ä¸‹ã€‚</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb15-1"><a aria-hidden="true" href="#cb15-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb15-2"><a aria-hidden="true" href="#cb15-2"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e5</span> + <span class="dv">5</span>, sqrtn = <span class="dv">500</span>, INF = <span class="fl">2e9</span>;</span>
<span id="cb15-3"><a aria-hidden="true" href="#cb15-3"></a><span class="dt">int</span> n, a[maxn];</span>
<span id="cb15-4"><a aria-hidden="true" href="#cb15-4"></a>ll sum[maxn], f[maxn][sqrtn];</span>
<span id="cb15-5"><a aria-hidden="true" href="#cb15-5"></a></span>
<span id="cb15-6"><a aria-hidden="true" href="#cb15-6"></a><span class="dt">int</span> main() {</span>
<span id="cb15-7"><a aria-hidden="true" href="#cb15-7"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb15-8"><a aria-hidden="true" href="#cb15-8"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb15-9"><a aria-hidden="true" href="#cb15-9"></a>        read(n);</span>
<span id="cb15-10"><a aria-hidden="true" href="#cb15-10"></a>        FOR(i, <span class="dv">1</span>, n) read(a[i]), sum[i] = sum[i - <span class="dv">1</span>] + a[i];</span>
<span id="cb15-11"><a aria-hidden="true" href="#cb15-11"></a>        <span class="dt">int</span> k = <span class="dv">0</span>;</span>
<span id="cb15-12"><a aria-hidden="true" href="#cb15-12"></a>        <span class="cf">while</span> (k * (k + <span class="dv">1</span>) / <span class="dv">2</span> &lt;= n) ++k;</span>
<span id="cb15-13"><a aria-hidden="true" href="#cb15-13"></a>        --k;</span>
<span id="cb15-14"><a aria-hidden="true" href="#cb15-14"></a>        FOR(j, <span class="dv">0</span>, k) f[n + <span class="dv">1</span>][j] = -INF;</span>
<span id="cb15-15"><a aria-hidden="true" href="#cb15-15"></a>        f[n + <span class="dv">1</span>][<span class="dv">0</span>] = INF;</span>
<span id="cb15-16"><a aria-hidden="true" href="#cb15-16"></a>        DEC(i, n, <span class="dv">1</span>) {</span>
<span id="cb15-17"><a aria-hidden="true" href="#cb15-17"></a>            FOR(j, <span class="dv">0</span>, k) {</span>
<span id="cb15-18"><a aria-hidden="true" href="#cb15-18"></a>                f[i][j] = f[i + <span class="dv">1</span>][j];</span>
<span id="cb15-19"><a aria-hidden="true" href="#cb15-19"></a>                <span class="cf">if</span> (j &amp;&amp; i + j - <span class="dv">1</span> &lt;= n &amp;&amp; sum[i + j - <span class="dv">1</span>] - sum[i - <span class="dv">1</span>] &lt; f[i + j][j - <span class="dv">1</span>])</span>
<span id="cb15-20"><a aria-hidden="true" href="#cb15-20"></a>                    chkmax(f[i][j], sum[i + j - <span class="dv">1</span>] - sum[i - <span class="dv">1</span>]);</span>
<span id="cb15-21"><a aria-hidden="true" href="#cb15-21"></a>            }</span>
<span id="cb15-22"><a aria-hidden="true" href="#cb15-22"></a>        }</span>
<span id="cb15-23"><a aria-hidden="true" href="#cb15-23"></a>        <span class="dt">int</span> ans = <span class="dv">0</span>;</span>
<span id="cb15-24"><a aria-hidden="true" href="#cb15-24"></a>        FOR(j, <span class="dv">0</span>, k) <span class="cf">if</span> (f[<span class="dv">1</span>][j] &gt; <span class="dv">0</span>) ans = j;</span>
<span id="cb15-25"><a aria-hidden="true" href="#cb15-25"></a>        print(ans, <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb15-26"><a aria-hidden="true" href="#cb15-26"></a>    }</span>
<span id="cb15-27"><a aria-hidden="true" href="#cb15-27"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb15-28"><a aria-hidden="true" href="#cb15-28"></a>}</span></code></pre></div>
<h2 id="codeforces-round-754-div.-2">Codeforces Round #754 (Div. 2)</h2>
<p>æ‰“çš„æœ‰ç‚¹å·®åŠ²ï¼ŒA + B + Cã€‚</p>
<h3 id="d---treelabeling">1605D - Treelabeling</h3>
<p>ç»™å®šä¸€æ£µæœªæ ‡å·çš„æ ‘ï¼Œæ±‚ä¸€ä¸ªæ ‡å·æ–¹å¼ä½¿å¾—ç›¸é‚»çš„ <span class="math inline">\((u,v)\)</span> æ»¡è¶³ <span class="math inline">\(u\)</span> çš„æœ€é«˜ä½ä¸ <span class="math inline">\(v\)</span> çš„æœ€é«˜ä½ä¸åŒã€‚</p>
<p>åŸé¢˜æ„æ˜“è¢«ç¿»è¯‘æˆå¦‚ä¸Šï¼Œç°åœ¨è€ƒè™‘å¦‚ä½•æ„é€ ã€‚ä»¤ <span class="math inline">\(f(x)\)</span> ä¸º <span class="math inline">\(x\)</span> åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹çš„æœ€é«˜ä½ï¼ˆä» <span class="math inline">\(0\)</span> å¼€å§‹ç¼–å·ï¼‰ã€‚</p>
<p>å…ˆç»™æ ‘äºŒåˆ†å›¾æŸ“è‰²ï¼Œç„¶åä»¤é»‘ç‚¹ä¸ªæ•°ä¸º <span class="math inline">\(b\)</span>ï¼Œç™½ç‚¹ä¸ªæ•°ä¸º <span class="math inline">\(w\)</span>ï¼Œä¸å¦¨å‡è®¾ <span class="math inline">\(w \le b\)</span>ï¼Œåˆ™æ˜¾ç„¶ <span class="math inline">\(w\le \lfloor n / 2\rfloor\)</span>ã€‚æ‰€ä»¥å¯ä»¥å¾—åˆ° <span class="math inline">\(f(w) \le f(n) - 1\)</span>ã€‚</p>
<p>ç„¶åè¿˜æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ€§è´¨ï¼Œå°±æ˜¯æ»¡è¶³ <span class="math inline">\(f(x) = i\)</span> çš„ <span class="math inline">\(x\)</span> ä¸€å…±æœ‰ <span class="math inline">\(2^i\)</span> ä¸ªï¼Œå› æ­¤ç›´æ¥è€ƒè™‘ <span class="math inline">\(w\)</span> çš„æ¯ä¸€ä½ï¼Œè‹¥ç¬¬ <span class="math inline">\(i\)</span> ä½ä¸º <span class="math inline">\(1\)</span>ï¼Œåˆ™ç›´æ¥å°†æ»¡è¶³ <span class="math inline">\(f(x) = i\)</span> çš„ <span class="math inline">\(x\)</span> åˆ†é…ç»™ç™½ç‚¹ï¼Œå‰©ä½™çš„åˆ†é…ç»™é»‘ç‚¹ã€‚</p>
<p>äºæ˜¯è¿™æ ·å°±æ„é€ å®Œäº†ï¼Œæ­£ç¡®æ€§åº”è¯¥æ˜¯ååˆ†æ˜¾ç„¶çš„ã€‚</p>
<h3 id="e---array-equalizer">1605E - Array Equalizer</h3>
<p>ç»™å®šä¸¤ä¸ªåºåˆ— <span class="math inline">\(\{a_i\}\)</span> å’Œ <span class="math inline">\(\{b_i\}\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(a_i\)</span> æ˜¯ç»™å®šçš„ï¼Œ<span class="math inline">\(b_i\)</span> é™¤äº† <span class="math inline">\(b_1\)</span> å…¶ä½™éƒ½ç»™å‡ºã€‚ä¸€æ¬¡æ“ä½œå¯ä»¥é€‰å®šä¸€ä¸ª <span class="math inline">\(i\)</span> ç„¶åå¯¹äºæ‰€æœ‰çš„ <span class="math inline">\(i\mid j\)</span> çš„ <span class="math inline">\(j\)</span>ï¼Œ<span class="math inline">\(b_j\)</span> åŠ ä¸Šæˆ–å‡å» <span class="math inline">\(1\)</span>ã€‚å¯¹äº <span class="math inline">\(q\)</span> ä¸ª <span class="math inline">\(b_1\)</span>ï¼Œé—®å°† <span class="math inline">\(\{a_i\}\)</span> å˜ä¸º <span class="math inline">\(\{b_i\}\)</span> çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p>
<p>é¦–å…ˆä»¤ <span class="math inline">\(b_i = b_i - a_i\)</span>ï¼Œç„¶åé—®é¢˜å°±å˜ä¸ºå°† <span class="math inline">\(\{0\}\)</span> å˜æˆ <span class="math inline">\(\{b_i\}\)</span> çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚ç„¶åé¦–å…ˆè€ƒè™‘åªæœ‰ä¸€ä¸ª <span class="math inline">\(b_1\)</span> çš„æ—¶å€™ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ç„¶åä¸éš¾å‘ç°ï¼Œåªéœ€è¦ä»å°åˆ°å¤§è€ƒè™‘å³å¯ã€‚æ¨¡æ‹Ÿä¸€ä¸‹æ“ä½œï¼š</p>
<div class="table-wrapper"><table>
<thead>
<tr class="header">
<th><span class="math inline">\(A\)</span></th>
<th><span class="math inline">\(B_1\)</span></th>
<th><span class="math inline">\(B_2\)</span></th>
<th><span class="math inline">\(B_3\)</span></th>
<th><span class="math inline">\(B_4\)</span></th>
<th><span class="math inline">\(B_5\)</span></th>
<th><span class="math inline">\(\cdots\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(B\)</span></td>
<td><span class="math inline">\(B_1\)</span></td>
<td><span class="math inline">\(B_2\)</span></td>
<td><span class="math inline">\(B_3\)</span></td>
<td><span class="math inline">\(B_4\)</span></td>
<td><span class="math inline">\(B_5\)</span></td>
<td><span class="math inline">\(\cdots\)</span></td>
</tr>
<tr class="even">
<td>Add</td>
<td><span class="math inline">\(B_1\)</span></td>
<td><span class="math inline">\(B_2 - B_1\)</span></td>
<td><span class="math inline">\(B_3 - B_1\)</span></td>
<td><span class="math inline">\(B_4 - B_2\)</span></td>
<td><span class="math inline">\(B_5 - B_1\)</span></td>
<td><span class="math inline">\(\cdots\)</span></td>
</tr>
</tbody>
</table></div>
<p>ä»¤ <span class="math inline">\(B_1 = x\)</span> çš„è¯ï¼Œæ¯æ¬¡æ“ä½œåŠ ä¸Šçš„æ•°éƒ½å½¢å¦‚ <span class="math inline">\(cx + d\)</span>ï¼Œå¯¹æ“ä½œæ¬¡æ•°çš„è´¡çŒ®å³ä¸º <span class="math inline">\(|cx + d|\)</span>ã€‚è¿™ä¸ª <span class="math inline">\(c\)</span> å’Œ <span class="math inline">\(d\)</span> æ˜¯å¯ä»¥æå‰é¢„å¤„ç†å‡ºæ¥çš„ã€‚ç„¶åçš„è¯ï¼Œç°åœ¨çš„ç›®æ ‡å°±æ˜¯æ±‚å‡ºä¸€å¨ <span class="math inline">\(|cx + d|\)</span> çš„å’Œï¼Œå‘ç°è¿™ä¸ªå¯èƒ½ä¸å¤ªå¥½åšï¼Œæˆ‘ä»¬æ‹†å¼€ç»å¯¹å€¼ï¼Œåˆ†ç±»è®¨è®ºä¸€ä¸‹ï¼š</p>
<ul>
<li>å½“ <span class="math inline">\(cx + d &gt; 0\)</span>ï¼Œå³ <span class="math inline">\(x &gt; -\dfrac dc\)</span>ï¼Œè´¡çŒ®å°±ä¸º <span class="math inline">\(cx + d\)</span>ã€‚</li>
<li>å½“ <span class="math inline">\(cx + d&lt; 0\)</span>ï¼Œå³ <span class="math inline">\(x&lt;-\dfrac dc\)</span>ï¼Œè´¡çŒ®ä¸º <span class="math inline">\(-cx - d\)</span>ã€‚</li>
</ul>
<p>å½“ç„¶ï¼Œä¸Šè¿°æ¡ä»¶å½“ä¸”ä»…å½“ <span class="math inline">\(c &gt; 0\)</span> æ—¶æˆç«‹ï¼Œå¯¹äº <span class="math inline">\(c &lt; 0\)</span> çš„æƒ…å†µï¼Œç›´æ¥ä¹˜ä¸ª <span class="math inline">\(-1\)</span> è½¬æ¢æˆ <span class="math inline">\(c &gt; 0\)</span> å³å¯ã€‚è€Œ <span class="math inline">\(c = 0\)</span> çš„æ—¶å€™ï¼Œç›´æ¥ç»Ÿè®¡ <span class="math inline">\(d\)</span> çš„è´¡çŒ®å³å¯ã€‚æ‰€ä»¥æˆ‘ä»¬æŒ‰ç…§ <span class="math inline">\(-\dfrac dc\)</span> æ’åºï¼Œå­˜å‚¨è¿™äº›ä¸€æ¬¡å‡½æ•°ï¼Œç„¶åå°±å¯ä»¥é¢„å¤„ç†ä¸€ä¸‹å‰ç¼€å’Œå’Œåç¼€å’Œï¼Œæ¯æ¬¡äºŒåˆ†ä¸€ä¸‹å°±å¯ä»¥çš„è§£äº†ã€‚</p>
<p>äº‹å®ä¸Šï¼Œ<span class="math inline">\(c\)</span> å°±æ˜¯ <span class="math inline">\(\mu\)</span>ã€‚æ‰€ä»¥é—®é¢˜å¯ä»¥å¾—åˆ°ç®€åŒ–å¾ˆå¤šã€‚</p>
<h2 id="technocup-2022-elimination-round-2-and-codeforces-round-755-div.-1-div.-2">Technocup 2022 â€” Elimination Round 2 and Codeforces Round #755 (Div. 1, Div. 2)</h2>
<p>div 1. A + Bã€‚</p>
<h3 id="b---guess-the-permutation">1588B - Guess the Permutation</h3>
<p>ç»™å®šä¸€ä¸ª <span class="math inline">\([1, n]\)</span> çš„æœ‰åºæ’åˆ—ï¼ˆ<span class="math inline">\(n\)</span> ä¸º <span class="math inline">\(10^9\)</span> çº§åˆ«ï¼‰ï¼Œç¿»è½¬äº† <span class="math inline">\([i, j - 1]\)</span> å’Œ <span class="math inline">\([j, k]\)</span>ã€‚æœ€å¤š <span class="math inline">\(40\)</span> æ¬¡è¯¢é—®ï¼Œä¸€æ¬¡è¯¢é—®ä¸€ä¸ªåŒºé—´çš„é€†åºå¯¹æ•°ï¼Œè¦æ±‚æœ€åç»™å‡º <span class="math inline">\(i\)</span>ï¼Œ<span class="math inline">\(j\)</span> å’Œ <span class="math inline">\(k\)</span>ã€‚</p>
<p>ä¸éš¾å‘ç° <span class="math inline">\(i\)</span> å¯ä»¥é€šè¿‡äºŒåˆ†å¾—åˆ°ï¼Œè€Œ <span class="math inline">\(k\)</span> ä¼¼ä¹ä¹Ÿå¯ä»¥äºŒåˆ†ï¼Œä½†æ˜¯ <span class="math inline">\(2\log n\)</span> å°±ä¼šçˆ†ç‚¸ã€‚æ‰€ä»¥åªè€ƒè™‘äºŒåˆ†å‡º <span class="math inline">\(i\)</span>ï¼Œç„¶åè€ƒè™‘ <span class="math inline">\([i, k]\)</span> ä¸­é€†åºå¯¹çš„è´¡çŒ®ï¼Œä»¤ä¸¤ç«¯çš„é•¿åº¦ä¸º <span class="math inline">\(a\)</span> å’Œ <span class="math inline">\(b\)</span>ï¼Œåˆ™æœ‰ <span class="math inline">\(f(i, k) = (a - 1)a / 2 + (b - 1)b/2\)</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¯¢é—®ä¸€ä¸‹ <span class="math inline">\([i + 1, n]\)</span>ï¼Œå°±å¯ä»¥å¾—åˆ° <span class="math inline">\(a\)</span> çš„å€¼ï¼Œå…·ä½“åœ°ï¼Œ<span class="math inline">\(a = f(i, k) - f(i - 1, k) + 1\)</span>ï¼Œè¯æ˜è€ƒè™‘é€†åºå¯¹çš„æ€§è´¨ã€‚</p>
<p>ç„¶åä¸éš¾äºŒåˆ†å‡º <span class="math inline">\(b\)</span> çš„å€¼ï¼Œè¿™é¢˜å°±åšå®Œäº†ã€‚</p>
<h3 id="c---game-with-stones">1588C - Game with Stones</h3>
<h2 id="codeforces-round-758-div.1-div.-2">Codeforces Round #758 (Div.1 + Div. 2)</h2>
<p>terrible roundã€‚A + B + Cï¼Œrk522ã€‚</p>
<h3 id="d---dominoes">1608D - Dominoes</h3>
<p>é¦–å…ˆæˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªæŸ“è‰²æ–¹æ¡ˆåˆæ³•å½“ä¸”ä»…å½“ W å’Œ B çš„æ•°é‡ç›¸åŒï¼Œä»¥åŠ WW å’Œ BB çš„æ•°é‡ç›¸åŒã€‚è®¡ç®— W å’Œ B çš„æ•°é‡ï¼Œè‹¥å…¶å¤§äº <span class="math inline">\(n\)</span>ï¼Œåˆ™æ˜¾ç„¶æ— è§£ã€‚</p>
<p>å¦åˆ™ï¼Œæ— è§£çš„æƒ…å†µå°±æ˜¯ WB å’Œ BW åŒæ—¶å­˜åœ¨å´æ²¡æœ‰ WW æˆ– BBã€‚å…¶ä»–éƒ½ä¸ºåˆæ³•æƒ…å†µï¼Œæ–¹æ¡ˆå¤§å®¶å¯ä»¥åœ¨è‰ç¨¿çº¸ä¸Šå°è¯•è¿›è¡Œæ„é€ ã€‚è®¾é—®å·æœ‰ <span class="math inline">\(c_0\)</span> ä¸ªï¼ŒW æœ‰ <span class="math inline">\(c_B\)</span> ä¸ªï¼Œåˆ™æ˜¾ç„¶æ€»æŸ“è‰²æ–¹æ¡ˆæ•°ä¸º <span class="math inline">\(\dbinom{c_0}{n - c_B}\)</span>ã€‚ç„¶åå¤„ç†ä¸€ä¸‹æ— è§£çš„æƒ…å†µã€‚</p>
<p>åŒæ—¶å­˜åœ¨ WB å’Œ BW å´æ²¡æœ‰ WW æˆ– BB çš„æ–¹æ¡ˆæ•°å…¶å®å°±æ˜¯ç”¨ <strong>ä¸å­˜åœ¨ WW å’Œ BB çš„æ–¹æ¡ˆæ•°</strong> å‡å» <strong>å…¨æ˜¯ WB</strong> å’Œ <strong>å…¨æ˜¯ BW</strong> çš„æƒ…å†µã€‚è®¾ ?? æœ‰ <span class="math inline">\(c_P\)</span> ä¸ªï¼Œåˆ™å¯¹äºç¬¬ä¸€ä¸ªâ€œä¸å­˜åœ¨ WW å’Œ BB çš„â€çš„æ–¹æ¡ˆæ•°å°±æ˜¯ <span class="math inline">\(2^{c_P}\)</span>ï¼Œä¸”ä¸å­˜åœ¨ BB æˆ– WWï¼›å¯¹äºå…¨æ˜¯ WB çš„è‡³å¤šä¸€ç§ï¼Œä¸”ä¸èƒ½å­˜åœ¨ Bx æˆ– Wxï¼Œå…¨æ˜¯ BW åŒç†ã€‚</p>
<h2 id="codeforces-global-round-18">Codeforces Global Round 18</h2>
<p>tiring and difficult round. A + B + Cã€‚</p>
<h3 id="c---menorah">1615C - Menorah</h3>
<p>æ¯”è¾ƒå·§å¦™çš„é¢˜ã€‚æ³¨æ„åˆ°ä¸€æ¬¡å¯¹ <span class="math inline">\(i\)</span> çš„æ“ä½œå¯ä»¥è§†ä¸ºæ”¹å˜ <span class="math inline">\(i\)</span>ï¼Œç„¶åæ‰“ä¸Šå…¨å±€æ ‡è®°ã€‚</p>
<p>ä¹‹åæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œç¬¬ä¸€æ¬¡æ“ä½œè¦æ“ä½œä¸€å¼€å§‹ä¸º <span class="math inline">\(1\)</span> çš„ï¼Œç¬¬äºŒæ¬¡æ“ä½œå°±å¿…é¡»æ“ä½œä¸€å¼€å§‹ä¸º <span class="math inline">\(0\)</span> çš„ã€‚ä¹‹åè‚¯å®šæ˜¯ <span class="math inline">\(1010\cdots\)</span> äº¤æ›¿æ“ä½œã€‚</p>
<p>é¢„å¤„ç†ä¸€ä¸‹ <span class="math inline">\(same_{i, j}\)</span> æ•°ç»„è¡¨ç¤º <span class="math inline">\(a_k = i\)</span>ï¼Œ<span class="math inline">\([a_k = b_k] = j\)</span> çš„ <span class="math inline">\(k\)</span> çš„æ•°é‡ï¼ˆå³ <span class="math inline">\(a = 1/0\)</span>ï¼Œä¸ <span class="math inline">\(b\)</span> ç›¸åŒ/ä¸åŒçš„æ•°é‡ï¼‰ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä¸€æ¬¡å¯¹ <span class="math inline">\(1\)</span> åŒçš„æ“ä½œä¼šä½¿å¾— <span class="math inline">\(1\)</span> åŒå‡ä¸€ï¼ŒåŒæ—¶ <span class="math inline">\(0\)</span> ä¸åŒåŠ ä¸€ã€‚</p>
<p>è‹¥æœæˆ‘ä»¬è¿›è¡Œå¥‡æ•°æ¬¡æ“ä½œï¼Œé‚£ä¹ˆå…¨å±€ç¿»è½¬æ ‡è®°æ˜¯æœ‰çš„ï¼Œè¦æ±‚çš„å°±æ˜¯ <span class="math inline">\(same_{1/0, 1} = 0\)</span>ã€‚æ‰€ä»¥ä¸€å…±è¦è¿›è¡Œ <span class="math inline">\(same_{1, 1} + same_{0, 1}\)</span> æ¬¡æ“ä½œå°†æ‰€æœ‰çš„ç›¸åŒå˜ä¸ºä¸åŒï¼Œç„¶åå› ä¸ºæœ‰ç¿»è½¬ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±èƒ½å¾—åˆ°ç­”æ¡ˆã€‚è¿™æ ·åšçš„å‰ææ¡ä»¶æ˜¯ <span class="math inline">\(same_{1,1} - same_{0, 1} = 1\)</span>ã€‚</p>
<p>é‚£ä¹ˆè‹¥è¿›è¡Œå¶æ•°æ¬¡æ“ä½œï¼ŒåŒç†ï¼Œæ²¡æœ‰å…¨å±€ç¿»è½¬æ ‡è®°ï¼Œè¦æ±‚çš„å°±æ˜¯ <span class="math inline">\(same_{1/0, 0} = 0\)</span>ã€‚æ‰€ä»¥ä¸€å…±è¦è¿›è¡Œ <span class="math inline">\(same_{1, 0} + same_{0,0}\)</span> æ¬¡æ“ä½œå°†æ‰€æœ‰çš„ä¸åŒå˜ä¸ºç›¸åŒï¼Œç­”æ¡ˆå°±èƒ½å¾—åˆ°äº†ã€‚è¿™æ ·åšçš„å‰ææ¡ä»¶æ˜¯ <span class="math inline">\(same_{1, 0} = same_{0, 0}\)</span>ã€‚</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb16-1"><a aria-hidden="true" href="#cb16-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e5</span> + <span class="dv">5</span>;</span>
<span id="cb16-2"><a aria-hidden="true" href="#cb16-2"></a><span class="dt">char</span> s1[maxn], s2[maxn];</span>
<span id="cb16-3"><a aria-hidden="true" href="#cb16-3"></a><span class="dt">int</span> n;</span>
<span id="cb16-4"><a aria-hidden="true" href="#cb16-4"></a></span>
<span id="cb16-5"><a aria-hidden="true" href="#cb16-5"></a><span class="dt">int</span> main() {</span>
<span id="cb16-6"><a aria-hidden="true" href="#cb16-6"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb16-7"><a aria-hidden="true" href="#cb16-7"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb16-8"><a aria-hidden="true" href="#cb16-8"></a>        read(n), read(s1 + <span class="dv">1</span>), read(s2 + <span class="dv">1</span>);</span>
<span id="cb16-9"><a aria-hidden="true" href="#cb16-9"></a>        <span class="dt">int</span> same[<span class="dv">2</span>][<span class="dv">2</span>] = {<span class="dv">0</span>};</span>
<span id="cb16-10"><a aria-hidden="true" href="#cb16-10"></a>        FOR(i, <span class="dv">1</span>, n)</span>
<span id="cb16-11"><a aria-hidden="true" href="#cb16-11"></a>            ++same[s1[i] - <span class="ch">'0'</span>][s1[i] == s2[i]];</span>
<span id="cb16-12"><a aria-hidden="true" href="#cb16-12"></a>        <span class="dt">int</span> ans = <span class="fl">1e9</span>;</span>
<span id="cb16-13"><a aria-hidden="true" href="#cb16-13"></a>        <span class="cf">if</span> (same[<span class="dv">1</span>][<span class="dv">1</span>] - same[<span class="dv">0</span>][<span class="dv">1</span>] == <span class="dv">1</span>) ans = same[<span class="dv">1</span>][<span class="dv">1</span>] + same[<span class="dv">0</span>][<span class="dv">1</span>];</span>
<span id="cb16-14"><a aria-hidden="true" href="#cb16-14"></a>        <span class="cf">if</span> (same[<span class="dv">1</span>][<span class="dv">0</span>] == same[<span class="dv">0</span>][<span class="dv">0</span>]) chkmin(ans, same[<span class="dv">1</span>][<span class="dv">0</span>] + same[<span class="dv">0</span>][<span class="dv">0</span>]);</span>
<span id="cb16-15"><a aria-hidden="true" href="#cb16-15"></a>        print(ans &gt; n ? -<span class="dv">1</span> : ans);</span>
<span id="cb16-16"><a aria-hidden="true" href="#cb16-16"></a>    }</span>
<span id="cb16-17"><a aria-hidden="true" href="#cb16-17"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb16-18"><a aria-hidden="true" href="#cb16-18"></a>}</span></code></pre></div>
<h3 id="d---xor-mas-tree">1615D - X(or)-mas Tree</h3>
<p>é¢˜æ„ï¼šç»™å®šä¸€æ£µè¾¹å¸¦æƒæ ‘ï¼Œæœ‰äº›è¾¹æƒæœªç¡®å®šã€‚ç»™å®šå½¢å¦‚ <span class="math inline">\((a, b, c)\)</span> çš„é™åˆ¶è¡¨ç¤º <span class="math inline">\(a\)</span> åˆ° <span class="math inline">\(b\)</span> è·¯å¾„ä¸Šçš„è¾¹æƒå¼‚æˆ–å’Œçš„ popcount çš„å¥‡å¶æ€§ä¸º <span class="math inline">\(c\)</span>ã€‚æ„é€ ä¸€ä¸ªç»™æœªå®šæƒè¾¹å®šæƒçš„æ–¹æ¡ˆã€‚</p>
<p>å®šä¹‰ <span class="math inline">\(\operatorname{parity}(x)\)</span> è¡¨ç¤º <span class="math inline">\(\operatorname{popcount}(x)\bmod 2\)</span>ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥çŸ¥é“ <span class="math inline">\(\operatorname{parity}(x\oplus y) = \operatorname{parity}(x)\oplus \operatorname{parity}(y)\)</span>ã€‚æ‰€ä»¥å¹²è„†ç›´æ¥å…ˆå°†æ ‘ä¸Šçš„æ‰€æœ‰è¾¹æƒ <span class="math inline">\(d\)</span> å…ˆå˜æˆ <span class="math inline">\(\operatorname{parity}(d)\)</span>ã€‚</p>
<p>ä»¤æ ‘ä¸Šå‰ç¼€å¼‚æˆ–å’Œä¸º <span class="math inline">\(r_u\)</span>ï¼Œåˆ™æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œ<span class="math inline">\((a,b)\)</span> è·¯å¾„çš„å¼‚æˆ–å’Œä¸º <span class="math inline">\(r_a\oplus r_b\)</span>ã€‚æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å°±æœ‰äº†è‹¥å¹²æ¡å½¢å¦‚ <span class="math inline">\(r_a\oplus r_b = c\)</span> çš„é™åˆ¶ï¼ˆå¯¹äºæ ‘ä¸Šå·²æœ‰çš„è¾¹ <span class="math inline">\((u,v, x)\)</span> å¯ä»¥çœ‹ä½œæ˜¯ <span class="math inline">\(r_u\oplus r_v = x\)</span>ï¼‰ã€‚</p>
<p>å¯¹äºæ¯ä¸ªé™åˆ¶ <span class="math inline">\(r_a\oplus r_b = c\)</span>ï¼Œåœ¨æ–°å›¾ä¸Šå»ºä¸€æ¡è¾¹ <span class="math inline">\((a, b, c)\)</span>ï¼Œç„¶åè€ƒè™‘äºŒåˆ†å›¾æŸ“è‰²ï¼ˆä¸€å¼€å§‹é’¦å®šä¸€ä¸ª <span class="math inline">\(r_1\)</span>ï¼‰ï¼Œè¿™æ ·å­å°±å¯ä»¥æ±‚å‡ºæ‰€æœ‰çš„ <span class="math inline">\(r_u\)</span> å¹¶ä¸”åˆ¤æ–­çŸ›ç›¾ã€‚</p>
<h3 id="e---purple-crayon">1615E - Purple Crayon</h3>
<p>é¢˜æ„ï¼šçº¢è“åŒæ–¹åœ¨ä¸€æ£µ <span class="math inline">\(1\)</span> ä¸ºæ ¹çš„æ ‘ä¸Šæ¶‚è‰²ã€‚çº¢å…ˆæ¶‚ï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€ä¸ªå­æ ‘å†…çš„ç‚¹æ¶‚æˆçº¢è‰²ï¼Œä½†æ¶‚çš„ä¸ªæ•°ä¸èƒ½è¶…è¿‡ <span class="math inline">\(k\)</span>ã€‚ç„¶åè“æ¶‚ï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸€ä¸ªå­æ ‘å†…çš„ç‚¹æ¶‚æˆè“è‰²ï¼Œä½†è¯¥å­æ ‘å†…ä¸èƒ½æœ‰çº¢è‰²èŠ‚ç‚¹ã€‚è®¾æœ€åç™½ã€çº¢ã€è“ä¸‰ç§é¢œè‰²çš„ç‚¹å„æœ‰ <span class="math inline">\(w\)</span>ã€<span class="math inline">\(a\)</span> å’Œ <span class="math inline">\(b\)</span> ä¸ªï¼Œåˆ™åˆ†æ•°å®šä¹‰ä¸º <span class="math inline">\(w(r - b)\)</span>ã€‚çº¢æ–¹æƒ³æœ€å¤§åŒ–åˆ†æ•°ï¼Œè“æ–¹æƒ³æœ€å°åŒ–åˆ†æ•°ã€‚åŒæ–¹éƒ½ç»é¡¶èªæ˜ï¼Œé—®æœ€åçš„åˆ†æ•°ã€‚</p>
<p>æ‹†å¼€å¼å­ï¼š<span class="math inline">\(w(r- b) = (n - r - b)(r - b) = r(n - r) - b(n - b)\)</span>ã€‚æ‰€ä»¥å¯¹äºçº¢æ–¹ï¼Œä»–æƒ³è¦åšçš„å°±æ˜¯æœ€å¤§åŒ– <span class="math inline">\(r(n - r)\)</span> å’Œæœ€å°åŒ– <span class="math inline">\(b(n - b)\)</span>ã€‚åˆ°äº†è“æ–¹è¿™é‡Œï¼Œä»–ä¸€å®šæ˜¯æƒ³æœ€å¤§åŒ– <span class="math inline">\(b(n - b)\)</span>ï¼Œå…¶åœ¨ <span class="math inline">\(b = \lfloor n / 2\rfloor\)</span> å¤„æœ‰æœ€å¤§å€¼ã€‚</p>
<p>å¦å¤–æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œçº¢æ–¹é€‰æ‹©äº† <span class="math inline">\(u\)</span> å­æ ‘æ„å‘³ç€ <span class="math inline">\(1\)</span> åˆ° <span class="math inline">\(u\)</span> ä¸Šçš„ç‚¹éƒ½ä¸èƒ½è¢«è“æ–¹æ¶‚è‰²ï¼Œç›¸å½“äºæ§åˆ¶äº†ä¸€æ¡é“¾ã€‚ä¸ºäº†ä½¿å¾—è“æ–¹èƒ½è¾¾åˆ°çš„æœ€å¤§çš„ <span class="math inline">\(b(n - b)\)</span> æœ€å°ï¼Œçº¢æ–¹çš„æœ€ä¼˜ç­–ç•¥ä¸€å®šæ˜¯å°½å¯èƒ½æœ€å°åŒ– <span class="math inline">\(b\)</span> çš„æœ€å¤§å€¼ã€‚æ‰€ä»¥è¯´ï¼Œ<strong>çº¢æ–¹å°½å¯èƒ½å¤šæ§åˆ¶ç‚¹ï¼Œä¸€å®šæ˜¯æœ€ä¼˜çš„</strong>ã€‚</p>
<p>è€Œä¸”ï¼Œä¸ºäº†å°½å¯èƒ½å¤šæ§åˆ¶ç‚¹ï¼Œ<strong>çº¢æ–¹é€‰çš„ä¸€å®šæ˜¯å¶å­èŠ‚ç‚¹</strong>ï¼Œè‹¥é€‰çš„ä¸æ˜¯å¶å­ï¼Œåˆ™é€‰ä¸€ä¸ªå„¿å­èŠ‚ç‚¹èƒ½æ§åˆ¶çš„èŠ‚ç‚¹è‚¯å®šæ›´å¤šã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä»å¤§åˆ°å°å– <span class="math inline">\(k\)</span> æ ¹é•¿é“¾ï¼Œå–çš„æ—¶å€™ç®—ä¸€ä¸‹è“æ–¹è¿˜èƒ½æ¶‚å¤šå°‘ä¸ª <span class="math inline">\(b\)</span>ï¼Œè‹¥ <span class="math inline">\(b &gt; \lfloor n / 2\rfloor\)</span> åˆ™å– <span class="math inline">\(b = \lfloor n / 2\rfloor\)</span>ã€‚ä¾æ­¤è®¡ç®—ç­”æ¡ˆã€‚</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb17-1"><a aria-hidden="true" href="#cb17-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb17-2"><a aria-hidden="true" href="#cb17-2"></a>vector&lt;<span class="dt">int</span>&gt; G[maxn];</span>
<span id="cb17-3"><a aria-hidden="true" href="#cb17-3"></a><span class="dt">int</span> n, k, son[maxn], h[maxn], fa[maxn], len[maxn], cnt;</span>
<span id="cb17-4"><a aria-hidden="true" href="#cb17-4"></a></span>
<span id="cb17-5"><a aria-hidden="true" href="#cb17-5"></a><span class="dt">void</span> dfs1(<span class="dt">int</span> u, <span class="dt">int</span> pre) {</span>
<span id="cb17-6"><a aria-hidden="true" href="#cb17-6"></a>    fa[u] = pre;</span>
<span id="cb17-7"><a aria-hidden="true" href="#cb17-7"></a>    <span class="cf">for</span> (<span class="kw">auto</span> v : G[u]) {</span>
<span id="cb17-8"><a aria-hidden="true" href="#cb17-8"></a>        <span class="cf">if</span> (v == pre) <span class="cf">continue</span>;</span>
<span id="cb17-9"><a aria-hidden="true" href="#cb17-9"></a>        dfs1(v, u);</span>
<span id="cb17-10"><a aria-hidden="true" href="#cb17-10"></a>        <span class="cf">if</span> (h[v] &gt; h[son[u]])</span>
<span id="cb17-11"><a aria-hidden="true" href="#cb17-11"></a>            son[u] = v;</span>
<span id="cb17-12"><a aria-hidden="true" href="#cb17-12"></a>    }</span>
<span id="cb17-13"><a aria-hidden="true" href="#cb17-13"></a>    h[u] = h[son[u]] + <span class="dv">1</span>;</span>
<span id="cb17-14"><a aria-hidden="true" href="#cb17-14"></a>    <span class="cf">return</span>;</span>
<span id="cb17-15"><a aria-hidden="true" href="#cb17-15"></a>}</span>
<span id="cb17-16"><a aria-hidden="true" href="#cb17-16"></a></span>
<span id="cb17-17"><a aria-hidden="true" href="#cb17-17"></a><span class="dt">void</span> dfs2(<span class="dt">int</span> u, <span class="dt">int</span> topf) {</span>
<span id="cb17-18"><a aria-hidden="true" href="#cb17-18"></a>    <span class="cf">if</span> (!son[u]) {</span>
<span id="cb17-19"><a aria-hidden="true" href="#cb17-19"></a>        len[++cnt] = h[topf];</span>
<span id="cb17-20"><a aria-hidden="true" href="#cb17-20"></a>        <span class="cf">return</span>;</span>
<span id="cb17-21"><a aria-hidden="true" href="#cb17-21"></a>    }</span>
<span id="cb17-22"><a aria-hidden="true" href="#cb17-22"></a>    dfs2(son[u], topf);</span>
<span id="cb17-23"><a aria-hidden="true" href="#cb17-23"></a>    <span class="cf">for</span> (<span class="kw">auto</span> v : G[u]) {</span>
<span id="cb17-24"><a aria-hidden="true" href="#cb17-24"></a>        <span class="cf">if</span> (v == son[u] || v == fa[u]) <span class="cf">continue</span>;</span>
<span id="cb17-25"><a aria-hidden="true" href="#cb17-25"></a>        dfs2(v, v);</span>
<span id="cb17-26"><a aria-hidden="true" href="#cb17-26"></a>    }</span>
<span id="cb17-27"><a aria-hidden="true" href="#cb17-27"></a>    <span class="cf">return</span>;</span>
<span id="cb17-28"><a aria-hidden="true" href="#cb17-28"></a>}</span>
<span id="cb17-29"><a aria-hidden="true" href="#cb17-29"></a></span>
<span id="cb17-30"><a aria-hidden="true" href="#cb17-30"></a><span class="dt">int</span> main() {</span>
<span id="cb17-31"><a aria-hidden="true" href="#cb17-31"></a>    read(n, k);</span>
<span id="cb17-32"><a aria-hidden="true" href="#cb17-32"></a>    FOR(i, <span class="dv">1</span>, n - <span class="dv">1</span>) {</span>
<span id="cb17-33"><a aria-hidden="true" href="#cb17-33"></a>        <span class="dt">int</span> u, v; read(u, v);</span>
<span id="cb17-34"><a aria-hidden="true" href="#cb17-34"></a>        G[u].push_back(v), G[v].push_back(u);</span>
<span id="cb17-35"><a aria-hidden="true" href="#cb17-35"></a>    }</span>
<span id="cb17-36"><a aria-hidden="true" href="#cb17-36"></a>    dfs1(<span class="dv">1</span>, <span class="dv">0</span>), dfs2(<span class="dv">1</span>, <span class="dv">1</span>);</span>
<span id="cb17-37"><a aria-hidden="true" href="#cb17-37"></a>    sort(len + <span class="dv">1</span>, len + cnt + <span class="dv">1</span>, greater&lt;<span class="dt">int</span>&gt;());</span>
<span id="cb17-38"><a aria-hidden="true" href="#cb17-38"></a>    <span class="dt">long</span> <span class="dt">long</span> ans = -<span class="fl">1e18</span>;</span>
<span id="cb17-39"><a aria-hidden="true" href="#cb17-39"></a>    <span class="dt">int</span> b = n;</span>
<span id="cb17-40"><a aria-hidden="true" href="#cb17-40"></a>    FOR(a, <span class="dv">1</span>, k) {</span>
<span id="cb17-41"><a aria-hidden="true" href="#cb17-41"></a>        <span class="dt">int</span> x = min(n / <span class="dv">2</span>, b -= len[a]);</span>
<span id="cb17-42"><a aria-hidden="true" href="#cb17-42"></a>        chkmax(ans, <span class="dv">1</span><span class="bu">ll</span> * (n - a - x) * (a - x));</span>
<span id="cb17-43"><a aria-hidden="true" href="#cb17-43"></a>    }</span>
<span id="cb17-44"><a aria-hidden="true" href="#cb17-44"></a>    print(ans);</span>
<span id="cb17-45"><a aria-hidden="true" href="#cb17-45"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb17-46"><a aria-hidden="true" href="#cb17-46"></a>}</span></code></pre></div>
<h2 id="hello-2022">Hello 2022</h2>
<h3 id="c---hidden-permutations">1621C - Hidden Permutations</h3>
<p>äº¤äº’é¢˜ï¼ŒçŒœä¸€ä¸ªæ’åˆ— <span class="math inline">\(p\)</span>ï¼ˆ<span class="math inline">\(n\le 10000\)</span>ï¼‰ã€‚åˆå§‹æœ‰ä¸€ä¸ªæ’åˆ— <span class="math inline">\(q_i = i\)</span>ï¼Œæ¯æ¬¡å¯ä»¥è¯¢é—®ä¸€ä¸ª <span class="math inline">\(q_i\)</span> çš„å€¼ï¼Œäº¤äº’åº“å›ç­”ä½ çš„è¯¢é—®ä¹‹åä¼šå°† <span class="math inline">\(q\)</span> æ›¿æ¢æˆ <span class="math inline">\(q_i' = q_{p_i}\)</span>ã€‚æœ€å¤š <span class="math inline">\(2n\)</span> æ¬¡è¯¢é—®ï¼Œæ±‚å‡º <span class="math inline">\(p\)</span>ã€‚</p>
<p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå¯¹ <span class="math inline">\(q\)</span> æ–½åŠ  <span class="math inline">\(q_i = q_{p_i}\)</span> çš„å˜æ¢è¿™ä¸€è¿‡ç¨‹çš„æœ¬è´¨æ˜¯ä¸€ä¸ªç½®æ¢ã€‚ä¸å¦¨ç›¯ç€ä¸€ä¸ª <span class="math inline">\(q_i\)</span> ä¸æ”¾ï¼Œæˆ‘ä»¬å‘ç°å…¶å˜æ¢ä¸‹å»ä¹‹åä¼šä¸º <span class="math inline">\(p_i, p_{p_i}, p_{p_{p_i}},\cdots\)</span> ä¼šå½¢æˆä¸€ä¸ªç¯ï¼Œç¯ä¸Š <span class="math inline">\(u\to v\)</span> è¡¨ç¤º <span class="math inline">\(p_u = v\)</span>ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¯æ¬¡ç›¯ç€ä¸€ä¸ªæ²¡æœ‰æ±‚å‡ºç­”æ¡ˆçš„ä¸‹æ ‡è¯¢é—®ï¼ŒæŠŠè¿™éƒ¨åˆ†ç¯æ‰¾åˆ°ï¼Œè¿™é¢˜å°±è§£å†³äº†ã€‚</p>
<p>è¯¢é—®æ¬¡æ•°çš„ä¸Šç•Œåˆšå¥½ä¸º <span class="math inline">\(2n\)</span>ï¼Œå¡çš„å¾ˆå‡†ã€‚</p>
<h3 id="d---the-winter-hike">1621D - The Winter Hike</h3>
<p>ç»™å®š <span class="math inline">\(2n\times 2n\)</span> çš„æ£‹ç›˜ï¼Œåˆå§‹æœ‰ <span class="math inline">\(n^2\)</span> ä¸ªäººåœ¨å·¦ä¸Šè§’çš„ <span class="math inline">\(n\times n\)</span> æ­£æ–¹å½¢å†…ï¼ˆæ¯ä¸ªæ ¼å­é‡Œé¢ <span class="math inline">\(1\)</span> äººï¼‰ã€‚ç°è¦å°†è¿™ <span class="math inline">\(n^2\)</span> ä¸ªäººé€šè¿‡å¦‚ä¸‹æ–¹å¼ç§»åŠ¨åˆ°å³ä¸‹è§’çš„ <span class="math inline">\(n\times n\)</span> æ­£æ–¹å½¢å†…ï¼ˆæ¯ä¸ªæ ¼å­ <span class="math inline">\(1\)</span> äººï¼‰ï¼š</p>
<ul>
<li>é€‰å®šä¸€è¡Œï¼Œå°†å…¶é‡Œé¢æ‰€æœ‰çš„äººå¾ªç¯å¾€å·¦/å³ç§»ä¸€æ ¼ã€‚å³å¯¹äºæœ‰äººçš„ <span class="math inline">\((x_0, y)\)</span>ï¼Œæˆ‘ä»¬æ–½å˜æ¢ <span class="math inline">\((x_0, y)\to (x_0, y + 1)\)</span> æˆ– <span class="math inline">\((x_0, y)\to(x_0, y - 1)\)</span>ã€‚åœ¨ <span class="math inline">\((x_0, 2n)\)</span> å’Œ <span class="math inline">\((x_0, 1)\)</span> çš„ç‰¹åˆ¤ã€‚</li>
<li>é€‰å®šä¸€åˆ—ï¼Œå°†å…¶é‡Œé¢æ‰€æœ‰çš„äººå¾ªç¯å¾€ä¸Š/ä¸‹ç§»ä¸€æ ¼ã€‚å³å¯¹äºæœ‰äººçš„ <span class="math inline">\((x, y_0)\)</span>ï¼Œæˆ‘ä»¬æ–½å˜æ¢ <span class="math inline">\((x, y_0)\to (x + 1, y_0)\)</span> æˆ– <span class="math inline">\((x, y_0)\to(x - 1, y_0)\)</span>ã€‚åœ¨ <span class="math inline">\((2n, y_0)\)</span> å’Œ <span class="math inline">\((1, y_0)\)</span> çš„ç‰¹åˆ¤ã€‚</li>
</ul>
<p>æ“ä½œå¯ä»¥è¿›è¡Œä»»æ„æ¬¡ã€‚åŒæ—¶æœ‰äº›æ ¼å­é‡Œé¢æœ‰éšœç¢ï¼Œäººä¸èƒ½ç»è¿‡ï¼Œé™¤æ‰ <span class="math inline">\((x, y)\)</span> çš„éšœç¢éœ€è¦èŠ±è´¹ <span class="math inline">\(c_{x, y}\)</span>ï¼Œå¯é™¤æ‰çš„éšœç¢æ•°ä¸é™ã€‚é—®æœ€å°èŠ±è´¹ã€‚</p>
<p>æ˜¯ä¸€é“éå¸¸å·§å¦™çš„æ„é€ ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹ï¼Œå‘ç°å³ä¸‹è§’çš„ <span class="math inline">\(n\times n\)</span> åŒºåŸŸæ˜¯å¿…é¡»é™¤æ‰çš„ã€‚ç„¶åè§‚å¯Ÿä¸€ä¸‹æ ·ä¾‹ <span class="math inline">\(3\)</span>ï¼Œå‘ç°å³ä¸‹è§’çš„æƒå€¼å’Œä¸º <span class="math inline">\(12\)</span>ï¼Œè¯´æ˜æˆ‘ä»¬åªæ‰£æ‰äº†ä¸€ä¸ªå¤šä½™çš„ <span class="math inline">\(2\)</span>ã€‚ç„¶åæ³¨æ„åˆ°æŒ–æ‰ <span class="math inline">\((2, 3)\)</span>ï¼Œ<span class="math inline">\((3, 2)\)</span> æˆ–è€… <span class="math inline">\((1, 4)\)</span> å’Œ <span class="math inline">\((4, 1)\)</span> éƒ½æ˜¯å¯ä»¥çš„ã€‚æ–¹æ¡ˆå¯ä»¥è‡ªè¡Œå°è¯•æ„é€ ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å°±å‘ç°ï¼Œæˆ‘ä»¬é™¤äº†å³ä¸‹è§’çš„ <span class="math inline">\(n\times n\)</span> è¦æŠ æ‰ï¼Œåªéœ€è¦åœ¨ä¸¤å— <span class="math inline">\(n\times n\)</span> åŒºåŸŸå››è§’çš„äº¤ç•Œæ ¼ç‚¹å¤„æŠ æ‰ä¸€ä¸ªç‚¹å°±å¯ä»¥äº†ã€‚è‡³äºæ–¹æ¡ˆæ„é€ ï¼Œå°±è€ƒè™‘ä¸€è¡Œè¡Œ/ä¸€åˆ—åˆ—çš„ç§»å…¥å³ä¸‹è§’çš„åŒºåŸŸï¼Œå¯ä»¥è‡ªè¡Œæƒ³è±¡ä¸€ä¸‹ã€‚è¿™äº›ç‚¹ä¸€å…±æœ‰ <span class="math inline">\(8\)</span> ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<p><span class="math inline">\((1, 2n)\)</span>ï¼Œ<span class="math inline">\((2n, 1)\)</span>ï¼Œ<span class="math inline">\((1, n + 1)\)</span>ï¼Œ<span class="math inline">\((n + 1, 1)\)</span>ï¼Œ<span class="math inline">\((n, n + 1)\)</span>ï¼Œ<span class="math inline">\((n + 1, n)\)</span>ï¼Œ<span class="math inline">\((n, 2n)\)</span>ï¼Œ<span class="math inline">\((2n, n)\)</span>ã€‚äºæ˜¯è¿™é¢˜å°±åšå®Œäº†ã€‚éå¸¸å¦™ã€‚</p>
<h3 id="e---new-school">1621E - New School</h3>
<p>è¦å¼€åŠå­¦æ ¡ã€‚<span class="math inline">\(n\)</span> ä¸ªè€å¸ˆï¼Œ<span class="math inline">\(m\)</span> ç»„å­¦ç”Ÿã€‚ç¬¬ <span class="math inline">\(i\)</span> ç»„å­¦ç”Ÿæœ‰ <span class="math inline">\(k_i\)</span> äººã€‚è€å¸ˆçš„å¹´é¾„åˆ†åˆ«ä¸º <span class="math inline">\(a_1, \cdots, a_n\)</span>ï¼Œå­¦ç”Ÿçš„å¹´é¾„åˆ†åˆ«ä¸º <span class="math inline">\(b_{i, 1},\cdots, b_{i, k_i}\)</span>ã€‚è¦æ±‚å®‰æ’è€å¸ˆåˆ°æ¯ç»„å­¦ç”Ÿï¼Œæ»¡è¶³</p>
<ul>
<li>æ¯ç»„å­¦ç”Ÿéƒ½æ°å¥½æœ‰ä¸€ä¸ªè€å¸ˆã€‚</li>
<li>ä¸€ä¸ªè€å¸ˆæœ€å¤šå¸¦ä¸€ä¸ªç»„ã€‚</li>
<li>ä¸€ç»„å†…ï¼Œå­¦ç”Ÿçš„å¹³å‡å¹´é¾„ä¸è¶…è¿‡è€å¸ˆçš„å¹´é¾„ã€‚</li>
</ul>
<p>å¯¹äºæ¯ä¸ªå­¦ç”Ÿï¼Œæ±‚å‡ºè‹¥å…¶ä¸æ¥ä¸Šè¯¾ï¼Œè¯¾ç¨‹èƒ½å¦è¢«å®‰æ’ã€‚<span class="math inline">\(1\le m\le n\le 10^5\)</span>ï¼Œ<span class="math inline">\(1\le a_i,b_{i,j}\le 10^5\)</span>ï¼Œ<span class="math inline">\(2\le k_i\le 10^5\)</span>ï¼Œ<span class="math inline">\(\sum k_i\le 2\times 10^5\)</span>ã€‚</p>
<p>è€ƒè™‘å°†æ‰€æœ‰å­¦ç”Ÿç»„å’Œæ‰€æœ‰è€å¸ˆé™åºæ’åºã€‚åˆ™æœ‰è§£å½“ä¸”ä»…å½“ <span class="math inline">\(\forall 1\le i\le m\)</span> æœ‰ <span class="math inline">\(avr_i\le a_i\)</span>ï¼Œè¯¥æƒ…å†µä¸‹æˆ‘ä»¬å°†å…¶ä¸€ä¸€å¯¹åº”å³å¯ã€‚</p>
<p>è€Œå½“ä¸€ä¸ªå­¦ç”Ÿä¸æ¥æ—¶ï¼Œå…¶åªä¼šå½±å“ä¸€ä¸ªç»„ <span class="math inline">\(i\)</span> çš„å¹³å‡å¹´é¾„ <span class="math inline">\(avr_i\)</span>ã€‚å¯¹äºæ¯ä¸€ä¸ªå­¦ç”Ÿ <span class="math inline">\(b_{i, x}\)</span>ï¼Œéƒ½å¯ä»¥äºŒåˆ†æ‰¾å‡ºæ²¡æœ‰ä»–ä¹‹åï¼Œæ•´ç»„äººçš„æ–°çš„ä½ç½® <span class="math inline">\(j\)</span>ã€‚è¿™æ ·ä¸€æ¥ï¼Œ<span class="math inline">\([j, i)\)</span> å†…çš„ç»„éƒ½ä¼šå¾€ <span class="math inline">\(i\)</span> çš„æ–¹å‘å¹³ç§»ä¸€æ ¼ã€‚æˆ‘ä»¬éœ€è¦çŸ¥é“çš„ï¼Œå°±æ˜¯æ”¹å˜åçš„å±€é¢æ˜¯å¦åˆæ³•ã€‚</p>
<p>è‡³äºæ”¹å˜ä¹‹åæ˜¯å¦åˆæ³•ï¼Œå¯ä»¥è®°ä¸‰ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼ˆåˆ†åˆ«ç»´æŠ¤å½“å‰ä½ç½®ï¼Œå½“å‰ä½ç½®å¾€å·¦/å³å¹³ç§»ä¸€æ ¼åæ˜¯å¦åˆæ³•ï¼‰æ¥å®ç°ï¼Œè¯¦è§ä»£ç ã€‚å®ç°è¾ƒä¸ºå¤æ‚æ¶å¿ƒã€‚åŒæ—¶ï¼Œéœ€è¦é¿å¼€æµ®ç‚¹è¯¯å·®ã€‚</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb18-1"><a aria-hidden="true" href="#cb18-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb18-2"><a aria-hidden="true" href="#cb18-2"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb18-3"><a aria-hidden="true" href="#cb18-3"></a><span class="kw">using</span> pli = pair&lt;ll, <span class="dt">int</span>&gt;;</span>
<span id="cb18-4"><a aria-hidden="true" href="#cb18-4"></a><span class="dt">int</span> ok[maxn], ok_suf[maxn], ok_pre[maxn], pos0[maxn];</span>
<span id="cb18-5"><a aria-hidden="true" href="#cb18-5"></a>pair&lt;pli, <span class="dt">int</span>&gt; B[maxn];</span>
<span id="cb18-6"><a aria-hidden="true" href="#cb18-6"></a>pli a[maxn];</span>
<span id="cb18-7"><a aria-hidden="true" href="#cb18-7"></a>vector&lt;<span class="dt">int</span>&gt; c[maxn];</span>
<span id="cb18-8"><a aria-hidden="true" href="#cb18-8"></a></span>
<span id="cb18-9"><a aria-hidden="true" href="#cb18-9"></a><span class="dt">bool</span> <span class="kw">operator</span>&gt;(<span class="at">const</span> pli &amp;a, <span class="at">const</span> pli &amp;b) {<span class="cf">return</span> a.first * b.second &gt; b.first * a.second;}</span>
<span id="cb18-10"><a aria-hidden="true" href="#cb18-10"></a></span>
<span id="cb18-11"><a aria-hidden="true" href="#cb18-11"></a><span class="dt">void</span> solve() {</span>
<span id="cb18-12"><a aria-hidden="true" href="#cb18-12"></a>    <span class="dt">int</span> n, m; read(n, m);</span>
<span id="cb18-13"><a aria-hidden="true" href="#cb18-13"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i].first), a[i].second = <span class="dv">1</span>;</span>
<span id="cb18-14"><a aria-hidden="true" href="#cb18-14"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb18-15"><a aria-hidden="true" href="#cb18-15"></a>        <span class="dt">int</span> k; read(k); ll sum = <span class="dv">0</span>;</span>
<span id="cb18-16"><a aria-hidden="true" href="#cb18-16"></a>        c[i].resize(k);</span>
<span id="cb18-17"><a aria-hidden="true" href="#cb18-17"></a>        FOR(j, <span class="dv">0</span>, k - <span class="dv">1</span>) read(c[i][j]), sum += c[i][j];</span>
<span id="cb18-18"><a aria-hidden="true" href="#cb18-18"></a>        B[i] = make_pair(pli(sum, k), i);</span>
<span id="cb18-19"><a aria-hidden="true" href="#cb18-19"></a>    }</span>
<span id="cb18-20"><a aria-hidden="true" href="#cb18-20"></a>    sort(a + <span class="dv">1</span>, a + n + <span class="dv">1</span>, <span class="kw">operator</span>&gt;);</span>
<span id="cb18-21"><a aria-hidden="true" href="#cb18-21"></a>    <span class="kw">auto</span> cmp = [](<span class="at">const</span> <span class="kw">auto</span> &amp;a, <span class="at">const</span> <span class="kw">auto</span> &amp;b) {<span class="cf">return</span> a.first &gt; b.first;};</span>
<span id="cb18-22"><a aria-hidden="true" href="#cb18-22"></a>    sort(B + <span class="dv">1</span>, B + m + <span class="dv">1</span>, cmp);</span>
<span id="cb18-23"><a aria-hidden="true" href="#cb18-23"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb18-24"><a aria-hidden="true" href="#cb18-24"></a>        ok[i] = ok[i - <span class="dv">1</span>] + (B[i].first &gt; a[i]);<span class="co">//è®°å½•ä¸åˆæ³•çš„æƒ…å†µ</span></span>
<span id="cb18-25"><a aria-hidden="true" href="#cb18-25"></a>        ok_pre[i] = ok_pre[i - <span class="dv">1</span>] + (B[i].first &gt; a[i - <span class="dv">1</span>]);<span class="co">//è®°å½•ä¸åˆæ³•çš„æƒ…å†µ</span></span>
<span id="cb18-26"><a aria-hidden="true" href="#cb18-26"></a>        ok_suf[i] = ok_suf[i - <span class="dv">1</span>] + (B[i].first &gt; a[i + <span class="dv">1</span>]);<span class="co">//è®°å½•ä¸åˆæ³•çš„æƒ…å†µ</span></span>
<span id="cb18-27"><a aria-hidden="true" href="#cb18-27"></a>        pos0[B[i].second] = i;</span>
<span id="cb18-28"><a aria-hidden="true" href="#cb18-28"></a>    }</span>
<span id="cb18-29"><a aria-hidden="true" href="#cb18-29"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb18-30"><a aria-hidden="true" href="#cb18-30"></a>        <span class="cf">for</span> (<span class="kw">auto</span> x : c[i]) {</span>
<span id="cb18-31"><a aria-hidden="true" href="#cb18-31"></a>            pli now(B[pos0[i]].first.first - x, B[pos0[i]].first.second - <span class="dv">1</span>);</span>
<span id="cb18-32"><a aria-hidden="true" href="#cb18-32"></a>            <span class="dt">int</span> to = lower_bound(B + <span class="dv">1</span>, B + m + <span class="dv">1</span>, make_pair(now, i), cmp) - B;</span>
<span id="cb18-33"><a aria-hidden="true" href="#cb18-33"></a>            <span class="cf">if</span> (to &gt; pos0[i])</span>
<span id="cb18-34"><a aria-hidden="true" href="#cb18-34"></a>                putchar((now &gt; a[to - <span class="dv">1</span>] || ok[pos0[i] - <span class="dv">1</span>] + ok_pre[to - <span class="dv">1</span>] - ok_pre[pos0[i]] + ok[m] - ok[to - <span class="dv">1</span>]) ? <span class="ch">'0'</span> : <span class="ch">'1'</span>);</span>
<span id="cb18-35"><a aria-hidden="true" href="#cb18-35"></a>            <span class="cf">else</span> putchar((now &gt; a[to] || ok[to - <span class="dv">1</span>] + ok_suf[pos0[i] - <span class="dv">1</span>] - ok_suf[to - <span class="dv">1</span>] + ok[m] - ok[pos0[i]]) ? <span class="ch">'0'</span> : <span class="ch">'1'</span>);</span>
<span id="cb18-36"><a aria-hidden="true" href="#cb18-36"></a>        }</span>
<span id="cb18-37"><a aria-hidden="true" href="#cb18-37"></a>    }</span>
<span id="cb18-38"><a aria-hidden="true" href="#cb18-38"></a>    putchar(<span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb18-39"><a aria-hidden="true" href="#cb18-39"></a>    <span class="cf">return</span>;</span>
<span id="cb18-40"><a aria-hidden="true" href="#cb18-40"></a>}</span>
<span id="cb18-41"><a aria-hidden="true" href="#cb18-41"></a></span>
<span id="cb18-42"><a aria-hidden="true" href="#cb18-42"></a><span class="dt">int</span> main() {</span>
<span id="cb18-43"><a aria-hidden="true" href="#cb18-43"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb18-44"><a aria-hidden="true" href="#cb18-44"></a>    <span class="cf">while</span> (T--) solve();</span>
<span id="cb18-45"><a aria-hidden="true" href="#cb18-45"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb18-46"><a aria-hidden="true" href="#cb18-46"></a>}</span></code></pre></div>
<h2 id="codeforces-round-764-div.-3">Codeforces Round #764 (Div. 3)</h2>
<p>éšç¼˜æ¥åšåšã€‚</p>
<h3 id="f---interacdive-problem">1624F - Interacdive Problem</h3>
<p>äº¤äº’é¢˜ï¼ŒçŒœæ•°å­—ã€‚ç»™å®šä¸€ä¸ªæ­£æ•´æ•° <span class="math inline">\(n\)</span>ï¼ˆ<span class="math inline">\(2 &lt; n\le 1000\)</span>ï¼‰ï¼Œè¦çŒœä¸€ä¸ªæ•´æ•° <span class="math inline">\(x\)</span> æ»¡è¶³ <span class="math inline">\(1\le x &lt; n\)</span>ã€‚å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li>`+ c`ï¼Œä½¿å¾— <span class="math inline">\(x:=x + c\)</span>ï¼Œç„¶åäº¤äº’å™¨è¿”å› <span class="math inline">\(\displaystyle\left\lfloor\frac{x}{n}\right\rfloor\)</span> çš„å€¼ã€‚</li>
<li><code>! x</code>ï¼Œè¾“å‡ºç­”æ¡ˆï¼Œ<strong>å½“å‰çš„</strong> <span class="math inline">\(x\)</span> çš„å€¼ã€‚</li>
</ul>
<p>æœ€å¤š <span class="math inline">\(10\)</span> æ¬¡è¯¢é—®ã€‚</p>
<p>ç›´è§‰å‘Šè¯‰æˆ‘ä»¬ï¼Œ<span class="math inline">\(2^{10} = 1024\)</span>ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘äºŒåˆ†å‡ºè¿™ä¸ª <span class="math inline">\(x\)</span>ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯æ¬¡å¯¹äºŒåˆ†å·¦å³ç«¯ç‚¹åŒæ—¶åŠ ä¸Šæˆ‘ä»¬ç»™äº¤äº’åº“åŠ ä¸Šçš„ <span class="math inline">\(c\)</span> å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬çš„æ€è·¯æ˜¯å°½å¯èƒ½æŠŠå½“å‰çš„ <span class="math inline">\(x\)</span> å¾€å…¶ä¸Šé¢çš„ç¬¬ä¸€ä¸ª <span class="math inline">\(n\)</span> çš„å€æ•°å»å‡‘ï¼Œæ‰€ä»¥æ¯æ¬¡äºŒåˆ†çš„æ—¶å€™åŠ ä¸Šçš„éƒ½æ˜¯ <span class="math inline">\(n - mid\bmod n\)</span>ã€‚ç„¶åå°±å¯ä»¥æ ¹æ®äº¤äº’åº“è¿”å›çš„å€¼æ¥ä¸€æ­¥æ­¥æ¡†æ­»èŒƒå›´ã€‚</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb19-1"><a aria-hidden="true" href="#cb19-1"></a><span class="dt">int</span> add(<span class="dt">int</span> x) {</span>
<span id="cb19-2"><a aria-hidden="true" href="#cb19-2"></a>    cout &lt;&lt; <span class="st">"+ "</span> &lt;&lt; x &lt;&lt; endl;</span>
<span id="cb19-3"><a aria-hidden="true" href="#cb19-3"></a>    <span class="dt">int</span> res; cin &gt;&gt; res;</span>
<span id="cb19-4"><a aria-hidden="true" href="#cb19-4"></a>    <span class="cf">return</span> res;</span>
<span id="cb19-5"><a aria-hidden="true" href="#cb19-5"></a>}</span>
<span id="cb19-6"><a aria-hidden="true" href="#cb19-6"></a></span>
<span id="cb19-7"><a aria-hidden="true" href="#cb19-7"></a><span class="dt">int</span> main() {</span>
<span id="cb19-8"><a aria-hidden="true" href="#cb19-8"></a>    <span class="dt">int</span> n; cin &gt;&gt; n;</span>
<span id="cb19-9"><a aria-hidden="true" href="#cb19-9"></a>    <span class="dt">int</span> l = <span class="dv">1</span>, r = n;</span>
<span id="cb19-10"><a aria-hidden="true" href="#cb19-10"></a>    <span class="cf">while</span> (l &lt; r - <span class="dv">1</span>) {</span>
<span id="cb19-11"><a aria-hidden="true" href="#cb19-11"></a>        <span class="dt">int</span> mid = (l + r) &gt;&gt; <span class="dv">1</span>;</span>
<span id="cb19-12"><a aria-hidden="true" href="#cb19-12"></a>        <span class="dt">int</span> a = n - mid % n;</span>
<span id="cb19-13"><a aria-hidden="true" href="#cb19-13"></a>        <span class="dt">int</span> res = add(a);</span>
<span id="cb19-14"><a aria-hidden="true" href="#cb19-14"></a>        l += a, r += a, mid += a;</span>
<span id="cb19-15"><a aria-hidden="true" href="#cb19-15"></a>        <span class="cf">if</span> (res == l / n) r = mid;</span>
<span id="cb19-16"><a aria-hidden="true" href="#cb19-16"></a>        <span class="cf">else</span> l = mid; </span>
<span id="cb19-17"><a aria-hidden="true" href="#cb19-17"></a>    }</span>
<span id="cb19-18"><a aria-hidden="true" href="#cb19-18"></a>    cout &lt;&lt; <span class="st">"! "</span> &lt;&lt; l &lt;&lt; endl;</span>
<span id="cb19-19"><a aria-hidden="true" href="#cb19-19"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb19-20"><a aria-hidden="true" href="#cb19-20"></a>}</span></code></pre></div>
<h3 id="g---minor-tree">1624G - MinOr Tree</h3>
<p>ç»™å®šä¸€å¼ æ— å‘å›¾ï¼Œå®šä¹‰å…¶ç”Ÿæˆæ ‘çš„è¾¹æƒä¸º OR å’Œï¼Œé—®æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒ OR å’Œã€‚</p>
<p>è€ƒè™‘ä»é«˜åˆ°ä½æŒ‰ä½è´ªå¿ƒï¼Œç”¨å¹¶æŸ¥é›†åˆ¤æ–­è¯¥ä½æ˜¯ä¸æ˜¯å¿…é¡»å–ï¼Œä¸æ˜¯çš„è¯å°±ä¸å–ã€‚å…·ä½“åœ°ï¼Œä»¤ <span class="math inline">\(ans = 2^{30} - 1\)</span>ï¼Œç„¶åæ¯æ¬¡å…ˆå°† <span class="math inline">\(ans\)</span> çš„ç¬¬ <span class="math inline">\(j\)</span> ä½å»æ‰ï¼Œçœ‹èƒ½å¦æ»¡è¶³å­˜åœ¨ç”Ÿæˆæ ‘ï¼Œè‹¥èƒ½å­˜åœ¨åˆ™ç¬¬ <span class="math inline">\(j\)</span> ä½ä¸å–ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(m\log a\log n)\)</span>ã€‚</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb20-1"><a aria-hidden="true" href="#cb20-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb20-2"><a aria-hidden="true" href="#cb20-2"></a><span class="kw">struct</span> edge {</span>
<span id="cb20-3"><a aria-hidden="true" href="#cb20-3"></a>    <span class="dt">int</span> u, v, w;</span>
<span id="cb20-4"><a aria-hidden="true" href="#cb20-4"></a>} e[maxn];</span>
<span id="cb20-5"><a aria-hidden="true" href="#cb20-5"></a><span class="dt">int</span> n, m, fa[maxn];</span>
<span id="cb20-6"><a aria-hidden="true" href="#cb20-6"></a></span>
<span id="cb20-7"><a aria-hidden="true" href="#cb20-7"></a><span class="dt">int</span> find(<span class="dt">int</span> u) {<span class="cf">return</span> fa[u] == u ? u : fa[u] = find(fa[u]);}</span>
<span id="cb20-8"><a aria-hidden="true" href="#cb20-8"></a></span>
<span id="cb20-9"><a aria-hidden="true" href="#cb20-9"></a><span class="dt">int</span> merge(<span class="dt">int</span> u, <span class="dt">int</span> v) {</span>
<span id="cb20-10"><a aria-hidden="true" href="#cb20-10"></a>    u = find(u), v = find(v);</span>
<span id="cb20-11"><a aria-hidden="true" href="#cb20-11"></a>    <span class="cf">if</span> (u == v) <span class="cf">return</span> <span class="kw">false</span>;</span>
<span id="cb20-12"><a aria-hidden="true" href="#cb20-12"></a>    <span class="cf">return</span> fa[u] = v, <span class="kw">true</span>;</span>
<span id="cb20-13"><a aria-hidden="true" href="#cb20-13"></a>}</span>
<span id="cb20-14"><a aria-hidden="true" href="#cb20-14"></a></span>
<span id="cb20-15"><a aria-hidden="true" href="#cb20-15"></a><span class="dt">int</span> check(<span class="dt">int</span> mask) {</span>
<span id="cb20-16"><a aria-hidden="true" href="#cb20-16"></a>    FOR(i, <span class="dv">1</span>, n) fa[i] = i;</span>
<span id="cb20-17"><a aria-hidden="true" href="#cb20-17"></a>    <span class="dt">int</span> size = n;</span>
<span id="cb20-18"><a aria-hidden="true" href="#cb20-18"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb20-19"><a aria-hidden="true" href="#cb20-19"></a>        <span class="cf">if</span> ((e[i].w | mask) != mask) <span class="cf">continue</span>;</span>
<span id="cb20-20"><a aria-hidden="true" href="#cb20-20"></a>        <span class="cf">if</span> (merge(e[i].u, e[i].v)) --size;</span>
<span id="cb20-21"><a aria-hidden="true" href="#cb20-21"></a>    }</span>
<span id="cb20-22"><a aria-hidden="true" href="#cb20-22"></a>    <span class="cf">return</span> size == <span class="dv">1</span>;</span>
<span id="cb20-23"><a aria-hidden="true" href="#cb20-23"></a>}</span>
<span id="cb20-24"><a aria-hidden="true" href="#cb20-24"></a></span>
<span id="cb20-25"><a aria-hidden="true" href="#cb20-25"></a><span class="dt">int</span> main() {</span>
<span id="cb20-26"><a aria-hidden="true" href="#cb20-26"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb20-27"><a aria-hidden="true" href="#cb20-27"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb20-28"><a aria-hidden="true" href="#cb20-28"></a>        read(n, m);</span>
<span id="cb20-29"><a aria-hidden="true" href="#cb20-29"></a>        FOR(i, <span class="dv">1</span>, m) read(e[i].u, e[i].v, e[i].w);</span>
<span id="cb20-30"><a aria-hidden="true" href="#cb20-30"></a>        <span class="dt">int</span> ans = (<span class="dv">1</span> &lt;&lt; <span class="dv">30</span>) - <span class="dv">1</span>;</span>
<span id="cb20-31"><a aria-hidden="true" href="#cb20-31"></a>        DEC(i, <span class="dv">29</span>, <span class="dv">0</span>) {</span>
<span id="cb20-32"><a aria-hidden="true" href="#cb20-32"></a>            ans ^= (<span class="dv">1</span> &lt;&lt; i);</span>
<span id="cb20-33"><a aria-hidden="true" href="#cb20-33"></a>            <span class="cf">if</span> (!check(ans)) ans ^= (<span class="dv">1</span> &lt;&lt; i);</span>
<span id="cb20-34"><a aria-hidden="true" href="#cb20-34"></a>        }</span>
<span id="cb20-35"><a aria-hidden="true" href="#cb20-35"></a>        print(ans);</span>
<span id="cb20-36"><a aria-hidden="true" href="#cb20-36"></a>    }</span>
<span id="cb20-37"><a aria-hidden="true" href="#cb20-37"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb20-38"><a aria-hidden="true" href="#cb20-38"></a>}</span></code></pre></div>
<h2 id="codeforces-round-765-div.-2">Codeforces Round #765 (Div. 2)</h2>
<p>è¡¥å®Œäº†ï¼</p>
<h3 id="d---binary-spiders">1625D - Binary Spiders</h3>
<p>é¢˜æ„ï¼šç»™å®šä¸€ä¸ªæ•°é›† <span class="math inline">\(A\)</span>ï¼Œå¤§å° <span class="math inline">\(n\le 3\times 10^5\)</span>ï¼Œè¦æ±‚é€‰å‡ºä¸€ä¸ªå¤§å°æœ€å¤§çš„å­é›† <span class="math inline">\(S\)</span>ï¼Œä½¿å¾—å…¶ä¸­å…ƒç´ ä¸¤ä¸¤å¼‚æˆ–çš„å€¼éƒ½å¤§äºç­‰äº <span class="math inline">\(K\)</span>ã€‚æ„é€ æ–¹æ¡ˆã€‚</p>
<p>æˆ‘ä»¬å‘ç°ä¸¤ä¸ªæ•°å­—å¼‚æˆ–èµ·æ¥å¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„ä¸€ä¸ªå¿…è¦æ¡ä»¶æ˜¯å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹ï¼Œæœ€é«˜çš„ä¸ç›¸åŒçš„ä½å¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„æœ€é«˜ä½ã€‚å³ä»–ä»¬åœ¨ Trie ä¸Šçš„ LCA å¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„æœ€é«˜ä½ã€‚ä¸‹é¢ä»¤è¿™ä¸ªç¬¬ <span class="math inline">\(K\)</span> ä½ä¸º <span class="math inline">\(up\)</span>ã€‚</p>
<p>åœ¨ Trie ä¸Šé€’å½’æ±‚è§£é—®é¢˜ã€‚ç‚¹å¯¹åˆ†ä¸ºåœ¨å·¦å³å­æ ‘å†…éƒ¨å’Œè·¨è¶Šè¯¥èŠ‚ç‚¹ä¸¤ç§æƒ…å†µã€‚</p>
<ul>
<li>å½“å‰ Trie è¡¨ç¤ºçš„ä½æ•°å¤§äº <span class="math inline">\(up\)</span>ï¼Œæ­¤æ—¶å·¦å³å­æ ‘å†…éƒ¨çš„ç‚¹å¯¹éƒ½æœ‰å¸Œæœ›å¼‚æˆ–å¤§äºç­‰äº <span class="math inline">\(K\)</span>ï¼Œè€Œè·¨è¶Šè¯¥èŠ‚ç‚¹çš„é“å®šå¤§äº <span class="math inline">\(K\)</span>ï¼Œæ‰€ä»¥é€’å½’ä¸‹å»åšç„¶åæŠŠä¸¤è¾¹ç­”æ¡ˆåˆå¹¶ã€‚</li>
<li>å½“å‰ Trie è¡¨ç¤ºçš„ä½æ•°ç­‰äº <span class="math inline">\(up\)</span>ï¼Œæ­¤æ—¶æˆ‘ä»¬è¦ä¹ˆåœ¨è¯¥å­æ ‘ä¸­é€‰å‡ºä¸€ä¸ªå¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„å…ƒç´ ï¼Œè¦ä¹ˆæ‰¾ä¸€å¯¹è·¨è¶Šå·¦å³å­æ ‘çš„å¼‚æˆ–å¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„æ•°å¯¹ï¼Œç„¶åå°±ä¸ç”¨é€’å½’ä¸‹å»äº†ã€‚</li>
</ul>
<p>è¿™ä¸ªè¿‡ç¨‹åº”è¯¥æ˜¯è‡ªè¯æ˜çš„ã€‚æ‰¾å¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„å…ƒç´ å¾ˆç®€å•ï¼Œä¸€ç›´å¾€å³å­æ ‘æ‰¾æœ€å¤§çš„å³å¯ã€‚æ‰¾å¼‚æˆ–å¤§äºç­‰äº <span class="math inline">\(K\)</span> çš„ä¹Ÿå¾ˆç®€å•ï¼Œå°†ä¸€ä¸ªå­æ ‘å†…çš„æ‰€æœ‰æ•°å­—æå‡ºæ¥ï¼ŒæŒ¨ä¸ªåœ¨å³è¾¹æŸ¥æœ€å¤§å¼‚æˆ–å¯¹ï¼Œå°±å¯ä»¥æ‰¾åˆ°äº†ã€‚</p>
<p><span class="math inline">\(K = 0\)</span> çš„æƒ…å†µéœ€è¦ç‰¹åˆ¤ã€‚</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb21-1"><a aria-hidden="true" href="#cb21-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">3e5</span> + <span class="dv">5</span>;</span>
<span id="cb21-2"><a aria-hidden="true" href="#cb21-2"></a><span class="dt">int</span> n, K, a[maxn], up;</span>
<span id="cb21-3"><a aria-hidden="true" href="#cb21-3"></a><span class="dt">int</span> ch[maxn * <span class="dv">30</span>][<span class="dv">2</span>], val[maxn * <span class="dv">30</span>], tot, root;</span>
<span id="cb21-4"><a aria-hidden="true" href="#cb21-4"></a></span>
<span id="cb21-5"><a aria-hidden="true" href="#cb21-5"></a><span class="dt">void</span> insert(<span class="dt">int</span> &amp;u, <span class="dt">int</span> id, <span class="dt">int</span> x, <span class="dt">int</span> k) {</span>
<span id="cb21-6"><a aria-hidden="true" href="#cb21-6"></a>    <span class="cf">if</span> (!u) u = ++tot;</span>
<span id="cb21-7"><a aria-hidden="true" href="#cb21-7"></a>    <span class="cf">if</span> (k &lt; <span class="dv">0</span>) <span class="cf">return</span> val[u] = id, <span class="dt">void</span>();</span>
<span id="cb21-8"><a aria-hidden="true" href="#cb21-8"></a>    <span class="dt">int</span> c = (x &gt;&gt; k) &amp; <span class="dv">1</span>;</span>
<span id="cb21-9"><a aria-hidden="true" href="#cb21-9"></a>    insert(ch[u][c], id, x, k - <span class="dv">1</span>);</span>
<span id="cb21-10"><a aria-hidden="true" href="#cb21-10"></a>    <span class="cf">return</span>;</span>
<span id="cb21-11"><a aria-hidden="true" href="#cb21-11"></a>}</span>
<span id="cb21-12"><a aria-hidden="true" href="#cb21-12"></a></span>
<span id="cb21-13"><a aria-hidden="true" href="#cb21-13"></a>vector&lt;<span class="dt">int</span>&gt; getval(<span class="dt">int</span> u, <span class="dt">int</span> k) {</span>
<span id="cb21-14"><a aria-hidden="true" href="#cb21-14"></a>    <span class="cf">if</span> (!u) <span class="cf">return</span> vector&lt;<span class="dt">int</span>&gt;();</span>
<span id="cb21-15"><a aria-hidden="true" href="#cb21-15"></a>    <span class="cf">if</span> (k &lt; <span class="dv">0</span>) <span class="cf">return</span> vector&lt;<span class="dt">int</span>&gt;{val[u]};</span>
<span id="cb21-16"><a aria-hidden="true" href="#cb21-16"></a>    <span class="kw">auto</span> r1 = getval(ch[u][<span class="dv">0</span>], k - <span class="dv">1</span>), r2 = getval(ch[u][<span class="dv">1</span>], k - <span class="dv">1</span>);</span>
<span id="cb21-17"><a aria-hidden="true" href="#cb21-17"></a>    <span class="cf">for</span> (<span class="kw">auto</span> xx : r2) r1.push_back(xx);</span>
<span id="cb21-18"><a aria-hidden="true" href="#cb21-18"></a>    <span class="cf">return</span> r1;</span>
<span id="cb21-19"><a aria-hidden="true" href="#cb21-19"></a>}</span>
<span id="cb21-20"><a aria-hidden="true" href="#cb21-20"></a></span>
<span id="cb21-21"><a aria-hidden="true" href="#cb21-21"></a><span class="dt">int</span> query(<span class="dt">int</span> u, <span class="dt">int</span> k, <span class="dt">int</span> x) {</span>
<span id="cb21-22"><a aria-hidden="true" href="#cb21-22"></a>    <span class="cf">if</span> (k &lt; <span class="dv">0</span>) <span class="cf">return</span> val[u];</span>
<span id="cb21-23"><a aria-hidden="true" href="#cb21-23"></a>    <span class="dt">int</span> c = ((x &gt;&gt; k) &amp; <span class="dv">1</span>) ^ <span class="dv">1</span>;</span>
<span id="cb21-24"><a aria-hidden="true" href="#cb21-24"></a>    <span class="cf">if</span> (!ch[u][c]) <span class="cf">return</span> query(ch[u][c ^ <span class="dv">1</span>], k - <span class="dv">1</span>, x);</span>
<span id="cb21-25"><a aria-hidden="true" href="#cb21-25"></a>    <span class="cf">else</span> <span class="cf">return</span> query(ch[u][c], k - <span class="dv">1</span>, x);</span>
<span id="cb21-26"><a aria-hidden="true" href="#cb21-26"></a>}</span>
<span id="cb21-27"><a aria-hidden="true" href="#cb21-27"></a></span>
<span id="cb21-28"><a aria-hidden="true" href="#cb21-28"></a>vector&lt;<span class="dt">int</span>&gt; solve(<span class="dt">int</span> u, <span class="dt">int</span> k) {</span>
<span id="cb21-29"><a aria-hidden="true" href="#cb21-29"></a>    <span class="cf">if</span> (k &lt; up || !u) <span class="cf">return</span> vector&lt;<span class="dt">int</span>&gt;();</span>
<span id="cb21-30"><a aria-hidden="true" href="#cb21-30"></a>    <span class="cf">if</span> (k &gt; up) {</span>
<span id="cb21-31"><a aria-hidden="true" href="#cb21-31"></a>        <span class="kw">auto</span> r1 = solve(ch[u][<span class="dv">0</span>], k - <span class="dv">1</span>), r2 = solve(ch[u][<span class="dv">1</span>], k - <span class="dv">1</span>);</span>
<span id="cb21-32"><a aria-hidden="true" href="#cb21-32"></a>        <span class="cf">for</span> (<span class="kw">auto</span> xx : r2) r1.push_back(xx);</span>
<span id="cb21-33"><a aria-hidden="true" href="#cb21-33"></a>        <span class="cf">return</span> r1;</span>
<span id="cb21-34"><a aria-hidden="true" href="#cb21-34"></a>    } <span class="cf">else</span> <span class="cf">if</span> (k == up) {</span>
<span id="cb21-35"><a aria-hidden="true" href="#cb21-35"></a>        vector&lt;<span class="dt">int</span>&gt; vec1 = getval(ch[u][<span class="dv">1</span>], k - <span class="dv">1</span>), vec2 = getval(ch[u][<span class="dv">0</span>], k - <span class="dv">1</span>), ans;</span>
<span id="cb21-36"><a aria-hidden="true" href="#cb21-36"></a>        <span class="cf">if</span> (!vec1.size()) {</span>
<span id="cb21-37"><a aria-hidden="true" href="#cb21-37"></a>            <span class="cf">if</span> (a[vec2.back()] &gt;= K) ans.push_back(vec2.back());</span>
<span id="cb21-38"><a aria-hidden="true" href="#cb21-38"></a>            <span class="cf">return</span> ans;</span>
<span id="cb21-39"><a aria-hidden="true" href="#cb21-39"></a>        }</span>
<span id="cb21-40"><a aria-hidden="true" href="#cb21-40"></a>        <span class="cf">if</span> (!vec2.size()) {</span>
<span id="cb21-41"><a aria-hidden="true" href="#cb21-41"></a>            <span class="cf">if</span> (a[vec1.back()] &gt;= K) ans.push_back(vec1.back());</span>
<span id="cb21-42"><a aria-hidden="true" href="#cb21-42"></a>            <span class="cf">return</span> ans;</span>
<span id="cb21-43"><a aria-hidden="true" href="#cb21-43"></a>        }</span>
<span id="cb21-44"><a aria-hidden="true" href="#cb21-44"></a>        <span class="dt">bool</span> flag = <span class="dv">0</span>;</span>
<span id="cb21-45"><a aria-hidden="true" href="#cb21-45"></a>        <span class="cf">for</span> (<span class="kw">auto</span> x1 : vec1) {</span>
<span id="cb21-46"><a aria-hidden="true" href="#cb21-46"></a>            <span class="dt">int</span> x2 = query(ch[u][<span class="dv">0</span>], k - <span class="dv">1</span>, a[x1]);</span>
<span id="cb21-47"><a aria-hidden="true" href="#cb21-47"></a>            <span class="cf">if</span> ((a[x1] ^ a[x2]) &gt;= K) {</span>
<span id="cb21-48"><a aria-hidden="true" href="#cb21-48"></a>                flag = <span class="dv">1</span>;</span>
<span id="cb21-49"><a aria-hidden="true" href="#cb21-49"></a>                ans.push_back(x1), ans.push_back(x2);</span>
<span id="cb21-50"><a aria-hidden="true" href="#cb21-50"></a>                <span class="cf">break</span>;</span>
<span id="cb21-51"><a aria-hidden="true" href="#cb21-51"></a>            }</span>
<span id="cb21-52"><a aria-hidden="true" href="#cb21-52"></a>        }</span>
<span id="cb21-53"><a aria-hidden="true" href="#cb21-53"></a>        <span class="cf">if</span> (!flag) {</span>
<span id="cb21-54"><a aria-hidden="true" href="#cb21-54"></a>            <span class="cf">if</span> (a[vec1.back()] &gt;= K) ans.push_back(vec1.back());</span>
<span id="cb21-55"><a aria-hidden="true" href="#cb21-55"></a>        }</span>
<span id="cb21-56"><a aria-hidden="true" href="#cb21-56"></a>        <span class="cf">return</span> ans;</span>
<span id="cb21-57"><a aria-hidden="true" href="#cb21-57"></a>    }</span>
<span id="cb21-58"><a aria-hidden="true" href="#cb21-58"></a>}</span>
<span id="cb21-59"><a aria-hidden="true" href="#cb21-59"></a></span>
<span id="cb21-60"><a aria-hidden="true" href="#cb21-60"></a><span class="dt">int</span> main() {</span>
<span id="cb21-61"><a aria-hidden="true" href="#cb21-61"></a>    read(n, K);</span>
<span id="cb21-62"><a aria-hidden="true" href="#cb21-62"></a>    DEC(i, <span class="dv">30</span>, <span class="dv">0</span>) <span class="cf">if</span> ((K &gt;&gt; i) &amp; <span class="dv">1</span>) {</span>
<span id="cb21-63"><a aria-hidden="true" href="#cb21-63"></a>        up = i;</span>
<span id="cb21-64"><a aria-hidden="true" href="#cb21-64"></a>        <span class="cf">break</span>;</span>
<span id="cb21-65"><a aria-hidden="true" href="#cb21-65"></a>    }</span>
<span id="cb21-66"><a aria-hidden="true" href="#cb21-66"></a>    <span class="cf">if</span> (K == <span class="dv">0</span>) {</span>
<span id="cb21-67"><a aria-hidden="true" href="#cb21-67"></a>        print(n);</span>
<span id="cb21-68"><a aria-hidden="true" href="#cb21-68"></a>        FOR(i, <span class="dv">1</span>, n) print(i, <span class="ch">' '</span>);</span>
<span id="cb21-69"><a aria-hidden="true" href="#cb21-69"></a>        <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb21-70"><a aria-hidden="true" href="#cb21-70"></a>    }</span>
<span id="cb21-71"><a aria-hidden="true" href="#cb21-71"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i]), insert(root, i, a[i], <span class="dv">30</span>);</span>
<span id="cb21-72"><a aria-hidden="true" href="#cb21-72"></a>    <span class="kw">auto</span> ans = solve(root, <span class="dv">30</span>);</span>
<span id="cb21-73"><a aria-hidden="true" href="#cb21-73"></a>    <span class="cf">if</span> (!ans.size()) print(-<span class="dv">1</span>);</span>
<span id="cb21-74"><a aria-hidden="true" href="#cb21-74"></a>    <span class="cf">else</span> {</span>
<span id="cb21-75"><a aria-hidden="true" href="#cb21-75"></a>        print(ans.size());</span>
<span id="cb21-76"><a aria-hidden="true" href="#cb21-76"></a>        <span class="cf">for</span> (<span class="kw">auto</span> x : ans) print(x, <span class="ch">' '</span>);</span>
<span id="cb21-77"><a aria-hidden="true" href="#cb21-77"></a>    }</span>
<span id="cb21-78"><a aria-hidden="true" href="#cb21-78"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb21-79"><a aria-hidden="true" href="#cb21-79"></a>}</span></code></pre></div>
<h3 id="e1---cats-on-the-upgrade-easy-version">1625E1 - Cats on the Upgrade (easy version)</h3>
<p>ç»™å‡ºå¦‚ä¸‹å®šä¹‰ï¼š</p>
<ul>
<li>å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯åˆæ³•çš„æ‹¬å·åºåˆ—ï¼ˆRBSï¼‰å½“ä¸”ä»…å½“å…¶èƒ½é€šè¿‡æ¯æ¬¡å»æ‰ä¸€ä¸ª <code>.</code> æˆ–è€…ä¸€ä¸ªè¿ç»­çš„ <code>()</code> å˜æˆç©ºä¸²ã€‚</li>
<li>ä¸€ä¸ª RBS è¢«ç§°ä¸ºâ€œç®€å•çš„â€å½“ä¸”ä»…å½“å…¶å¼€å¤´å’Œç»“å°¾å‡ä¸ä¸º<code>.</code>ã€‚</li>
</ul>
<p>ç„¶åç»™å®šä¸€ä¸ªé•¿ä¸º <span class="math inline">\(n\)</span> çš„åªåŒ…å«å­—ç¬¦ <code>(</code> å’Œ <code>)</code> çš„å­—ç¬¦ä¸² <span class="math inline">\(S\)</span>ã€‚è¦æ±‚å®Œæˆå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li>ç»™å®š <span class="math inline">\(l, r\)</span>ï¼Œä¿è¯ <span class="math inline">\(S_l\)</span> ä¸º <code>(</code>ï¼Œ<span class="math inline">\(S_r\)</span> ä¸º <code>)</code>ï¼Œå…¶ä¸­é—´çš„å­—ç¬¦å‡ä¸º <code>.</code>ï¼Œç„¶åå°† <span class="math inline">\(S_l\)</span> å’Œ <span class="math inline">\(S_r\)</span> è®¾ä¸º <code>.</code>ã€‚</li>
<li>ç»™å®š <span class="math inline">\(l, r\)</span>ï¼Œè¯¢é—® <span class="math inline">\(S_{[l\cdots r]}\)</span> æœ‰å¤šå°‘è¿ç»­å­æ®µä¸ºç®€å•çš„ RBSï¼Œä¿è¯ <span class="math inline">\(S_{[l\cdots r]}\)</span> ä¸ºç®€å• RBSã€‚</li>
</ul>
<p><span class="math inline">\(2\le n\le 3\times 10^5\)</span>ï¼Œ<span class="math inline">\(1\le q\le 3\times10^5\)</span>ã€‚</p>
<p>easy version æ— ä¿®æ”¹æ“ä½œã€‚</p>
<p>é™æ€é—®é¢˜çš„è¯æˆ‘ä»¬ä¸å¦¨è®° <span class="math inline">\(p_i\)</span> ä¸ºä»¥ <span class="math inline">\(i\)</span> ç»“å°¾çš„ RBS çš„æ•°é‡ï¼Œè¿™ä¸ªä¸œè¥¿å¾ˆå¥½ DP å‡ºæ¥ï¼Œç„¶ååšä¸ªå‰ç¼€å’Œ <span class="math inline">\(S_i\)</span>ï¼Œç„¶åä¼šå‘ç° <span class="math inline">\(S_r - S_{l}\)</span> ç®—é‡äº†æŸäº›ä¿¡æ¯ã€‚</p>
<p>å…·ä½“åœ°ï¼Œå¤šç®— RBS çš„å·¦ç«¯ç‚¹åº”è¯¥åœ¨ <span class="math inline">\([1, l - 1]\)</span>ï¼Œå³ç«¯ç‚¹åº”è¯¥åœ¨ <span class="math inline">\([l, r]\)</span>ï¼Œè¿™äº›ä¸œè¥¿éœ€è¦å‡æ‰ã€‚è€Œï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè®¾è¿™æ ·çš„ RBS ä¸º <span class="math inline">\([i,j]\)</span>ï¼Œåˆ™ <span class="math inline">\([i, l - 1]\)</span>ï¼Œ<span class="math inline">\([l, j]\)</span> å’Œ <span class="math inline">\([j + 1, r]\)</span> éƒ½åº”è¯¥æ˜¯ RBSã€‚æ‰€ä»¥è¿™äº›å½¢å¦‚ <span class="math inline">\([i,j]\)</span> çš„ RBS çš„æ•°é‡åº”è¯¥æ˜¯å½¢å¦‚ <span class="math inline">\([i, l -1]\)</span> çš„ RBS çš„æ•°é‡ä¹˜ä¸Šå½¢å¦‚ <span class="math inline">\([l, j]\)</span> çš„ RBS çš„æ•°é‡ï¼Œå³ä¸º <span class="math inline">\(p_{l - 1}\times (p_r - p_{l - 1})\)</span>ã€‚</p>
<h3 id="e2---cats-on-the-upgrade-hard-version">1625E2 - Cats on the Upgrade (hard version)</h3>
<p>hard version å¸¦ä¸Šä¿®æ”¹æ“ä½œã€‚</p>
<p>ä¸Šé¢è¿™ç§åšæ³•çš„æ‰©å±•æ€§åº”è¯¥æ˜¯ä¸å¤ªå¥½çš„ã€‚è€ƒè™‘å»ºå‡ºæ‹¬å·æ ‘ï¼ˆæˆ–è€…è¯´ï¼Œæ£®æ—ï¼Œé‚£äº›ä¸åˆæ³•çš„å­—ç¬¦å°±ç›´æ¥æ‰”æ‰ï¼‰ï¼Œä¸€å¯¹å·¦å³æ‹¬å·æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç±»ä¼¼ä¸‹é¢è¿™å¼ å›¾ï¼š</p>
<p><img src="https://s4.ax1x.com/2022/01/28/7zM1Ej.png"/></p>
<p>ç„¶åæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæ¯æ¬¡è¯¢é—®è‚¯å®šéƒ½æ˜¯è¯¢é—®æ ‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è‹¥å¹²ä¸ªåŒå±‚ç›¸é‚»èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”æ¯æ¬¡æ“ä½œéƒ½æ˜¯åˆ é™¤å¶å­èŠ‚ç‚¹ã€‚æˆ‘ä»¬è€ƒè™‘å¦‚ä½•å¯¹äºä¸€ä¸ªèŠ‚ç‚¹è®¡ç®—<strong>åªé€‰å…¶å„¿å­èƒ½æ„æˆ RBS çš„æ•°é‡</strong> <span class="math inline">\(g_u\)</span>ï¼Œå‘ç°å…¶å°±æ˜¯é€‰æ‹© <span class="math inline">\(1\)</span> ä¸ªå„¿å­ã€ä¸¤ä¸ªç›¸é‚»å„¿å­ã€ä¸‰ä¸ªç›¸é‚»å„¿å­â€¦â€¦ï¼Œè®¾ <span class="math inline">\(x\)</span> ä¸ªå„¿å­çš„è¯ï¼Œ<span class="math inline">\(g_u = x(x+1)/2\)</span>ã€‚</p>
<p>è€Œæˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªèŠ‚ç‚¹ <span class="math inline">\(u\)</span> ä»£è¡¨çš„ <span class="math inline">\([l, r]\)</span> å†…çš„ RBS æ•°é‡çš„è¯ï¼Œå…¶æ˜æ˜¾ä¸º <span class="math inline">\(\sum_{uæ˜¯vç¥–å…ˆ} g_v + g_u\)</span>ã€‚æ‰€ä»¥ï¼Œå¯¹äºä¸€æ¬¡è¯¢é—®çš„ <span class="math inline">\([l, r]\)</span>ï¼Œå…¶è‚¯å®šåŒ…å«äº†ä¸€ä¸ªåŒå±‚çš„ç‚¹é›† <span class="math inline">\(A\)</span>ï¼Œå…¶ç­”æ¡ˆå°±å†åŠ ä¸Š <span class="math inline">\(|A|\times (|A| + 1) / 2\)</span> å³å¯ã€‚</p>
<p>é‚£ä¹ˆå¯¹äºä¸€æ¬¡ä¿®æ”¹æ“ä½œï¼Œæˆ‘ä»¬æ€è€ƒå…¶æ”¹å˜äº†ä»€ä¹ˆï¼šæ— éå°±æ˜¯çˆ¶äº²èŠ‚ç‚¹çš„å„¿å­æ•°é‡å‡å°ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤æ¯ä¸ªèŠ‚ç‚¹çš„ <span class="math inline">\(g_u\)</span>ï¼Œæ”¯æŒå•ä¿®åŒºæŸ¥ï¼›ç„¶åç»´æŠ¤æ¯ä¸ªç‚¹çš„å„¿å­ï¼ŒåŒæ ·æ˜¯å•ä¿®åŒºæŸ¥ï¼Œç”¨æ ‘çŠ¶æ•°ç»„å°±å¯ä»¥äº†ã€‚</p>
<p>è¿™åº”è¯¥æ˜¯æœ€ç®€æ´çš„åšæ³•äº†ã€‚å…·ä½“çœ‹ä»£ç ï¼Œç›®å‰ä¸º CF æœ€ä¼˜è§£ã€‚</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb22-1"><a aria-hidden="true" href="#cb22-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb22-2"><a aria-hidden="true" href="#cb22-2"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">3e5</span> + <span class="dv">5</span>;</span>
<span id="cb22-3"><a aria-hidden="true" href="#cb22-3"></a><span class="dt">char</span> s[maxn];</span>
<span id="cb22-4"><a aria-hidden="true" href="#cb22-4"></a><span class="dt">int</span> n, q;</span>
<span id="cb22-5"><a aria-hidden="true" href="#cb22-5"></a></span>
<span id="cb22-6"><a aria-hidden="true" href="#cb22-6"></a><span class="kw">struct</span> bit {</span>
<span id="cb22-7"><a aria-hidden="true" href="#cb22-7"></a>    vector&lt;ll&gt; s; <span class="dt">int</span> sz;</span>
<span id="cb22-8"><a aria-hidden="true" href="#cb22-8"></a>    <span class="dt">void</span> build(<span class="dt">int</span> SZ) {sz = SZ + <span class="dv">5</span>, s.resize(sz); <span class="cf">return</span>;}</span>
<span id="cb22-9"><a aria-hidden="true" href="#cb22-9"></a>    <span class="dt">void</span> add(<span class="dt">int</span> x, ll v) {<span class="cf">for</span> (; x &lt; sz; x += (x &amp; -x)) s[x] += v; <span class="cf">return</span>;}</span>
<span id="cb22-10"><a aria-hidden="true" href="#cb22-10"></a>    ll query(<span class="dt">int</span> x) {ll ret = <span class="dv">0</span>; <span class="cf">for</span> (; x; x -= (x &amp; -x)) ret += s[x]; <span class="cf">return</span> ret;}</span>
<span id="cb22-11"><a aria-hidden="true" href="#cb22-11"></a>} T, t[maxn];</span>
<span id="cb22-12"><a aria-hidden="true" href="#cb22-12"></a></span>
<span id="cb22-13"><a aria-hidden="true" href="#cb22-13"></a><span class="dt">int</span> son[maxn], fa[maxn], bel[maxn], ord[maxn], size[maxn];</span>
<span id="cb22-14"><a aria-hidden="true" href="#cb22-14"></a></span>
<span id="cb22-15"><a aria-hidden="true" href="#cb22-15"></a><span class="dt">int</span> main() {</span>
<span id="cb22-16"><a aria-hidden="true" href="#cb22-16"></a>    read(n, q);</span>
<span id="cb22-17"><a aria-hidden="true" href="#cb22-17"></a>    read(s + <span class="dv">1</span>);</span>
<span id="cb22-18"><a aria-hidden="true" href="#cb22-18"></a>    <span class="dt">int</span> cnt = <span class="dv">1</span>, now = <span class="dv">1</span>;</span>
<span id="cb22-19"><a aria-hidden="true" href="#cb22-19"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb22-20"><a aria-hidden="true" href="#cb22-20"></a>        <span class="cf">if</span> (s[i] == <span class="ch">'('</span>) {</span>
<span id="cb22-21"><a aria-hidden="true" href="#cb22-21"></a>            ord[++cnt] = ++son[now];</span>
<span id="cb22-22"><a aria-hidden="true" href="#cb22-22"></a>            fa[cnt] = now, bel[i] = cnt, now = cnt;</span>
<span id="cb22-23"><a aria-hidden="true" href="#cb22-23"></a>        } <span class="cf">else</span> <span class="cf">if</span> (now != <span class="dv">1</span>) {</span>
<span id="cb22-24"><a aria-hidden="true" href="#cb22-24"></a>            bel[i] = now;</span>
<span id="cb22-25"><a aria-hidden="true" href="#cb22-25"></a>            now = fa[now];</span>
<span id="cb22-26"><a aria-hidden="true" href="#cb22-26"></a>        }</span>
<span id="cb22-27"><a aria-hidden="true" href="#cb22-27"></a>    }</span>
<span id="cb22-28"><a aria-hidden="true" href="#cb22-28"></a>    T.build(cnt);</span>
<span id="cb22-29"><a aria-hidden="true" href="#cb22-29"></a>    FOR(i, <span class="dv">1</span>, cnt) {</span>
<span id="cb22-30"><a aria-hidden="true" href="#cb22-30"></a>        T.add(i, <span class="dv">1</span><span class="bu">ll</span> * son[i] * (son[i] + <span class="dv">1</span>) / <span class="dv">2</span>);</span>
<span id="cb22-31"><a aria-hidden="true" href="#cb22-31"></a>        t[i].build(son[i]);</span>
<span id="cb22-32"><a aria-hidden="true" href="#cb22-32"></a>    }</span>
<span id="cb22-33"><a aria-hidden="true" href="#cb22-33"></a>    DEC(i, cnt, <span class="dv">1</span>) size[fa[i]] += (++size[i]);</span>
<span id="cb22-34"><a aria-hidden="true" href="#cb22-34"></a>    <span class="cf">while</span> (q--) {</span>
<span id="cb22-35"><a aria-hidden="true" href="#cb22-35"></a>        <span class="dt">int</span> op, l, r; read(op, l, r);</span>
<span id="cb22-36"><a aria-hidden="true" href="#cb22-36"></a>        <span class="cf">if</span> (op == <span class="dv">1</span>) {</span>
<span id="cb22-37"><a aria-hidden="true" href="#cb22-37"></a>            <span class="dt">int</span> now = bel[l];</span>
<span id="cb22-38"><a aria-hidden="true" href="#cb22-38"></a>            t[fa[now]].add(ord[now], <span class="dv">1</span>);</span>
<span id="cb22-39"><a aria-hidden="true" href="#cb22-39"></a>            T.add(fa[now], -son[fa[now]]--);</span>
<span id="cb22-40"><a aria-hidden="true" href="#cb22-40"></a>        } <span class="cf">else</span> {</span>
<span id="cb22-41"><a aria-hidden="true" href="#cb22-41"></a>            l = bel[l], r = bel[r];</span>
<span id="cb22-42"><a aria-hidden="true" href="#cb22-42"></a>            ll ans = T.query(r + size[r] - <span class="dv">1</span>) - T.query(l - <span class="dv">1</span>);</span>
<span id="cb22-43"><a aria-hidden="true" href="#cb22-43"></a>            ll cnt = ord[r] - ord[l] + <span class="dv">1</span> - t[fa[l]].query(ord[r]) + t[fa[l]].query(ord[l] - <span class="dv">1</span>);</span>
<span id="cb22-44"><a aria-hidden="true" href="#cb22-44"></a>            ans += cnt * (cnt + <span class="dv">1</span>) / <span class="dv">2</span>;</span>
<span id="cb22-45"><a aria-hidden="true" href="#cb22-45"></a>            print(ans);</span>
<span id="cb22-46"><a aria-hidden="true" href="#cb22-46"></a>        }</span>
<span id="cb22-47"><a aria-hidden="true" href="#cb22-47"></a>    }</span>
<span id="cb22-48"><a aria-hidden="true" href="#cb22-48"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb22-49"><a aria-hidden="true" href="#cb22-49"></a>}</span></code></pre></div>
<h2 id="codeforces-round-766-div.-2">Codeforces Round #766 (Div. 2)</h2>
<p>è¡¥å®Œäº†ï¼Œå¥½ï¼</p>
<h3 id="d---not-adding">1627D - Not Adding</h3>
<p>æ³¨æ„åˆ°æ‰€è°“çš„åŠ å…¥æ•°å­—çš„é¡ºåºå…¶å®æ— å…³ç´§è¦ï¼Œä¸ºäº†å°½å¯èƒ½å¤šçš„åŠ æ•°ï¼Œæˆ‘ä»¬ä»å¤§åˆ°å°æšä¸¾åŠ çš„è¿™ä¸ªæ•°å­—ã€‚</p>
<p>å‡è®¾å…¶ä¸º <span class="math inline">\(i\)</span>ï¼Œç„¶åæšä¸¾å€æ•° <span class="math inline">\(j\)</span>ã€‚æˆ‘ä»¬åªéœ€è¦ä¿è¯æ•°ç»„å†…æœ‰æ»¡è¶³ <span class="math inline">\(\gcd\)</span> ä¸º <span class="math inline">\(i\)</span> çš„ <span class="math inline">\(j\)</span> å³å¯ã€‚</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb23-1"><a aria-hidden="true" href="#cb23-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e6</span> + <span class="dv">5</span>, N = <span class="fl">1e6</span>;</span>
<span id="cb23-2"><a aria-hidden="true" href="#cb23-2"></a><span class="dt">int</span> vis[maxn], n, maxx, ans;</span>
<span id="cb23-3"><a aria-hidden="true" href="#cb23-3"></a></span>
<span id="cb23-4"><a aria-hidden="true" href="#cb23-4"></a><span class="dt">int</span> gcd(<span class="dt">int</span> a, <span class="dt">int</span> b) {<span class="cf">return</span> b ? gcd(b, a % b) : a;}</span>
<span id="cb23-5"><a aria-hidden="true" href="#cb23-5"></a></span>
<span id="cb23-6"><a aria-hidden="true" href="#cb23-6"></a><span class="dt">int</span> main() {</span>
<span id="cb23-7"><a aria-hidden="true" href="#cb23-7"></a>    read(n);</span>
<span id="cb23-8"><a aria-hidden="true" href="#cb23-8"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb23-9"><a aria-hidden="true" href="#cb23-9"></a>        <span class="dt">int</span> x; read(x);</span>
<span id="cb23-10"><a aria-hidden="true" href="#cb23-10"></a>        vis[x] = <span class="dv">1</span>;</span>
<span id="cb23-11"><a aria-hidden="true" href="#cb23-11"></a>        chkmax(maxx, x);</span>
<span id="cb23-12"><a aria-hidden="true" href="#cb23-12"></a>    }</span>
<span id="cb23-13"><a aria-hidden="true" href="#cb23-13"></a>    DEC(i, maxx, <span class="dv">1</span>) {</span>
<span id="cb23-14"><a aria-hidden="true" href="#cb23-14"></a>        <span class="cf">if</span> (vis[i]) <span class="cf">continue</span>;</span>
<span id="cb23-15"><a aria-hidden="true" href="#cb23-15"></a>        <span class="dt">int</span> cnt = <span class="dv">0</span>, f = <span class="dv">0</span>;</span>
<span id="cb23-16"><a aria-hidden="true" href="#cb23-16"></a>        <span class="cf">for</span> (<span class="dt">int</span> j = <span class="dv">2</span> * i; j &lt;= N; j += i) {</span>
<span id="cb23-17"><a aria-hidden="true" href="#cb23-17"></a>            <span class="cf">if</span> (vis[j]) {</span>
<span id="cb23-18"><a aria-hidden="true" href="#cb23-18"></a>                ++cnt;</span>
<span id="cb23-19"><a aria-hidden="true" href="#cb23-19"></a>                <span class="cf">if</span> (cnt == <span class="dv">1</span>) f = j / i;</span>
<span id="cb23-20"><a aria-hidden="true" href="#cb23-20"></a>                <span class="cf">else</span> f = gcd(f, j / i);</span>
<span id="cb23-21"><a aria-hidden="true" href="#cb23-21"></a>            }</span>
<span id="cb23-22"><a aria-hidden="true" href="#cb23-22"></a>        }</span>
<span id="cb23-23"><a aria-hidden="true" href="#cb23-23"></a>        <span class="cf">if</span> (cnt &gt; <span class="dv">1</span> &amp;&amp; f == <span class="dv">1</span>) vis[i] = <span class="dv">1</span>, ++ans;</span>
<span id="cb23-24"><a aria-hidden="true" href="#cb23-24"></a>    }</span>
<span id="cb23-25"><a aria-hidden="true" href="#cb23-25"></a>    print(ans);</span>
<span id="cb23-26"><a aria-hidden="true" href="#cb23-26"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb23-27"><a aria-hidden="true" href="#cb23-27"></a>}</span></code></pre></div>
<h3 id="e---not-escaping">1627E - Not Escaping</h3>
<p><span class="math inline">\(n\)</span> å±‚æ¥¼ï¼Œæ¯å±‚æ¥¼æœ‰ <span class="math inline">\(m\)</span> ä¸ªæˆ¿é—´ï¼Œè¦æ±‚ä» <span class="math inline">\((1,1)\to(n,m)\)</span>ã€‚èµ°æ³•æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>åœ¨åŒä¸€æ¥¼å±‚å¹³ç§»ï¼Œå¦‚ <span class="math inline">\((i, j_1)\to(i, j_2)\)</span>ï¼Œä»£ä»·ä¸º <span class="math inline">\(x_i\cdot|j_2 - j_1|\)</span>ã€‚</li>
<li>é€šè¿‡æ¢¯å­ä» <span class="math inline">\((a_i,b_i)\to(c_i,d_i)\)</span>ï¼Œä»£ä»·ä¸º <span class="math inline">\(-h_i\)</span>ã€‚ä¿è¯æœ‰ <span class="math inline">\(a_i&lt;c_i\)</span>ã€‚</li>
</ul>
<p>é—®æœ€å°ä»£ä»·æˆ–è€…è¾“å‡ºæ— è§£ã€‚<span class="math inline">\(2\le n,m\le 10^5\)</span>ï¼Œæ¢¯å­æ€»æ•° <span class="math inline">\(1\le k\le 10^5\)</span>ï¼Œ<span class="math inline">\(1\le x_i,h_i\le 10^6\)</span>ã€‚</p>
<p>å®é™…ä¸Šä¼šå‘ç°ï¼Œæœ‰ç”¨çš„ç‚¹ä¸è¶…è¿‡ <span class="math inline">\(2k + 2\)</span> ä¸ªï¼ˆèµ·ç‚¹ï¼Œç»ˆç‚¹å’Œæ¢¯å­çš„ç«¯ç‚¹ï¼‰ï¼Œå¹¶ä¸”æ¢¯å­éƒ½æ˜¯è‡ªä¸‹è€Œä¸Šçš„ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬ä»ä¸‹å¾€ä¸Šä¸€å±‚ä¸€å±‚çš„ dpï¼Œç”¨å½“å‰å±‚çš„ dp å€¼æ›´æ–°å½“å‰å±‚ï¼Œç„¶åæœ‰æ¢¯å­çš„å°±å¾€ä¸Šæ›´æ–°ã€‚</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb24-1"><a aria-hidden="true" href="#cb24-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb24-2"><a aria-hidden="true" href="#cb24-2"></a><span class="kw">using</span> pil = pair&lt;<span class="dt">int</span>, ll&gt;;</span>
<span id="cb24-3"><a aria-hidden="true" href="#cb24-3"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e5</span> + <span class="dv">5</span>;</span>
<span id="cb24-4"><a aria-hidden="true" href="#cb24-4"></a><span class="at">const</span> ll INF = <span class="bn">0x3f3f3f3f3f3f3f3f</span>;</span>
<span id="cb24-5"><a aria-hidden="true" href="#cb24-5"></a>ll x[maxn], dp[maxn];</span>
<span id="cb24-6"><a aria-hidden="true" href="#cb24-6"></a><span class="kw">struct</span> ladder {</span>
<span id="cb24-7"><a aria-hidden="true" href="#cb24-7"></a>    <span class="dt">int</span> a, b, c, d, h;</span>
<span id="cb24-8"><a aria-hidden="true" href="#cb24-8"></a>    ladder() {}</span>
<span id="cb24-9"><a aria-hidden="true" href="#cb24-9"></a>    ladder(<span class="dt">int</span> _a, <span class="dt">int</span> _b, <span class="dt">int</span> _c, <span class="dt">int</span> _d, <span class="dt">int</span> _h) : a(_a), b(_b), c(_c), d(_d), h(_h) {}</span>
<span id="cb24-10"><a aria-hidden="true" href="#cb24-10"></a>};</span>
<span id="cb24-11"><a aria-hidden="true" href="#cb24-11"></a>vector&lt;ladder&gt; lad[maxn];</span>
<span id="cb24-12"><a aria-hidden="true" href="#cb24-12"></a>map&lt;<span class="dt">int</span>, ll&gt; row[maxn];</span>
<span id="cb24-13"><a aria-hidden="true" href="#cb24-13"></a></span>
<span id="cb24-14"><a aria-hidden="true" href="#cb24-14"></a><span class="dt">void</span> solve() {</span>
<span id="cb24-15"><a aria-hidden="true" href="#cb24-15"></a>    <span class="dt">int</span> n, m, k; read(n, m, k);</span>
<span id="cb24-16"><a aria-hidden="true" href="#cb24-16"></a>    FOR(i, <span class="dv">1</span>, n) read(x[i]), vector&lt;ladder&gt;().swap(lad[i]), map&lt;<span class="dt">int</span>, ll&gt;().swap(row[i]);</span>
<span id="cb24-17"><a aria-hidden="true" href="#cb24-17"></a>    FOR(i, <span class="dv">1</span>, k) {</span>
<span id="cb24-18"><a aria-hidden="true" href="#cb24-18"></a>        <span class="dt">int</span> a, b, c, d, h; read(a, b, c, d, h);</span>
<span id="cb24-19"><a aria-hidden="true" href="#cb24-19"></a>        lad[a].push_back(ladder(a, b, c, d, h));</span>
<span id="cb24-20"><a aria-hidden="true" href="#cb24-20"></a>        row[a][b] = INF, row[c][d] = INF;</span>
<span id="cb24-21"><a aria-hidden="true" href="#cb24-21"></a>    }</span>
<span id="cb24-22"><a aria-hidden="true" href="#cb24-22"></a>    row[<span class="dv">1</span>][<span class="dv">1</span>] = <span class="dv">0</span>, row[n][m] = INF;</span>
<span id="cb24-23"><a aria-hidden="true" href="#cb24-23"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb24-24"><a aria-hidden="true" href="#cb24-24"></a>        <span class="cf">if</span> (row[i].size() &gt;= <span class="dv">2</span>) {</span>
<span id="cb24-25"><a aria-hidden="true" href="#cb24-25"></a>            pil last = *row[i].begin();</span>
<span id="cb24-26"><a aria-hidden="true" href="#cb24-26"></a>            <span class="cf">for</span> (<span class="kw">auto</span> it = ++(row[i].begin()); it != row[i].end(); last = *it++)</span>
<span id="cb24-27"><a aria-hidden="true" href="#cb24-27"></a>                chkmin(it-&gt;second, last.second + x[i] * myabs(last.first - it-&gt;first));</span>
<span id="cb24-28"><a aria-hidden="true" href="#cb24-28"></a>            last = *row[i].rbegin();</span>
<span id="cb24-29"><a aria-hidden="true" href="#cb24-29"></a>            <span class="cf">for</span> (<span class="kw">auto</span> it = ++(row[i].rbegin()); it != row[i].rend(); last = *it++)</span>
<span id="cb24-30"><a aria-hidden="true" href="#cb24-30"></a>                chkmin(it-&gt;second, last.second + x[i] * myabs(last.first - it-&gt;first));</span>
<span id="cb24-31"><a aria-hidden="true" href="#cb24-31"></a>        }</span>
<span id="cb24-32"><a aria-hidden="true" href="#cb24-32"></a>        <span class="cf">for</span> (<span class="kw">auto</span> ld : lad[i])</span>
<span id="cb24-33"><a aria-hidden="true" href="#cb24-33"></a>            <span class="cf">if</span> (row[ld.a][ld.b] &lt; INF) chkmin(row[ld.c][ld.d], row[ld.a][ld.b] - ld.h);</span>
<span id="cb24-34"><a aria-hidden="true" href="#cb24-34"></a>    }</span>
<span id="cb24-35"><a aria-hidden="true" href="#cb24-35"></a>    <span class="cf">if</span> (row[n][m] &lt; INF) print(row[n][m]);</span>
<span id="cb24-36"><a aria-hidden="true" href="#cb24-36"></a>    <span class="cf">else</span> print(<span class="st">"NO ESCAPE"</span>);</span>
<span id="cb24-37"><a aria-hidden="true" href="#cb24-37"></a>}</span>
<span id="cb24-38"><a aria-hidden="true" href="#cb24-38"></a></span>
<span id="cb24-39"><a aria-hidden="true" href="#cb24-39"></a><span class="dt">int</span> main() {</span>
<span id="cb24-40"><a aria-hidden="true" href="#cb24-40"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb24-41"><a aria-hidden="true" href="#cb24-41"></a>    <span class="cf">while</span> (T--) solve();</span>
<span id="cb24-42"><a aria-hidden="true" href="#cb24-42"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb24-43"><a aria-hidden="true" href="#cb24-43"></a>}</span></code></pre></div>
<h3 id="f---not-splitting">1627F - Not Splitting</h3>
<p>ç»™å®šä¸€ä¸ª <span class="math inline">\(k\times k\)</span> çš„æ–¹æ ¼ï¼ˆ<span class="math inline">\(k\)</span> ä¸ºä¸è¶…è¿‡ <span class="math inline">\(500\)</span> çš„å¶æ•°ï¼‰ï¼Œå¹¶ç»™å®š <span class="math inline">\(n\)</span>ï¼ˆ<span class="math inline">\(1\le n\le 10^5\)</span>ï¼‰å¯¹ç›¸é‚»ç‚¹å¯¹ <span class="math inline">\((r_{i,1}, c_{i,1})\leftrightarrow (r_{i,2}, c_{i,2})\)</span>ã€‚ç„¶åå°†è¿™ä¸ª <span class="math inline">\(k\times k\)</span> æ–¹æ ¼åˆ‡åˆ†ä¸ºå…¨ç­‰çš„ä¸¤å—ï¼Œä½¿å¾—æœ€å¤šçš„çº¦æŸæ¡ä»¶èƒ½è¢«æ»¡è¶³ï¼ˆå³ç‚¹å¯¹ä¸­çš„ä¸¤ä¸ªç‚¹åœ¨ä¸€å—ä¸Šï¼‰ã€‚</p>
<p><img src="https://espresso.codeforces.com/0012ed54311c86b8968d6963561d937ba08d1737.png"/></p>
<p>ç„¶åæˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™ä¸ªåˆ‡åˆ†çš„ç—•è¿¹åº”è¯¥æ˜¯å…³äºæ–¹æ ¼ä¸­å¿ƒå¯¹ç§°çš„ã€‚</p>
<p>ä¸å¦¨å°†å…¶çœ‹æˆä¸€ä¸ªæœ€çŸ­è·¯æ¨¡å‹ã€‚å°†å…¶è§†ä½œä¸€ä¸ªç½‘æ ¼å›¾ï¼Œè‹¥å…¶æœ‰é™åˆ¶æ¡ä»¶ï¼Œåˆ™è¾¹æƒä¸º <span class="math inline">\(1\)</span>ï¼Œå¦åˆ™ä¸º <span class="math inline">\(0\)</span>ã€‚</p>
<p>ä¹‹åå°±ä» <span class="math inline">\((k/2, k/2)\)</span> å‡ºå‘ï¼Œä»¥å››å‘¨ä¸ºç»ˆç‚¹ï¼Œè·‘æœ€çŸ­è·¯å³å¯ã€‚éœ€è¦æ³¨æ„çš„çš„æ˜¯æˆ‘ä»¬è®¤ä¸ºç»è¿‡äº† <span class="math inline">\((x,y)\)</span> å°±ç­‰åŒäºç»è¿‡äº† <span class="math inline">\((k - x, k - y)\)</span>ï¼Œå› ä¸ºè¦å…³äºæ–¹æ ¼ä¸­å¿ƒå¯¹ç§°ã€‚</p>
<p>æ˜¯ä¸€é“éå¸¸æœ‰æ„æ€çš„é¢˜ï¼</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb25-1"><a aria-hidden="true" href="#cb25-1"></a><span class="pp">#define mktp </span>make_tuple</span>
<span id="cb25-2"><a aria-hidden="true" href="#cb25-2"></a></span>
<span id="cb25-3"><a aria-hidden="true" href="#cb25-3"></a><span class="kw">struct</span> node {</span>
<span id="cb25-4"><a aria-hidden="true" href="#cb25-4"></a>    <span class="dt">int</span> x, y, w;</span>
<span id="cb25-5"><a aria-hidden="true" href="#cb25-5"></a>    node() {}</span>
<span id="cb25-6"><a aria-hidden="true" href="#cb25-6"></a>    node(<span class="dt">int</span> xx, <span class="dt">int</span> yy, <span class="dt">int</span> ww) : x(xx), y(yy), w(ww) {}</span>
<span id="cb25-7"><a aria-hidden="true" href="#cb25-7"></a>    il <span class="dt">bool</span> <span class="kw">operator</span>&lt;(node rhs) <span class="at">const</span> {</span>
<span id="cb25-8"><a aria-hidden="true" href="#cb25-8"></a>        <span class="cf">return</span> w &gt; rhs.w;</span>
<span id="cb25-9"><a aria-hidden="true" href="#cb25-9"></a>    }</span>
<span id="cb25-10"><a aria-hidden="true" href="#cb25-10"></a>};</span>
<span id="cb25-11"><a aria-hidden="true" href="#cb25-11"></a></span>
<span id="cb25-12"><a aria-hidden="true" href="#cb25-12"></a>map&lt;tuple&lt;<span class="dt">int</span>, <span class="dt">int</span>, <span class="dt">int</span>, <span class="dt">int</span>&gt;, <span class="dt">int</span>&gt; mp;</span>
<span id="cb25-13"><a aria-hidden="true" href="#cb25-13"></a></span>
<span id="cb25-14"><a aria-hidden="true" href="#cb25-14"></a><span class="at">const</span> <span class="dt">int</span> fx[] = {<span class="dv">1</span>, -<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>};</span>
<span id="cb25-15"><a aria-hidden="true" href="#cb25-15"></a><span class="at">const</span> <span class="dt">int</span> fy[] = {<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, -<span class="dv">1</span>};</span>
<span id="cb25-16"><a aria-hidden="true" href="#cb25-16"></a><span class="dt">bool</span> vis[<span class="dv">510</span>][<span class="dv">510</span>];</span>
<span id="cb25-17"><a aria-hidden="true" href="#cb25-17"></a></span>
<span id="cb25-18"><a aria-hidden="true" href="#cb25-18"></a><span class="dt">int</span> main() {</span>
<span id="cb25-19"><a aria-hidden="true" href="#cb25-19"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb25-20"><a aria-hidden="true" href="#cb25-20"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb25-21"><a aria-hidden="true" href="#cb25-21"></a>        <span class="dt">int</span> n, k; read(n, k);</span>
<span id="cb25-22"><a aria-hidden="true" href="#cb25-22"></a>        map&lt;tuple&lt;<span class="dt">int</span>, <span class="dt">int</span>, <span class="dt">int</span>, <span class="dt">int</span>&gt;, <span class="dt">int</span>&gt;().swap(mp);</span>
<span id="cb25-23"><a aria-hidden="true" href="#cb25-23"></a>        FOR(i, <span class="dv">0</span>, k) FOR(j, <span class="dv">0</span>, k) vis[i][j] = <span class="dv">0</span>;</span>
<span id="cb25-24"><a aria-hidden="true" href="#cb25-24"></a>        FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb25-25"><a aria-hidden="true" href="#cb25-25"></a>            <span class="dt">int</span> r1, c1, r2, c2; read(r1, c1, r2, c2);</span>
<span id="cb25-26"><a aria-hidden="true" href="#cb25-26"></a>            <span class="cf">if</span> (r1 &gt; r2) myswap(r1, r2);</span>
<span id="cb25-27"><a aria-hidden="true" href="#cb25-27"></a>            <span class="cf">if</span> (c1 &gt; c2) myswap(c1, c2);</span>
<span id="cb25-28"><a aria-hidden="true" href="#cb25-28"></a>            <span class="cf">if</span> (r1 == r2) mp[mktp(r1 - <span class="dv">1</span>, c1, r1, c1)]++, mp[mktp(r1, c1, r1 - <span class="dv">1</span>, c1)]++;</span>
<span id="cb25-29"><a aria-hidden="true" href="#cb25-29"></a>            <span class="cf">if</span> (c1 == c2) mp[mktp(r1, c1 - <span class="dv">1</span>, r1, c1)]++, mp[mktp(r1, c1, r1, c1 - <span class="dv">1</span>)]++;</span>
<span id="cb25-30"><a aria-hidden="true" href="#cb25-30"></a>        }</span>
<span id="cb25-31"><a aria-hidden="true" href="#cb25-31"></a>        priority_queue&lt;node&gt; q;</span>
<span id="cb25-32"><a aria-hidden="true" href="#cb25-32"></a>        q.push(node(k &gt;&gt; <span class="dv">1</span>, k &gt;&gt; <span class="dv">1</span>, <span class="dv">0</span>));</span>
<span id="cb25-33"><a aria-hidden="true" href="#cb25-33"></a>        <span class="cf">while</span> (!q.empty()) {</span>
<span id="cb25-34"><a aria-hidden="true" href="#cb25-34"></a>            <span class="kw">auto</span> now = q.top(); q.pop();</span>
<span id="cb25-35"><a aria-hidden="true" href="#cb25-35"></a>            <span class="cf">if</span> (vis[now.x][now.y]) <span class="cf">continue</span>;</span>
<span id="cb25-36"><a aria-hidden="true" href="#cb25-36"></a>            vis[now.x][now.y] = vis[k - now.x][k - now.y] = <span class="dv">1</span>;</span>
<span id="cb25-37"><a aria-hidden="true" href="#cb25-37"></a>            <span class="cf">if</span> (!now.x || now.x == k || !now.y || now.y == k) {</span>
<span id="cb25-38"><a aria-hidden="true" href="#cb25-38"></a>                print(n - now.w);</span>
<span id="cb25-39"><a aria-hidden="true" href="#cb25-39"></a>                <span class="cf">break</span>;</span>
<span id="cb25-40"><a aria-hidden="true" href="#cb25-40"></a>            }</span>
<span id="cb25-41"><a aria-hidden="true" href="#cb25-41"></a>            FOR(d, <span class="dv">0</span>, <span class="dv">3</span>) {</span>
<span id="cb25-42"><a aria-hidden="true" href="#cb25-42"></a>                <span class="dt">int</span> tx = now.x + fx[d], ty = now.y + fy[d];</span>
<span id="cb25-43"><a aria-hidden="true" href="#cb25-43"></a>                <span class="cf">if</span> (tx &lt; <span class="dv">0</span> || tx &gt; k || ty &lt; <span class="dv">0</span> || ty &gt; k) <span class="cf">continue</span>;</span>
<span id="cb25-44"><a aria-hidden="true" href="#cb25-44"></a>                <span class="cf">if</span> (vis[tx][ty]) <span class="cf">continue</span>;</span>
<span id="cb25-45"><a aria-hidden="true" href="#cb25-45"></a>                q.push(node(tx, ty, now.w + mp[mktp(now.x, now.y, tx, ty)] + mp[mktp(k - now.x, k - now.y, k - tx, k - ty)]));</span>
<span id="cb25-46"><a aria-hidden="true" href="#cb25-46"></a>            }</span>
<span id="cb25-47"><a aria-hidden="true" href="#cb25-47"></a>        }</span>
<span id="cb25-48"><a aria-hidden="true" href="#cb25-48"></a>    }</span>
<span id="cb25-49"><a aria-hidden="true" href="#cb25-49"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb25-50"><a aria-hidden="true" href="#cb25-50"></a>}</span></code></pre></div>
<h2 id="educational-codeforces-round-121-rated-for-div.-2">Educational Codeforces Round 121 (Rated for Div. 2)</h2>
<p>VP on 22/07/15ï¼ŒA + B + C + Dã€‚</p>
<h3 id="f---a-random-code-problem">1626F - A Random Code Problem</h3>
<p>ç»™å®šæ•´æ•° <span class="math inline">\(k\)</span> å’Œæ•°ç»„ <span class="math inline">\(a\)</span>ï¼Œæ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb26-1"><a aria-hidden="true" href="#cb26-1"></a><span class="dt">long</span> <span class="dt">long</span> ans = <span class="dv">0</span>;</span>
<span id="cb26-2"><a aria-hidden="true" href="#cb26-2"></a><span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>; i &lt;= k; ++i) {</span>
<span id="cb26-3"><a aria-hidden="true" href="#cb26-3"></a>    <span class="dt">int</span> idx = rnd.next(<span class="dv">0</span>, n - <span class="dv">1</span>);</span>
<span id="cb26-4"><a aria-hidden="true" href="#cb26-4"></a>    ans += a[idx];</span>
<span id="cb26-5"><a aria-hidden="true" href="#cb26-5"></a>    a[idx] -= (a[idx] % i);</span>
<span id="cb26-6"><a aria-hidden="true" href="#cb26-6"></a>}</span></code></pre></div>
<p>æ±‚ <code>ans</code> çš„æœŸæœ›ã€‚<span class="math inline">\(a\)</span> æ»¡è¶³é€’æ¨å…³ç³» <span class="math inline">\(a_i = (xa_{i-1} + y)\bmod M\)</span>ï¼Œè¾“å‡ºæœŸæœ›ä¹˜ä¸Š <span class="math inline">\(n^k\)</span> åå¯¹ <span class="math inline">\(998244353\)</span> å–æ¨¡çš„ç»“æœã€‚<span class="math inline">\(1\le n\le 10^7; 1\le k\le 17\)</span>ã€‚</p>
<p>ä¹˜ä¸Š <span class="math inline">\(n^k\)</span> æœ¬è´¨ä¸Šè¦æˆ‘ä»¬æ±‚çš„å°±æ˜¯æ¯ä¸ªä¸‹æ ‡åºåˆ— <span class="math inline">\(b_i\)</span> äº§ç”Ÿçš„è´¡çŒ®ä¹‹å’Œã€‚</p>
<p>ä¸å¦¨å…ˆä¸è€ƒè™‘éš¾ä»¥å¤„ç†çš„ <code>a[idx] -= (a[idx] % i);</code> è¿™å¥ï¼Œåªè€ƒè™‘éšæœºä¸‹æ ‡äº§ç”Ÿçš„è´¡çŒ®ï¼Œå‘ç°å³ä¸º <span class="math inline">\(\sum\limits_{i=1}^k\sum\limits_{j=0}^{n-1}a_jn^{i-1}n^{k-i} = n^{k-1}k\sum a_i\)</span>ï¼Œè€Œæ¯ä¸ªä½ç½®ä¼¼ä¹åˆæ˜¯å¯ä»¥ç‹¬ç«‹è€ƒè™‘çš„ã€‚</p>
<p>å¹¶ä¸”ï¼Œè®¾ <span class="math inline">\(L = \operatorname{lcm}(1,2,\cdots, k)\)</span>ï¼Œä¼šå‘ç° <span class="math inline">\(a_i\)</span> æœ€å¤šå°±å‡åˆ° <span class="math inline">\(\lfloor a_i/L\rfloor L\)</span>ï¼Œä¸å¦¨è®¾ <span class="math inline">\(a_i = x\times L + y\)</span>ï¼Œåˆ™ <span class="math inline">\(xL\)</span> æ˜¯ä¸€å®šä¼šè¢«ç»Ÿè®¡å…¥ç­”æ¡ˆçš„ï¼Œæ‰€ä»¥æ ¹æ®ä¸Šé¢çš„æƒ³æ³•ï¼Œç­”æ¡ˆæ€»è¦åŠ ä¸Š <span class="math inline">\(n^{k-1}kL\sum\lfloor a_i/L\rfloor\)</span>ã€‚æ¥ä¸‹æ¥å°±å¤„ç† <span class="math inline">\(y = a_i\bmod L\)</span> çš„è´¡çŒ®ã€‚</p>
<p>è€ƒè™‘ dpï¼šè®¾ <span class="math inline">\(f_{i,j}\)</span> ä¸ºé€‰äº† <span class="math inline">\(i\)</span> æ¬¡ï¼Œ<span class="math inline">\(j\)</span> çš„å‡ºç°æ¬¡æ•°ï¼Œæ­¤æ—¶ä¸¤ç»´çš„å¤§å°åˆ†åˆ«æ˜¯ <span class="math inline">\(k\)</span> å’Œ <span class="math inline">\(L\)</span>ï¼Œæ˜¯è¶³å¤Ÿçš„ï¼š</p>
<ul>
<li><span class="math inline">\(f_{i+1,j}\leftarrow f_{i+1, j} + (n-1)f_{i,j}\)</span>ï¼Œå¯¹åº”çš„æ˜¯è¿™æ¬¡ä¸é€‰ <span class="math inline">\(j\)</span>ã€‚</li>
<li><span class="math inline">\(f_{i+1, j - j\bmod i}\leftarrow f_{i+1, j - j \bmod i} + f_{i,j}\)</span>ï¼Œå¯¹åº”çš„æ˜¯é€‰äº† <span class="math inline">\(j\)</span>ã€‚</li>
</ul>
<p>åŒæ—¶ï¼Œè€ƒè™‘ <span class="math inline">\(f_{i,j}\)</span> äº§ç”Ÿçš„è´¡çŒ®ï¼Œä¸éš¾å‘ç°æ˜¯ <span class="math inline">\(n^{k-i}\times f_{i,j}\times j\)</span>ï¼Œæ‰€ä»¥å¯¹åº”ç´¯åŠ ä¸€ä¸‹å³å¯ã€‚åˆå§‹æ¡ä»¶æ˜¯ <span class="math inline">\(f_{1, j}\)</span> ä¸º <span class="math inline">\(j\)</span> çš„å‡ºç°æ¬¡æ•°ã€‚</p>
<h2 id="codeforces-round-767-div.-1-and-div.-2">Codeforces Round #767 (Div. 1 and Div. 2)</h2>
<p>èƒ½è¡¥çš„è¡¥å®Œäº†ã€‚</p>
<h3 id="c---xor-ÑĞµÑ‚ĞºĞ°">1628C - XOR-ÑĞµÑ‚ĞºĞ°</h3>
<p>ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„è½¬åŒ–å°±æ˜¯æ¯ä¸ªæ ¼å­å†…çš„æ•°éƒ½è¦è´¡çŒ®å¥‡æ•°æ¬¡ï¼Œç„¶åè€ƒè™‘æ„é€ ã€‚</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb27-1"><a aria-hidden="true" href="#cb27-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="dv">1005</span>;</span>
<span id="cb27-2"><a aria-hidden="true" href="#cb27-2"></a><span class="dt">int</span> n, vis[maxn][maxn], a[maxn][maxn];</span>
<span id="cb27-3"><a aria-hidden="true" href="#cb27-3"></a></span>
<span id="cb27-4"><a aria-hidden="true" href="#cb27-4"></a><span class="at">const</span> <span class="dt">int</span> fx[] = {<span class="dv">1</span>, -<span class="dv">1</span>, <span class="dv">0</span> ,<span class="dv">0</span>};</span>
<span id="cb27-5"><a aria-hidden="true" href="#cb27-5"></a><span class="at">const</span> <span class="dt">int</span> fy[] = {<span class="dv">0</span> ,<span class="dv">0</span>, -<span class="dv">1</span>, <span class="dv">1</span>};</span>
<span id="cb27-6"><a aria-hidden="true" href="#cb27-6"></a></span>
<span id="cb27-7"><a aria-hidden="true" href="#cb27-7"></a><span class="dt">int</span> main() {</span>
<span id="cb27-8"><a aria-hidden="true" href="#cb27-8"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb27-9"><a aria-hidden="true" href="#cb27-9"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb27-10"><a aria-hidden="true" href="#cb27-10"></a>        read(n);</span>
<span id="cb27-11"><a aria-hidden="true" href="#cb27-11"></a>        <span class="dt">int</span> ans = <span class="dv">0</span>;</span>
<span id="cb27-12"><a aria-hidden="true" href="#cb27-12"></a>        FOR(i, <span class="dv">1</span>, n) FOR(j, <span class="dv">1</span>, n) read(a[i][j]), vis[i][j] = <span class="dv">0</span>;</span>
<span id="cb27-13"><a aria-hidden="true" href="#cb27-13"></a>        FOR(i, <span class="dv">2</span>, n) FOR(j, <span class="dv">1</span>, n) {</span>
<span id="cb27-14"><a aria-hidden="true" href="#cb27-14"></a>            <span class="cf">if</span> (!vis[i - <span class="dv">1</span>][j]) {</span>
<span id="cb27-15"><a aria-hidden="true" href="#cb27-15"></a>                ans ^= a[i][j];</span>
<span id="cb27-16"><a aria-hidden="true" href="#cb27-16"></a>                <span class="cf">for</span> (<span class="dt">int</span> k = <span class="dv">0</span>; k &lt; <span class="dv">4</span>; ++k) {</span>
<span id="cb27-17"><a aria-hidden="true" href="#cb27-17"></a>                    <span class="dt">int</span> tx = i + fx[k], ty = j + fy[k];</span>
<span id="cb27-18"><a aria-hidden="true" href="#cb27-18"></a>                    <span class="cf">if</span> (tx &lt; <span class="dv">1</span> || ty &lt; <span class="dv">1</span> || tx &gt; n || ty &gt; n) <span class="cf">continue</span>;</span>
<span id="cb27-19"><a aria-hidden="true" href="#cb27-19"></a>                    vis[tx][ty] ^= <span class="dv">1</span>;</span>
<span id="cb27-20"><a aria-hidden="true" href="#cb27-20"></a>                }</span>
<span id="cb27-21"><a aria-hidden="true" href="#cb27-21"></a>            }</span>
<span id="cb27-22"><a aria-hidden="true" href="#cb27-22"></a>        }</span>
<span id="cb27-23"><a aria-hidden="true" href="#cb27-23"></a>        print(ans);</span>
<span id="cb27-24"><a aria-hidden="true" href="#cb27-24"></a>    }</span>
<span id="cb27-25"><a aria-hidden="true" href="#cb27-25"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb27-26"><a aria-hidden="true" href="#cb27-26"></a>}</span></code></pre></div>
<p>ä¸Šé¢è¿™ä¸ªæ„é€ çš„æ–¹æ³•å°±æ˜¯ä»ç¬¬äºŒè¡Œå¼€å§‹éå†æ¯ä¸ªç‚¹ <span class="math inline">\((i, j)\)</span>ï¼Œå¦‚æœé‡åˆ° <span class="math inline">\((i - 1, j)\)</span> åªè¢«è¦†ç›–äº†å¶æ•°æ¬¡ï¼Œåˆ™æˆ‘ä»¬è´ªå¿ƒçš„ç›´æ¥é€‰ä¸Š <span class="math inline">\((i, j)\)</span> è®©å…¶è¢«è¦†ç›–å¥‡æ•°æ¬¡ã€‚å¯ä»¥å‘ç°åé¢çš„è¿‡ç¨‹ä¸­ <span class="math inline">\((i - 1, j)\)</span> ä¸ä¼šå†è¢«è®¿é—®ã€‚äºæ˜¯è¿™ä¸ªæ„é€ æ–¹æ³•çš„æ­£ç¡®æ€§è¢«æˆåŠŸè¯´æ˜ã€‚</p>
<h3 id="d1---game-on-sum-easy-version">1628D1 - Game on Sum (Easy Version)</h3>
<p>Alice å’Œ Bob åœ¨ç©ä¸€ä¸ªæ¸¸æˆï¼Œ<span class="math inline">\(n\)</span> è½®ï¼Œä»–ä»¬è½®æµå¯¹ <span class="math inline">\(x\)</span> æ“ä½œï¼Œå·²çŸ¥ <span class="math inline">\(x\)</span> åˆå§‹ä¸º <span class="math inline">\(0\)</span>ã€‚æ¯ä¸ªå›åˆï¼š</p>
<ul>
<li>Alice å…ˆé€‰æ‹©ä¸€ä¸ªå®æ•° <span class="math inline">\(t\in[0, k]\)</span>ã€‚</li>
<li>Bob é€‰æ‹©è®© <span class="math inline">\(x\)</span> å˜ä¸º <span class="math inline">\(x+t\)</span> æˆ– <span class="math inline">\(x-t\)</span>ï¼Œä½†æ˜¯è‡³å°‘è¦æœ‰ <span class="math inline">\(m\)</span> ä¸ªå›åˆé€‰æ‹© <span class="math inline">\(x + t\)</span>ã€‚</li>
</ul>
<p>Alice æƒ³æœ€å¤§åŒ– <span class="math inline">\(x\)</span>ï¼ŒBob æƒ³æœ€å°åŒ– <span class="math inline">\(x\)</span>ã€‚åŒæ–¹ç»é¡¶èªæ˜ï¼Œé—®æœ€ç»ˆçš„ <span class="math inline">\(x\)</span> å¯¹ <span class="math inline">\(10^9 + 7\)</span> å–æ¨¡çš„ç»“æœã€‚<span class="math inline">\(1\le m\le n\le 2000\)</span>ï¼Œ<span class="math inline">\(1\le k\le 10^9 + 7\)</span>ã€‚</p>
<p>æ˜¾ç„¶ Bob ä¼šé€‰æ°å¥½ <span class="math inline">\(m\)</span> æ¬¡å¢åŠ æ“ä½œã€‚è®¾ <span class="math inline">\(f_{n, m}\)</span> è¡¨ç¤º <span class="math inline">\(n\)</span> è½®æ¸¸æˆä¸­ Bob é€‰äº† <span class="math inline">\(m\)</span> æ¬¡å¢åŠ æ“ä½œåæœ€ç»ˆçš„ <span class="math inline">\(x\)</span>ã€‚</p>
<p>å‡è®¾ Alice å½“å‰é€‰äº† <span class="math inline">\(t\)</span>ï¼Œåˆ™ Bob è¦é€‰ä½¿å¾—åˆ†æ•°æœ€å°çš„ä¸€ç§æ–¹æ¡ˆï¼Œå³ <span class="math inline">\(f_{n, m}= \min\{f_{n - 1, m} - t, f_{n - 1, m - 1} + t\}\)</span>ã€‚è€Œ Alice ä¸ºäº†ä½¿å¾— <span class="math inline">\(f_{n, m}\)</span> æœ€å¤§åŒ–ï¼Œæ•…å…¶ä¼šé€‰æ‹©ä¸€ä¸ªæœ€ä¼˜çš„ <span class="math inline">\(t\)</span>ã€‚è¿™é‡Œå‘ç° <span class="math inline">\(f_{n - 1, m} - t = f_{n - 1, m - 1} + t\)</span> æ—¶ä¼šæœ€ä¼˜ï¼Œæ•… <span class="math inline">\(t = \dfrac{f_{n - 1, m} - f_{n - 1, m - 1}}{2}\)</span>ã€‚æ‰€ä»¥è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š <span class="math display">\[
f_{n, m} = \frac{f_{n - 1, m} + f_{n - 1, m - 1}}{2}
\]</span> è¾¹ç•Œæ¡ä»¶æ˜¯ <span class="math inline">\(f_{n, n} = nk\)</span>ï¼Œ<span class="math inline">\(f_{n, 0} = 0\)</span>ã€‚ç›´æ¥ DP å³å¯ï¼Œå¤æ‚åº¦ <span class="math inline">\(O(nm)\)</span>ã€‚</p>
<h3 id="d2---game-on-sum-hard-version">1628D2 - Game on Sum (Hard Version)</h3>
<p>å°†ä¸Šé¢çš„æ¡ä»¶æ”¹ä¸º <span class="math inline">\(1\le m\le n\le 10^6\)</span>ï¼Œå‰©ä½™ä¸å˜ã€‚</p>
<p>ä¸Šé¢é‚£ä¸ªä¸œè¥¿ç»™äº†æˆ‘ä»¬ä»€ä¹ˆå¯ç¤ºå‘¢ï¼Ÿå¯ä»¥å•ç‹¬è€ƒè™‘æ¯ä¸ª <span class="math inline">\(f_{i, i}\)</span> äº§ç”Ÿçš„è´¡çŒ®ï¼è¿™ä¸ª <span class="math inline">\(ik\)</span> ä¸€çœ‹å°±æ˜¯ä¸€å±‚å±‚å¾€ä¸‹é¢åƒæ¨è¾‰ä¸‰è§’ä¸€æ ·æ‰©æ•£ã€‚éšä¾¿æ¨ä¸€ä¸‹å¼å­å°±å¯ä»¥å¾—åˆ° <span class="math display">\[
f_{n,m} = \sum_{i = 1}^m\frac{ki}{2^{n - i}}\binom{n - i - 1}{m - i}
\]</span> <span class="math inline">\(O(n)\)</span> è§£å†³äº†ã€‚éœ€è¦ç‰¹åˆ¤ä¸€ä¸‹ <span class="math inline">\(n = m\)</span> çš„æƒ…å†µï¼Œéœ€è¦ç›´æ¥è¾“å‡º <span class="math inline">\(nk\)</span>ï¼Œä»£ç å°±ä¸æ”¾äº†ã€‚</p>
<h2 id="codeforces-round-768-div.-1-and-div.-2">Codeforces Round #768 (Div. 1 and Div. 2)</h2>
<p>æ‰“å¾—å¥½åƒæœ‰ç‚¹å·®çš„ç¦»è°±ã€‚</p>
<h3 id="b---range-and-partition">1630B - Range and Partition</h3>
<p>ç»™å®šé•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„åºåˆ— <span class="math inline">\(\{a_i\}\)</span> å’Œæ­£æ•´æ•° <span class="math inline">\(k\)</span>ï¼Œè¦æ±‚æ‰¾åˆ°ä¸€ä¸ªé•¿åº¦æœ€çŸ­çš„åŒºé—´ <span class="math inline">\([x, y]\)</span> ä½¿å¾—èƒ½å°† <span class="math inline">\(\{a_i\}\)</span> æ°å¥½åˆ†ä¸º <span class="math inline">\(k\)</span> æ®µï¼Œä½¿å¾—æ¯ä¸€æ®µä¸­ <span class="math inline">\(\in[x,y]\)</span> çš„å…ƒç´ æ•°é‡ä¸¥æ ¼å¤§äº <span class="math inline">\(\notin [x,y]\)</span> çš„å…ƒç´ æ•°é‡ã€‚<span class="math inline">\(1&lt;k\le n\le 2\times 10^5\)</span>ï¼Œ<span class="math inline">\(1\le a_i\le n\)</span>ã€‚</p>
<p>æˆ‘ä»¬å…ˆè€ƒè™‘å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªåŒºé—´ <span class="math inline">\([x, y]\)</span> æ˜¯å¦åˆæ³•ã€‚ä¸å¦¨è®¾ <span class="math inline">\(b_i = \begin{cases}1&amp;a_i\in[x,y]\\-1&amp;a_i\notin[x,y\end{cases}\)</span>ï¼Œç„¶åæ±‚å‡º <span class="math inline">\(S = \sum_{i = 1}^n b_i\)</span>ï¼Œå½“ <span class="math inline">\(S \ge k\)</span> æ—¶åˆæ³•ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºåˆ’åˆ†å‡ºçš„æ¯ä¸€æ®µå†…ï¼Œ<span class="math inline">\(b_i\)</span> çš„å’Œéƒ½è‡³å°‘ä¸º <span class="math inline">\(1\)</span>ï¼Œæ‰€ä»¥æ€»ä½“çš„ <span class="math inline">\(S\ge k\)</span> æ—¶å°±æ˜¯åˆæ³•çš„ã€‚</p>
<p>è¿™ä¸ªåŒºé—´æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡äºŒåˆ†æˆ–è€…åŒæŒ‡é’ˆæ±‚å‡ºæ¥ï¼Œç„¶åéšä¾¿æ„é€ ä¸€ä¸‹åˆ†æ®µæ–¹å¼å°±æœ‰äº†ã€‚</p>
<h3 id="c---paint-the-middle">1630C - Paint the Middle</h3>
<p>ç»™å®šé•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„åºåˆ— <span class="math inline">\(a_i\)</span>ï¼Œä¸€å¼€å§‹ <span class="math inline">\(c_i = 0\)</span>ã€‚å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ul>
<li>é€‰æ‹© <span class="math inline">\(1\le i &lt; j &lt; k\le n\)</span>ï¼Œæ»¡è¶³ <span class="math inline">\(c_i = c_j = c_k = 0\land a_i = a_k\)</span>ï¼Œç„¶å <span class="math inline">\(c_j:=1\)</span>ã€‚</li>
</ul>
<p>é—®è‹¥å¹²æ¬¡æ“ä½œä¹‹åæœ€å¤§çš„ <span class="math inline">\(\sum_{i = 1}^nc_i\)</span>ã€‚<span class="math inline">\(3\le n\le 2\times 10^5\)</span>ã€‚</p>
<p>è¯¥åšæ³•æ¥è‡ª<a href="https://codeforces.com/blog/entry/99384?#comment-881614">è¯„è®ºåŒº</a>ã€‚DPï¼Œè®¾ <span class="math inline">\(f_i\)</span> ä¸ºåŒºé—´ <span class="math inline">\([1, i]\)</span> çš„ç­”æ¡ˆï¼Œæ˜¾ç„¶ <span class="math inline">\(f_1 = 0\)</span>ã€‚æœ‰å¦‚ä¸‹ <span class="math inline">\(3\)</span> ç§è½¬ç§»åˆ° <span class="math inline">\(f_i\)</span> çš„åŠæ³•ï¼š</p>
<ul>
<li><span class="math inline">\(a_i\)</span> åœ¨ <span class="math inline">\(a_j\)</span> å‡ºç°è¿‡ï¼ˆ<span class="math inline">\(j &lt; i\)</span>ï¼‰ï¼Œè€ƒè™‘å°† <span class="math inline">\((j, i)\)</span> å…¨éƒ¨æ¶‚è‰²ï¼Œåˆ™ <span class="math inline">\(f_i = f_j + (i - j - 1)\)</span>ã€‚</li>
<li><span class="math inline">\(a_i\)</span> åœ¨ <span class="math inline">\(a_k\)</span> å‡ºç°è¿‡ï¼ˆ<span class="math inline">\(k &lt; j &lt; i\)</span>ï¼‰ï¼Œè€ƒè™‘å– <span class="math inline">\(f_j\)</span> çš„æœ€ä¼˜è§£ä½†æ˜¯ç•™ä¸‹ <span class="math inline">\(c_k\)</span> ä¸æ¶‚ï¼Œç„¶åå†æ¶‚ä¸Š <span class="math inline">\([j, i)\)</span>ï¼ŒåŒæ ·æœ‰ <span class="math inline">\(f_i = f_j + i - j - 1\)</span>ã€‚</li>
<li>ç›´æ¥ç»§æ‰¿ <span class="math inline">\(f_{i - 1}\)</span>ï¼Œå†™è§„èŒƒä¸€ç‚¹å°±æ˜¯ <span class="math inline">\(f_i = f_{i - 1} + (i - (i - 1) - 1)\)</span>ã€‚</li>
</ul>
<p>äºæ˜¯è‹¥æˆ‘ä»¬ä»¤ <span class="math inline">\(\mathrm {first}(a_i)\)</span> è¡¨ç¤º <span class="math inline">\(a_i\)</span> ç¬¬ä¸€æ¬¡å‡ºç°æ—¶çš„ä¸‹æ ‡ï¼Œåˆ™è½¬ç§»æ–¹ç¨‹å°±æœ‰äº†ï¼š <span class="math display">\[
f_i = \max_{\mathrm{first}(a_i)\le j &lt; i}\{f_{j} - j \} + i - 1
\]</span> æ­¤æ—¶è¿™ä¸ªåšæ³•æ˜¯ <span class="math inline">\(O(n^2)\)</span> çš„ï¼Œéœ€è¦ä¼˜åŒ–ã€‚æ”¹å†™è½¬ç§»æ–¹ç¨‹ï¼š <span class="math display">\[
f_i - i = \max_{\mathrm{first}(a_i)\le j &lt; i\lor j = i - 1}\{f_{j} - j \} - 1
\]</span> ä¸éš¾å‘ç°è¿™å¯ä»¥æ‹¿ä¸€ä¸ªç»´æŠ¤ <span class="math inline">\(f_i - i\)</span> çš„æœ€å¤§å€¼çš„çº¿æ®µæ ‘æ¥ä¼˜åŒ–ï¼Œäºæ˜¯ <span class="math inline">\(O(n\log n)\)</span>ã€‚ä»£ç å¤ªå¼±æ™ºä¸æ”¾äº†ã€‚</p>
<h2 id="codeforces-round-769-div.-2">Codeforces Round #769 (Div. 2)</h2>
<p>æ‰“çš„å¾ˆå·®ã€‚</p>
<h3 id="d---new-year-concert">1632D - New Year Concert</h3>
<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„æ­£æ•´æ•°ç»„ <span class="math inline">\(a\)</span>ã€‚å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(k\)</span> çš„æ­£æ•´æ•°ç»„ <span class="math inline">\(b\)</span>ï¼Œå®šä¹‰ <span class="math inline">\(f(b_1,b_2,\cdots,b_k)\)</span> ä¸ºä½¿å¾—å¯¹äºæ‰€æœ‰çš„ <span class="math inline">\(1\leq l\le r\le k\)</span>ï¼Œéƒ½æœ‰ <span class="math inline">\(\gcd\{b_l,b_{l+1},\dots,b_r\}\neq r-l+1\)</span> çš„æœ€å°‘æ“ä½œæ¬¡æ•°ï¼Œå…¶ä¸­ä¸€æ¬¡æ“ä½œå¯ä»¥å°†æ•°ç»„ä¸­çš„ä¸€ä¸ªæ•°æ”¹ä¸ºä»»æ„æ­£æ•´æ•°ã€‚ç°åœ¨ï¼Œè¯·æ±‚å‡º <span class="math inline">\(f(a_1),f(a_1,a_2),\cdots,f(a_1,a_2,\cdots,a_n)\)</span> çš„å€¼ã€‚<span class="math inline">\(1\le n\le 2\times 10^5\)</span>ï¼Œ<span class="math inline">\(1\le a_i\le 10^9\)</span>ã€‚</p>
<p>æˆ‘ä»¬ä¸€ä¸ªä¸ªæ¥å¤„ç†ã€‚è®¾ <span class="math inline">\(f_i\)</span> ä¸º <span class="math inline">\([1, i]\)</span> çš„ç­”æ¡ˆï¼Œè‹¥ä¸å­˜åœ¨ <span class="math inline">\(l\)</span> ä½¿å¾— <span class="math inline">\(\gcd\{a_l, \cdots, a_i\} = i - l + 1\)</span>ï¼Œåˆ™ <span class="math inline">\(f_i = f_{i - 1}\)</span>ï¼Œå¦åˆ™ <span class="math inline">\(f_i = f_{i - 1} + 1\)</span>ï¼Œå¹¶ä¸”éœ€è¦ä¿®æ”¹ <span class="math inline">\(a_l\)</span> ä¸ºä¸€å¤§è´¨æ•°ã€‚</p>
<p>è€ƒè™‘æŸ¥æ‰¾ <span class="math inline">\(l\)</span>ï¼Œæ ¹æ®åç¼€ <span class="math inline">\(\gcd\)</span> çš„å•è°ƒä¸å¢æ€§ï¼Œä¸”ä¸åŒåç¼€ <span class="math inline">\(\gcd\)</span> åªæœ‰ <span class="math inline">\(O(\log)\)</span> ç§ï¼Œæ‰€ä»¥å¯ä»¥äºŒåˆ†ã€‚è¿™é‡Œä½¿ç”¨ ST è¡¨æ¥æŸ¥è¯¢åŒºé—´ <span class="math inline">\(\gcd\)</span>ã€‚</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb28-1"><a aria-hidden="true" href="#cb28-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb28-2"><a aria-hidden="true" href="#cb28-2"></a><span class="dt">int</span> n, a[maxn], f[maxn], st[<span class="dv">21</span>][maxn], lg[maxn];</span>
<span id="cb28-3"><a aria-hidden="true" href="#cb28-3"></a></span>
<span id="cb28-4"><a aria-hidden="true" href="#cb28-4"></a><span class="dt">int</span> gcd(<span class="dt">int</span> a, <span class="dt">int</span> b) {<span class="cf">return</span> b ? gcd(b, a % b) : a;}</span>
<span id="cb28-5"><a aria-hidden="true" href="#cb28-5"></a></span>
<span id="cb28-6"><a aria-hidden="true" href="#cb28-6"></a>il <span class="dt">int</span> query(<span class="dt">int</span> l, <span class="dt">int</span> r) {</span>
<span id="cb28-7"><a aria-hidden="true" href="#cb28-7"></a>    <span class="dt">int</span> len = lg[r - l + <span class="dv">1</span>];</span>
<span id="cb28-8"><a aria-hidden="true" href="#cb28-8"></a>    <span class="cf">return</span> gcd(st[len][l], st[len][r - (<span class="dv">1</span> &lt;&lt; len) + <span class="dv">1</span>]);</span>
<span id="cb28-9"><a aria-hidden="true" href="#cb28-9"></a>}</span>
<span id="cb28-10"><a aria-hidden="true" href="#cb28-10"></a></span>
<span id="cb28-11"><a aria-hidden="true" href="#cb28-11"></a><span class="dt">int</span> main() {</span>
<span id="cb28-12"><a aria-hidden="true" href="#cb28-12"></a>    read(n);</span>
<span id="cb28-13"><a aria-hidden="true" href="#cb28-13"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i]), lg[i] = i &gt; <span class="dv">1</span> ? lg[i &gt;&gt; <span class="dv">1</span>] + <span class="dv">1</span> : <span class="dv">0</span>, st[<span class="dv">0</span>][i] = a[i];</span>
<span id="cb28-14"><a aria-hidden="true" href="#cb28-14"></a>    FOR(j, <span class="dv">1</span>, lg[n]) FOR(i, <span class="dv">1</span>, n + <span class="dv">1</span> - (<span class="dv">1</span> &lt;&lt; j)) st[j][i] = gcd(st[j - <span class="dv">1</span>][i], st[j - <span class="dv">1</span>][i + (<span class="dv">1</span> &lt;&lt; (j - <span class="dv">1</span>))]);</span>
<span id="cb28-15"><a aria-hidden="true" href="#cb28-15"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb28-16"><a aria-hidden="true" href="#cb28-16"></a>        f[i] = f[i - <span class="dv">1</span>];</span>
<span id="cb28-17"><a aria-hidden="true" href="#cb28-17"></a>        <span class="cf">for</span> (<span class="dt">int</span> j = i; j &gt; <span class="dv">0</span>; ) {</span>
<span id="cb28-18"><a aria-hidden="true" href="#cb28-18"></a>            <span class="dt">int</span> g = query(j, i), now = j;</span>
<span id="cb28-19"><a aria-hidden="true" href="#cb28-19"></a>            DEC(k, lg[n], <span class="dv">0</span>) <span class="cf">if</span> (j &gt; (<span class="dv">1</span> &lt;&lt; k) &amp;&amp; query(j - (<span class="dv">1</span> &lt;&lt; k), i) == g)</span>
<span id="cb28-20"><a aria-hidden="true" href="#cb28-20"></a>                j -= (<span class="dv">1</span> &lt;&lt; k);</span>
<span id="cb28-21"><a aria-hidden="true" href="#cb28-21"></a>            <span class="cf">if</span> (g &lt;= i - j + <span class="dv">1</span> &amp;&amp; g &gt;= i - now + <span class="dv">1</span>) {</span>
<span id="cb28-22"><a aria-hidden="true" href="#cb28-22"></a>                f[i] = f[i - g] + <span class="dv">1</span>;</span>
<span id="cb28-23"><a aria-hidden="true" href="#cb28-23"></a>                <span class="cf">break</span>;</span>
<span id="cb28-24"><a aria-hidden="true" href="#cb28-24"></a>            }</span>
<span id="cb28-25"><a aria-hidden="true" href="#cb28-25"></a>            --j;</span>
<span id="cb28-26"><a aria-hidden="true" href="#cb28-26"></a>        }</span>
<span id="cb28-27"><a aria-hidden="true" href="#cb28-27"></a>        print(f[i], <span class="ch">' '</span>);</span>
<span id="cb28-28"><a aria-hidden="true" href="#cb28-28"></a>    }</span>
<span id="cb28-29"><a aria-hidden="true" href="#cb28-29"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb28-30"><a aria-hidden="true" href="#cb28-30"></a>}</span></code></pre></div>
<h3 id="e---distance-tree">1632E - Distance Tree</h3>
<p><span class="math inline">\(n\)</span> ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œæ¯æ¡è¾¹æƒä¸º <span class="math inline">\(1\)</span>ï¼Œå®šä¹‰ï¼š</p>
<ul>
<li><span class="math inline">\(d(v)\)</span> ä¸ºèŠ‚ç‚¹ <span class="math inline">\(1\)</span> åˆ° <span class="math inline">\(v\)</span> çš„è·ç¦»ã€‚</li>
<li><span class="math inline">\(f(x)\)</span> ä¸ºåœ¨ä»»æ„ä¸¤ç‚¹ <span class="math inline">\(a, b\)</span> é—´æ·»åŠ ä¸€æ¡æƒä¸º <span class="math inline">\(x\)</span> çš„è¾¹åï¼Œ<span class="math inline">\(\max_{1\le v\le n}\{d(v)\}\)</span> çš„æœ€å°å€¼ã€‚</li>
</ul>
<p>å¯¹äº <span class="math inline">\(\forall x\in[1, n]\)</span>ï¼Œæ±‚å‡º <span class="math inline">\(f(x)\)</span>ã€‚<del>Easy ver. <span class="math inline">\(2\le n,\sum n\le 3000\)</span>â€‹</del>ã€‚Hard ver. <span class="math inline">\(2\le n,\sum n\le 3\times 10^5\)</span>ã€‚</p>
<p>é€šè¿‡ç®€å•è§‚å¯Ÿå¯ä»¥å‘ç°åŠ çš„è¿™æ¡è¾¹çš„ä¸€ä¸ªç«¯ç‚¹ä¸€å®šæ˜¯ <span class="math inline">\(1\)</span> å·ç‚¹ï¼Œå¯ä»¥åè¯ã€‚æ¥ä¸‹æ¥é’¦å®š <span class="math inline">\(1\)</span> ä¸ºæ ¹ã€‚</p>
<p>ä¹‹åä¼šå‘ç°æ­£ç€åšä¼¼ä¹æœ‰ç‚¹éš¾æã€‚ä¸å¦¨æ€è€ƒä¸€ä¸‹å¦‚æœç»™å®šäº†ä¸€ä¸ªè·ç¦» <span class="math inline">\(y\)</span> ç„¶ååæ¨è¾¹æƒ <span class="math inline">\(x\)</span> çš„èŒƒå›´ï¼Œé¦–å…ˆå‘ç°è¿è¾¹ä¸€å®šè¿æ·±åº¦å¤§äº <span class="math inline">\(y\)</span> çš„è¾¹ã€‚</p>
<p>ç„¶åï¼Œè®¾è¿™äº›ç‚¹æ„æˆçš„ç‚¹é›†ä¸º <span class="math inline">\(K(y)\)</span>ï¼Œåˆ™è€ƒè™‘ä» <span class="math inline">\(1\)</span> è¿å“ªä¸ª <span class="math inline">\(v\)</span> èƒ½å¤Ÿä½¿å¾—æœ€å¤§çš„è·ç¦»å°½é‡å°ã€‚å‘ç°è¿ <span class="math inline">\(K(y)\)</span> çš„ç›´å¾„ä¸­ç‚¹æ˜¯æœ€ä¼˜çš„ï¼Œå› ä¸ºéœ€è¦æ»¡è¶³ <span class="math inline">\(x + \operatorname{dis}(v, u)\le y\)</span>ã€‚è€Œ <span class="math inline">\(\operatorname{dis}(v, u)\)</span> çš„æœ€å¤§å€¼åœ¨å½“ <span class="math inline">\(v\)</span> ä¸ºç›´å¾„ä¸­ç‚¹æ—¶å–åˆ°æœ€å°ï¼Œä¸º <span class="math inline">\(\lceil \mathrm{diameter} / 2 \rceil\)</span>ï¼Œä¸å¦¨è®¾å…¶ä¸º <span class="math inline">\(f(y)\)</span>ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ª <span class="math inline">\(O(n)\)</span> çš„æ ‘å½¢ dp æ¥æ±‚å‡ºæ‰€æœ‰çš„ <span class="math inline">\(f(y)\)</span>ï¼Œç„¶åç”±äº <span class="math inline">\(f(y)\)</span> éš <span class="math inline">\(y\)</span> çš„å¢å¤§è€Œå•è°ƒä¸å¢ï¼Œæ‰€ä»¥å¯ä»¥åŒæŒ‡é’ˆ <span class="math inline">\(O(n)\)</span> æ±‚å‡ºç­”æ¡ˆã€‚</p>
<p>DP çš„æµç¨‹å¦‚ä¸‹ï¼šå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ·±åº¦æœ€å¤§çš„å„¿å­ï¼ˆå³é•¿é“¾ï¼‰ï¼Œè®¾ä¸¤ä¸ªé“¾åº•çš„æ·±åº¦åˆ†åˆ«ä¸º <span class="math inline">\(a\)</span> å’Œ <span class="math inline">\(b\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(a\ge b\)</span>ï¼Œåˆ™ <span class="math inline">\(f(b - 1)\)</span> å°±å¯ä»¥ç”¨ <span class="math inline">\(a + b - 2d_u\)</span> æ¥æ›´æ–°äº†ï¼Œä»£ç ä¸­å†™çš„ä¸å¤ªä¸€æ ·ã€‚ç„¶åå†å¯¹æ‰€æœ‰çš„ <span class="math inline">\(f\)</span> æ¥ä¸€ä¸ªåç¼€æœ€å¤§å€¼å°±å¯ä»¥äº†ã€‚</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb29-1"><a aria-hidden="true" href="#cb29-1"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">3e5</span> + <span class="dv">5</span>;</span>
<span id="cb29-2"><a aria-hidden="true" href="#cb29-2"></a>vector&lt;<span class="dt">int</span>&gt; G[maxn];</span>
<span id="cb29-3"><a aria-hidden="true" href="#cb29-3"></a><span class="dt">int</span> n, f[maxn];</span>
<span id="cb29-4"><a aria-hidden="true" href="#cb29-4"></a></span>
<span id="cb29-5"><a aria-hidden="true" href="#cb29-5"></a><span class="dt">int</span> dfs(<span class="dt">int</span> u, <span class="dt">int</span> fa, <span class="dt">int</span> d) {</span>
<span id="cb29-6"><a aria-hidden="true" href="#cb29-6"></a>    <span class="dt">int</span> a = <span class="dv">0</span>, b = <span class="dv">0</span>;</span>
<span id="cb29-7"><a aria-hidden="true" href="#cb29-7"></a>    <span class="cf">for</span> (<span class="kw">auto</span> v : G[u]) {</span>
<span id="cb29-8"><a aria-hidden="true" href="#cb29-8"></a>        <span class="cf">if</span> (v == fa) <span class="cf">continue</span>;</span>
<span id="cb29-9"><a aria-hidden="true" href="#cb29-9"></a>        <span class="dt">int</span> c = dfs(v, u, d + <span class="dv">1</span>) + <span class="dv">1</span>;</span>
<span id="cb29-10"><a aria-hidden="true" href="#cb29-10"></a>        <span class="cf">if</span> (c &gt; a) b = a, a = c;</span>
<span id="cb29-11"><a aria-hidden="true" href="#cb29-11"></a>        <span class="cf">else</span> chkmax(b, c);</span>
<span id="cb29-12"><a aria-hidden="true" href="#cb29-12"></a>    }</span>
<span id="cb29-13"><a aria-hidden="true" href="#cb29-13"></a>    <span class="cf">if</span> (b + d) chkmax(f[b + d - <span class="dv">1</span>], (a + b + <span class="dv">1</span>) &gt;&gt; <span class="dv">1</span>);</span>
<span id="cb29-14"><a aria-hidden="true" href="#cb29-14"></a>    <span class="cf">return</span> a;</span>
<span id="cb29-15"><a aria-hidden="true" href="#cb29-15"></a>}</span>
<span id="cb29-16"><a aria-hidden="true" href="#cb29-16"></a></span>
<span id="cb29-17"><a aria-hidden="true" href="#cb29-17"></a><span class="dt">int</span> main() {</span>
<span id="cb29-18"><a aria-hidden="true" href="#cb29-18"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb29-19"><a aria-hidden="true" href="#cb29-19"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb29-20"><a aria-hidden="true" href="#cb29-20"></a>        read(n);</span>
<span id="cb29-21"><a aria-hidden="true" href="#cb29-21"></a>        FOR(i, <span class="dv">1</span>, n) vector&lt;<span class="dt">int</span>&gt;().swap(G[i]), f[i] = <span class="dv">0</span>;</span>
<span id="cb29-22"><a aria-hidden="true" href="#cb29-22"></a>        FOR(i, <span class="dv">1</span>, n - <span class="dv">1</span>) {</span>
<span id="cb29-23"><a aria-hidden="true" href="#cb29-23"></a>            <span class="dt">int</span> u, v; read(u, v);</span>
<span id="cb29-24"><a aria-hidden="true" href="#cb29-24"></a>            G[u].push_back(v), G[v].push_back(u);</span>
<span id="cb29-25"><a aria-hidden="true" href="#cb29-25"></a>        }</span>
<span id="cb29-26"><a aria-hidden="true" href="#cb29-26"></a>        <span class="dt">int</span> lim = dfs(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);</span>
<span id="cb29-27"><a aria-hidden="true" href="#cb29-27"></a>        DEC(i, n - <span class="dv">2</span>, <span class="dv">0</span>) chkmax(f[i], f[i + <span class="dv">1</span>]);</span>
<span id="cb29-28"><a aria-hidden="true" href="#cb29-28"></a>        <span class="dt">int</span> ans = <span class="dv">1</span>;</span>
<span id="cb29-29"><a aria-hidden="true" href="#cb29-29"></a>        FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb29-30"><a aria-hidden="true" href="#cb29-30"></a>            <span class="cf">while</span> (i + f[ans] &gt; ans) ++ans;</span>
<span id="cb29-31"><a aria-hidden="true" href="#cb29-31"></a>            print(min(ans, lim), <span class="st">" </span><span class="sc">\n</span><span class="st">"</span>[i == n]);</span>
<span id="cb29-32"><a aria-hidden="true" href="#cb29-32"></a>        }</span>
<span id="cb29-33"><a aria-hidden="true" href="#cb29-33"></a>    }</span>
<span id="cb29-34"><a aria-hidden="true" href="#cb29-34"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb29-35"><a aria-hidden="true" href="#cb29-35"></a>}</span></code></pre></div>
<h2 id="educational-codeforces-round-122-rated-for-div.-2">Educational Codeforces Round 122 (Rated for Div. 2)</h2>
<p>VP on 22/07/15ã€‚</p>
<h3 id="e---spanning-tree-queries">1633E - Spanning Tree Queries</h3>
<p>VP æ—¶æƒ³åˆ°æ­£è§£äº†ï¼Œä½†æ˜¯æ²¡å†™å‡ºæ¥ã€‚è¯´å‡ ä¸ªç»†èŠ‚ï¼š</p>
<ul>
<li>åˆ†ç•Œç‚¹ä¸º <span class="math inline">\(\dfrac{w_i+w_j}{2}\)</span>ï¼Œé¿å…å°æ•°ç‚¹å‡ºé—®é¢˜ï¼Œè€ƒè™‘ç›´æ¥ <span class="math inline">\(w_i\leftarrow 2w_i\)</span>ã€‚</li>
<li>ä¸ºäº†ä¿è¯é€‰çš„å°½å¯èƒ½å¤šå‡å‡½æ•°é˜²æ­¢å‡ºé”…ï¼ŒKruskal ç»™è¾¹æ’åºçš„æ—¶å€™ç¬¬äºŒå…³é”®å­—æ˜¯åŸè¾¹æƒé™åºã€‚</li>
<li>æœ€åä½¿ç”¨ <code>upper_bound</code> æŸ¥æ‰¾å¯¹åº”çš„åˆ†ç•Œç‚¹ã€‚</li>
<li>åŒæ—¶ <span class="math inline">\(w_i\)</span> ä½œä¸ºè½¬æŠ˜ç‚¹æœ¬èº«ä¹Ÿè¦åŠ è¿›å»ï¼Œæ‰€æœ‰åˆ†ç•Œç‚¹è¦å»é‡ã€‚</li>
</ul>
<h3 id="f---perfect-matching">1633F - Perfect Matching</h3>
<p>é¢˜æ„ï¼šäº¤äº’é¢˜ï¼Œåˆå§‹æ ¹ä¸º <span class="math inline">\(1\)</span>ï¼ŒåŠ¨æ€æ·»åŠ å¶å­ï¼Œé—®æœ‰æ— å®Œç¾åŒ¹é…ï¼Œä¸è¶…è¿‡ <span class="math inline">\(10\)</span> æ¬¡è¦æ±‚æ„é€ ã€‚</p>
<p>é¦–å…ˆæ ‘ä¸å˜çš„è¯ï¼ŒåŒ¹é…ä¸€å®šæ˜¯ä»å¶å­å¼€å§‹åŒ¹é…çš„ï¼Œç„¶åéš”ä¸€æ¡é€‰ä¸€æ¡ã€‚é‚£ä¹ˆç»´æŠ¤ <span class="math inline">\(f_u\)</span> è¡¨ç¤º <span class="math inline">\(u\)</span> è¿æ¥å…¶çˆ¶äº²çš„è¾¹æœ‰æ²¡æœ‰è¢«é€‰ï¼Œä½¿ç”¨æ ‘å‰– + çº¿æ®µæ ‘ç»´æŠ¤ï¼Œæä¸€ä¸ªå–å + åŒºé—´å’Œå³å¯ï¼Œæœ€åçœ‹ä¸‹è¾¹çš„æ•°é‡æ˜¯ä¸æ˜¯ç‚¹æ•° <span class="math inline">\(/2\)</span>ã€‚</p>
<p>è€Œè¿™ä¸ªé¢˜åŠ¨æ€æ·»åŠ å¶å­ï¼Œæ‰€ä»¥ç›´æ¥åšå°±è¡Œäº†ã€‚</p>
<h2 id="codeforces-global-round-19">Codeforces Global Round 19</h2>
<h3 id="d---yet-another-minimization-problem">1637D - Yet Another Minimization Problem</h3>
<p>å€¼åŸŸå¾ˆå°ï¼Œæ‹†åˆ†è´¡çŒ®ä¹‹åå‘ç°å¯ä»¥å®šä¹‰ <span class="math inline">\(f_{i, s_1}\)</span>ï¼Œç„¶åå°±å¯ä»¥ <span class="math inline">\(O(n^3)\)</span> dp äº†ã€‚</p>
<h3 id="e---best-pair">1637E - Best Pair</h3>
<p>é¦–å…ˆè¿™é¢˜æœ‰ä¸€ä¸ªéå¸¸å…³é”®çš„æ€§è´¨å°±æ˜¯ï¼Œ<strong>ä¸åŒçš„ <span class="math inline">\(cnt_i\)</span> åªæœ‰ <span class="math inline">\(O(\sqrt n)\)</span> ç§</strong>ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬æšä¸¾ <span class="math inline">\(cnt_x\)</span> å’Œ <span class="math inline">\(cnt_y\le cnt_x\)</span>ï¼Œè¿™æ ·å­å¤æ‚åº¦å°±æ˜¯ <span class="math inline">\(O(n)\)</span> çš„ï¼Œä»å¤§åˆ°å°æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸å’Œ <span class="math inline">\(a_i\)</span> å½¢æˆ bad pair çš„ <span class="math inline">\(j\)</span>ï¼ˆå¯ä»¥ç”¨ <code>set</code> ç»´æŠ¤ï¼Œ<span class="math inline">\(O(\log n)\)</span>ï¼‰ï¼Œè¿™æ ·çš„å¤æ‚åº¦æ˜¯ <span class="math inline">\(O(n\log n)\)</span> çš„ã€‚</p>
<h3 id="f---towers">1637F - Towers</h3>
<p>ç»™å®š <span class="math inline">\(n\)</span> ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œç¬¬ <span class="math inline">\(i\)</span> ä¸ªç‚¹çš„é«˜åº¦ä¸º <span class="math inline">\(h_i\)</span>ã€‚å¯ä»¥åœ¨ <span class="math inline">\(n\)</span> ä¸ªç‚¹ä¸Šå»ºä»»æ„å¤šä¸ªå¡”ï¼Œå¯¹äºæ¯ä¸ªå¡”å¯ä»¥æŒ‡å®šå…¶èƒ½é‡ <span class="math inline">\(e\)</span> å’Œå…¶æ‰€åœ¨ç‚¹çš„ç¼–å·ã€‚å»ºç«‹èƒ½é‡ä¸º <span class="math inline">\(e\)</span> çš„å¡”æ¶ˆè€— <span class="math inline">\(e\)</span> æšé‡‘å¸ã€‚</p>
<p>ä¸€ä¸ªç‚¹ <span class="math inline">\(x\)</span> æ¥æ”¶åˆ°ä¿¡å·å½“ä¸”ä»…å½“å­˜åœ¨ä¿¡å·å¡”åœ¨ç‚¹ <span class="math inline">\(u\)</span> å’Œç‚¹ <span class="math inline">\(v\)</span>ï¼ˆå…è®¸ <span class="math inline">\(x = u\)</span> æˆ– <span class="math inline">\(x = v\)</span>ï¼Œä½†æ˜¯ <span class="math inline">\(u\ne v\)</span>ï¼‰ï¼Œæ»¡è¶³ <span class="math inline">\(\min(e_u, e_v)\ge h_x\)</span> ä¸” <span class="math inline">\(x\)</span> åœ¨é“¾ <span class="math inline">\((u, v)\)</span> ä¸Šã€‚</p>
<p>æ±‚ä¸€ä¸ªè®©æ‰€æœ‰ç‚¹æ¥æ”¶åˆ°ä¿¡å·çš„æœ€å°ä»£ä»·ã€‚<span class="math inline">\(2\le n\le 10^5\)</span>ï¼Œ<span class="math inline">\(1\le h_i\le 10^9\)</span>ã€‚</p>
<p>æ¯”è¾ƒç‰›é€¼çš„è´ªå¿ƒã€‚ç»è¿‡è§‚å¯Ÿå¯çŸ¥åªæœ‰å¶å­èŠ‚ç‚¹æ”¾ä¿¡å·å¡”æ˜¯æœ€ä¼˜çš„ï¼Œå¦åˆ™ä¸€å®šå¯ä»¥è°ƒæ•´åˆ°åªæ”¾å¶å­èŠ‚ç‚¹ã€‚</p>
<p>ç„¶åï¼Œä¸å¦¨ä»¤ <span class="math inline">\(h\)</span> å€¼æœ€å¤§çš„ä¸ºæ ¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©ä¸¤ä¸ªå¶å­ <span class="math inline">\(x, y\)</span> æ”¾ä¸Š <span class="math inline">\(h_{\max}\)</span> çš„å¡”ï¼Œç„¶å <span class="math inline">\(x, y\)</span> é“¾ä¸Šæ‰€æœ‰çš„ç‚¹éƒ½ä¼šè¢«è¦†ç›–æ‰ã€‚äºæ˜¯ï¼Œå‰©ä¸‹çš„æ‰€æœ‰ç‚¹éƒ½åªéœ€è¦æœ‰æŸä¸ªå­æ ‘çš„ä¿¡å·å¡”å¤§äºç­‰äº <span class="math inline">\(h_u\)</span> å³å¯ã€‚</p>
<p>è€ƒè™‘è´ªå¿ƒï¼Œä»¤ <span class="math inline">\(f_u\)</span> ä¸º <span class="math inline">\(u\)</span> å­æ ‘å†… <span class="math inline">\(h\)</span> çš„æœ€å¤§å€¼ï¼Œç„¶åå¯¹äºå¶å­èŠ‚ç‚¹ï¼Œç­”æ¡ˆåŠ ä¸Š <span class="math inline">\(h_u\)</span>ï¼Œå¯¹äºéå¶å­èŠ‚ç‚¹ï¼Œè‹¥å…¶ä¸æ˜¯æ ¹ï¼Œç­”æ¡ˆåŠ ä¸Š <span class="math inline">\(\max(0, h_u - \max_{v\in son(u)} f_v)\)</span>ï¼Œè‹¥å…¶æ˜¯æ ¹ï¼Œç­”æ¡ˆåŠ ä¸Š <span class="math inline">\(2h_u\)</span> å‡å»å­æ ‘å†…æœ€å¤§çš„ä¸¤ä¸ª <span class="math inline">\(h\)</span> å€¼ã€‚<span class="math inline">\(O(n)\)</span>ï¼Œå¾ˆä¼˜ç§€ã€‚</p>
<h2 id="codeforces-round-771-div.-2">Codeforces Round #771 (Div. 2)</h2>
<h3 id="d---big-brush">1638D - Big Brush</h3>
<p>ç»™å®šä¸€ä¸ªæŸ“äº†è‰²çš„ç½‘æ ¼ï¼Œè¦æ±‚æ„é€ æ–¹æ¡ˆä»ç©ºç™½æŸ“æˆè¿™æ ·ã€‚</p>
<p>ä¸€æ¬¡å¯ä»¥æ¶‚ä¸€ä¸ª <span class="math inline">\(2\times 2\)</span>ï¼Œå¯ä»¥è¦†ç›–ï¼Œ<span class="math inline">\(n,m\le 1000\)</span>ã€‚</p>
<p>è€ƒè™‘æ—¶å…‰å€’æµï¼Œåˆ«äººæ¶‚è‰²æˆ‘ä»¬åˆ®åˆ®ä¹ã€‚æˆ‘ä»¬å¯ä»¥ä»è‹¥å¹²ä¸ª <span class="math inline">\(2\times 2\)</span> ä¸ºèµ·ç‚¹æ¥è¿›è¡Œæ“ä½œï¼Œæ²¡æœ‰ <span class="math inline">\(2\times 2\)</span> å°±è¯´æ˜æ— è§£ã€‚ç„¶åå°± bfs å³å¯ã€‚</p>
<h3 id="e---colorful-operations">1638E - Colorful Operations</h3>
<p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„åºåˆ—ï¼Œåˆå§‹æ—¶æ‰€æœ‰å…ƒç´ çš„å€¼ä¸º <span class="math inline">\(0\)</span> ï¼Œé¢œè‰²ä¸º <span class="math inline">\(1\)</span>ã€‚ä½ éœ€è¦å®ç°ä»¥ä¸‹ä¸‰ç§æ“ä½œï¼š</p>
<ul>
<li><code>Color l r c</code> ï¼šæŠŠ <span class="math inline">\([l,r]\)</span> è¿™æ®µçš„å…ƒç´ é¢œè‰²æ”¹ä¸º <span class="math inline">\(c\)</span>ï¼›</li>
<li><code>Add c x</code>ï¼šæŠŠæ‰€æœ‰é¢œè‰²ä¸º <span class="math inline">\(c\)</span> çš„å…ƒç´ å€¼éƒ½åŠ ä¸Š <span class="math inline">\(x\)</span>ï¼›</li>
<li><code>Query i</code>ï¼šè¾“å‡ºå…ƒç´  <span class="math inline">\(i\)</span> çš„å€¼ã€‚</li>
</ul>
<p><span class="math inline">\(n,q\le 10^6\)</span>ã€‚</p>
<p>é¢œè‰²æ®µå‡æ‘Šå‚»é€¼é¢˜ï¼ŒæŠ€ä¸å¦‚äººç”˜æ‹œä¸‹é£ã€‚</p>
<p>è€ƒè™‘å¯¹äºä¿®æ”¹åŒç§é¢œè‰²çš„æ“ä½œï¼Œå¯¹å…¶ç»´æŠ¤ä¸€ä¸ªå…¨å±€åŠ æ ‡è®°ã€‚å¹¶ç”¨ä¸€ä¸ªçº¿æ®µæ ‘ç»´æŠ¤ä¸€ä¸‹æ‰€æœ‰çš„å…ƒç´ çš„å€¼ï¼Œè¾“å‡ºçš„æ—¶å€™å°±è¾“å‡ºå•ç‚¹ä¿®æ”¹ + tag å€¼ã€‚</p>
<p>ç„¶åï¼Œä¿®æ”¹é¢œè‰²çš„æ“ä½œå°±ç¡¬é€’å½’ï¼Œæ‰¾åˆ°ä¸€æ®µç›¸åŒé¢œè‰²çš„æ®µä¹‹ååŠ ä¸ŠåŸæ¥çš„ tag å†å‡å»æ–°çš„ tagã€‚ç”±äºä¸€æ¬¡æŸ“è‰²æ“ä½œæœ€å¤šæ·»åŠ ä¸€æ¬¡è¿ç»­æ®µï¼Œæ‰€ä»¥ä¸€æ¬¡æ“ä½œå‡æ‘Šå¤æ‚åº¦ä¸º <span class="math inline">\(O(\log n)\)</span>ã€‚</p>
<p>æ€» <span class="math inline">\(O((n + q)\log n)\)</span>ï¼Œéšä¾¿ç»´æŠ¤ä¸€ä¸‹å°±è¡Œäº†ã€‚</p>
<h2 id="codeforces-round-772-div.-2">Codeforces Round #772 (Div. 2)</h2>
<p>æ‰“å‡ºäº†æœ‰å²ä»¥æ¥æœ€é«˜çš„ perfï¼ŒA + B + C + D + Eã€‚</p>
<h3 id="f---closest-pair">1635F - Closest Pair</h3>
<p><span class="math inline">\(n\)</span> ä¸ªäºŒå…ƒç»„ <span class="math inline">\((x_i, w_i)\)</span>ï¼Œ<span class="math inline">\(|x_i|,w_i\le 10^9\)</span>ï¼Œ<span class="math inline">\(n\le 3\times 10^5\)</span>ï¼Œ<span class="math inline">\(x_i\)</span> å‡åºã€‚<span class="math inline">\(q\le 3\times 10^5\)</span> æ¬¡è¯¢é—®ï¼Œç»™å‡º <span class="math inline">\([l,r]\)</span>ï¼Œæ±‚ <span class="math display">\[
\min_{l\le i&lt;j\le r}|x_i - x_j|(w_i + w_j)
\]</span> ä¸€çœ¼æ•°æ®ç»“æ„é¢˜ï¼Œé™æ€è¯¢é—®è€ƒè™‘ç¦»çº¿ã€‚</p>
<p>è€ƒè™‘å“ªäº› <span class="math inline">\((i,j)\)</span> æ˜¯ä¸ä¼˜çš„ã€‚</p>
<ul>
<li>è‹¥å­˜åœ¨ <span class="math inline">\(p\)</span> å’Œ <span class="math inline">\(q\)</span>ï¼Œä½¿å¾— <span class="math inline">\(x_p &lt; x_q\land w_p &gt; w_q\)</span>ï¼Œåˆ™ <span class="math inline">\(q\)</span> ä½œä¸º <span class="math inline">\(i\)</span> ä¸€å®šæ¯” <span class="math inline">\(p\)</span> ä¼˜ã€‚</li>
<li>è‹¥å­˜åœ¨ <span class="math inline">\(p\)</span> å’Œ <span class="math inline">\(q\)</span>ï¼Œä½¿å¾— <span class="math inline">\(x_p &lt; x_q\land w_p&lt;w_q\)</span>ï¼Œåˆ™ <span class="math inline">\(p\)</span> ä½œä¸º <span class="math inline">\(j\)</span> ä¸€å®šæ¯” <span class="math inline">\(q\)</span> ä¼˜ã€‚</li>
</ul>
<p>äºæ˜¯ï¼Œä»¤ <span class="math inline">\(L_i = \max\{j:j&lt;i\land w_j\le w_i\}\)</span>ï¼Œ<span class="math inline">\(R_i = \min\{j:j&gt;i\land w_j\le w_i\}\)</span>ï¼Œç­”æ¡ˆå°±åªèƒ½å–å½¢å¦‚ <span class="math inline">\([i, R_i]\)</span> æˆ– <span class="math inline">\([L_i, i]\)</span> çš„åŒºé—´ã€‚è¿™æ ·çš„åŒºé—´ä¸€å…±æœ‰ <span class="math inline">\(2n\)</span> ä¸ªã€‚</p>
<p>å…ˆç”¨å•è°ƒæ ˆæ±‚å‡ºæ‰€æœ‰çš„ <span class="math inline">\(L_i\)</span> å’Œ <span class="math inline">\(R_i\)</span>ï¼Œå†è®¡ç®—å‡ºè¿™ <span class="math inline">\(2n\)</span> ä¸ªåŒºé—´ <span class="math inline">\([l_i, r_i]\)</span> çš„ä»·å€¼ <span class="math inline">\(c_i\)</span>ï¼Œåœ¨æ¯ä¸ª <span class="math inline">\(r_i\)</span> ä¸ŠæŒ‚ä¸Šæ ‡è®° <span class="math inline">\((l_i, c_i)\)</span>ï¼Œåœ¨æ¯ä¸ªè¯¢é—® <span class="math inline">\((i, ql, qr)\)</span> çš„ <span class="math inline">\(qr\)</span> ä¸ŠæŒ‚ä¸Šæ ‡è®° <span class="math inline">\((ql, i)\)</span>ã€‚ç„¶åæ‰«æçº¿æ‰«å³ç«¯ç‚¹ï¼Œçº¿æ®µæ ‘æˆ–è€…æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ä¸€ä¸‹ RMQ å’Œå•ç‚¹ä¿®æ”¹ï¼Œè¿™é¢˜å°±åšå®Œäº†ã€‚</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb30-1"><a aria-hidden="true" href="#cb30-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb30-2"><a aria-hidden="true" href="#cb30-2"></a><span class="kw">using</span> pll = pair&lt;ll, ll&gt;;</span>
<span id="cb30-3"><a aria-hidden="true" href="#cb30-3"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">3e5</span> + <span class="dv">5</span>;</span>
<span id="cb30-4"><a aria-hidden="true" href="#cb30-4"></a><span class="dt">int</span> n, m, L[maxn], R[maxn], stk[maxn], top;</span>
<span id="cb30-5"><a aria-hidden="true" href="#cb30-5"></a>ll t[maxn &lt;&lt; <span class="dv">2</span>], ans[maxn];</span>
<span id="cb30-6"><a aria-hidden="true" href="#cb30-6"></a>pll a[maxn];</span>
<span id="cb30-7"><a aria-hidden="true" href="#cb30-7"></a>vector&lt;pll&gt; op[maxn], q[maxn];</span>
<span id="cb30-8"><a aria-hidden="true" href="#cb30-8"></a></span>
<span id="cb30-9"><a aria-hidden="true" href="#cb30-9"></a>il ll calc(<span class="dt">int</span> i, <span class="dt">int</span> j) {<span class="cf">return</span> myabs(a[i].first - a[j].first) * (a[i].second + a[j].second);}</span>
<span id="cb30-10"><a aria-hidden="true" href="#cb30-10"></a></span>
<span id="cb30-11"><a aria-hidden="true" href="#cb30-11"></a><span class="pp">#define L </span>(k<span class="pp"> </span>&lt;&lt;<span class="pp"> </span><span class="dv">1</span>)</span>
<span id="cb30-12"><a aria-hidden="true" href="#cb30-12"></a><span class="pp">#define R </span>(L<span class="pp"> </span>|<span class="pp"> </span><span class="dv">1</span>)</span>
<span id="cb30-13"><a aria-hidden="true" href="#cb30-13"></a><span class="pp">#define M </span>((i<span class="pp"> </span>+<span class="pp"> </span>j)<span class="pp"> </span>&gt;&gt;<span class="pp"> </span><span class="dv">1</span>)</span>
<span id="cb30-14"><a aria-hidden="true" href="#cb30-14"></a></span>
<span id="cb30-15"><a aria-hidden="true" href="#cb30-15"></a><span class="dt">void</span> modify(<span class="dt">int</span> i, <span class="dt">int</span> j, <span class="dt">int</span> k, <span class="dt">int</span> x, ll v) {</span>
<span id="cb30-16"><a aria-hidden="true" href="#cb30-16"></a>    <span class="cf">if</span> (i == j) {</span>
<span id="cb30-17"><a aria-hidden="true" href="#cb30-17"></a>        chkmin(t[k], v);</span>
<span id="cb30-18"><a aria-hidden="true" href="#cb30-18"></a>        <span class="cf">return</span>;</span>
<span id="cb30-19"><a aria-hidden="true" href="#cb30-19"></a>    }</span>
<span id="cb30-20"><a aria-hidden="true" href="#cb30-20"></a>    <span class="cf">if</span> (x &lt;= M) modify(i, M, L, x, v);</span>
<span id="cb30-21"><a aria-hidden="true" href="#cb30-21"></a>    <span class="cf">else</span> modify(M + <span class="dv">1</span>, j, R, x, v);</span>
<span id="cb30-22"><a aria-hidden="true" href="#cb30-22"></a>    t[k] = min(t[L], t[R]);</span>
<span id="cb30-23"><a aria-hidden="true" href="#cb30-23"></a>    <span class="cf">return</span>;</span>
<span id="cb30-24"><a aria-hidden="true" href="#cb30-24"></a>}</span>
<span id="cb30-25"><a aria-hidden="true" href="#cb30-25"></a></span>
<span id="cb30-26"><a aria-hidden="true" href="#cb30-26"></a>ll query(<span class="dt">int</span> i, <span class="dt">int</span> j, <span class="dt">int</span> k, <span class="dt">int</span> x, <span class="dt">int</span> y) {</span>
<span id="cb30-27"><a aria-hidden="true" href="#cb30-27"></a>    <span class="cf">if</span> (x &lt;= i &amp;&amp; y &gt;= j) <span class="cf">return</span> t[k];</span>
<span id="cb30-28"><a aria-hidden="true" href="#cb30-28"></a>    ll ret = <span class="fl">2e18</span>;</span>
<span id="cb30-29"><a aria-hidden="true" href="#cb30-29"></a>    <span class="cf">if</span> (x &lt;= M) chkmin(ret, query(i, M, L, x, y));</span>
<span id="cb30-30"><a aria-hidden="true" href="#cb30-30"></a>    <span class="cf">if</span> (y &gt; M) chkmin(ret, query(M + <span class="dv">1</span>, j, R, x, y));</span>
<span id="cb30-31"><a aria-hidden="true" href="#cb30-31"></a>    <span class="cf">return</span> ret;</span>
<span id="cb30-32"><a aria-hidden="true" href="#cb30-32"></a>}</span>
<span id="cb30-33"><a aria-hidden="true" href="#cb30-33"></a></span>
<span id="cb30-34"><a aria-hidden="true" href="#cb30-34"></a><span class="pp">#undef L</span></span>
<span id="cb30-35"><a aria-hidden="true" href="#cb30-35"></a><span class="pp">#undef R</span></span>
<span id="cb30-36"><a aria-hidden="true" href="#cb30-36"></a><span class="pp">#undef M</span></span>
<span id="cb30-37"><a aria-hidden="true" href="#cb30-37"></a></span>
<span id="cb30-38"><a aria-hidden="true" href="#cb30-38"></a><span class="dt">int</span> main() {</span>
<span id="cb30-39"><a aria-hidden="true" href="#cb30-39"></a>    read(n, m);</span>
<span id="cb30-40"><a aria-hidden="true" href="#cb30-40"></a>    FOR(i, <span class="dv">1</span>, n) read(a[i].first, a[i].second);</span>
<span id="cb30-41"><a aria-hidden="true" href="#cb30-41"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb30-42"><a aria-hidden="true" href="#cb30-42"></a>        <span class="dt">int</span> l, r; read(l, r);</span>
<span id="cb30-43"><a aria-hidden="true" href="#cb30-43"></a>        q[r].push_back({l, i});</span>
<span id="cb30-44"><a aria-hidden="true" href="#cb30-44"></a>    }</span>
<span id="cb30-45"><a aria-hidden="true" href="#cb30-45"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb30-46"><a aria-hidden="true" href="#cb30-46"></a>        <span class="cf">while</span> (top &gt; <span class="dv">0</span> &amp;&amp; a[stk[top]].second &gt; a[i].second) --top;</span>
<span id="cb30-47"><a aria-hidden="true" href="#cb30-47"></a>        L[i] = stk[top], stk[++top] = i;</span>
<span id="cb30-48"><a aria-hidden="true" href="#cb30-48"></a>    }</span>
<span id="cb30-49"><a aria-hidden="true" href="#cb30-49"></a>    top = <span class="dv">0</span>;</span>
<span id="cb30-50"><a aria-hidden="true" href="#cb30-50"></a>    DEC(i, n, <span class="dv">1</span>) {</span>
<span id="cb30-51"><a aria-hidden="true" href="#cb30-51"></a>        <span class="cf">while</span> (top &gt; <span class="dv">0</span> &amp;&amp; a[stk[top]].second &gt; a[i].second) --top;</span>
<span id="cb30-52"><a aria-hidden="true" href="#cb30-52"></a>        R[i] = stk[top], stk[++top] = i;</span>
<span id="cb30-53"><a aria-hidden="true" href="#cb30-53"></a>    }</span>
<span id="cb30-54"><a aria-hidden="true" href="#cb30-54"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb30-55"><a aria-hidden="true" href="#cb30-55"></a>        <span class="cf">if</span> (L[i]) op[i].push_back({L[i], calc(L[i], i)});</span>
<span id="cb30-56"><a aria-hidden="true" href="#cb30-56"></a>        <span class="cf">if</span> (R[i]) op[R[i]].push_back({i, calc(i, R[i])});</span>
<span id="cb30-57"><a aria-hidden="true" href="#cb30-57"></a>    }</span>
<span id="cb30-58"><a aria-hidden="true" href="#cb30-58"></a></span>
<span id="cb30-59"><a aria-hidden="true" href="#cb30-59"></a>    memset(t, <span class="bn">0x3f</span>, <span class="kw">sizeof</span> t);</span>
<span id="cb30-60"><a aria-hidden="true" href="#cb30-60"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb30-61"><a aria-hidden="true" href="#cb30-61"></a>        <span class="cf">for</span> (<span class="kw">auto</span> &amp;p : op[i]) modify(<span class="dv">1</span>, n, <span class="dv">1</span>, p.first, p.second);</span>
<span id="cb30-62"><a aria-hidden="true" href="#cb30-62"></a>        <span class="cf">for</span> (<span class="kw">auto</span> &amp;p : q[i]) ans[p.second] = query(<span class="dv">1</span>, n, <span class="dv">1</span>, p.first, i);</span>
<span id="cb30-63"><a aria-hidden="true" href="#cb30-63"></a>    }</span>
<span id="cb30-64"><a aria-hidden="true" href="#cb30-64"></a>    FOR(i, <span class="dv">1</span>, m) print(ans[i]);</span>
<span id="cb30-65"><a aria-hidden="true" href="#cb30-65"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb30-66"><a aria-hidden="true" href="#cb30-66"></a>}</span></code></pre></div>
<h2 id="educational-codeforces-round-123-rated-for-div.-2">Educational Codeforces Round 123 (Rated for Div. 2)</h2>
<p>ä¸‹å°åˆ†åœºã€‚</p>
<h2 id="codeforces-round-773-div.-1">Codeforces Round #773 (Div. 1)</h2>
<h3 id="b---repetitions-decoding">1641B - Repetitions Decoding</h3>
<p>å…¶å®è¿™é¢˜å‡ºçš„å¾ˆä¸é”™æ¥ç€ï¼Œä½†æ˜¯æ¯’ç˜¤æ˜¯çœŸçš„æ¯’ç˜¤ã€‚</p>
<p>ç»™å®šé•¿åº¦ä¸º <span class="math inline">\(n\)</span>ï¼ˆ<span class="math inline">\(1\le n\le 500\)</span>ï¼‰çš„æ­£æ•´æ•°åºåˆ— <span class="math inline">\(a\)</span>ï¼Œå¯ä»¥è¿›è¡Œå½¢å¦‚ <span class="math inline">\((x, c)\)</span> çš„æ“ä½œï¼šåœ¨ <span class="math inline">\(a_x\)</span> åé¢æ’å…¥<strong>ä¸¤ä¸ªè¿ç»­çš„</strong>æ­£æ•´æ•° <span class="math inline">\(c\)</span>ï¼ˆ<span class="math inline">\(x\in[0, \text{the length of }a]\)</span>ï¼‰ã€‚æ„é€ æ“ä½œæ–¹æ¡ˆä½¿å¾— <span class="math inline">\(a\)</span> æœ€åå¯ä»¥æ‹†åˆ†ä¸ºè‹¥å¹²ä¸ªè¿ç»­çš„å­æ®µï¼Œè¿™äº›å­æ®µæ»¡è¶³ï¼šé•¿åº¦ä¸º <span class="math inline">\(2k\)</span>ï¼Œ<span class="math inline">\(k\)</span> ä¸ºä»»æ„æ­£æ•´æ•°ï¼Œä¸” <span class="math inline">\(\forall i\in [1, k]\)</span> æœ‰ <span class="math inline">\(a_i = a_{i + k}\)</span>ã€‚</p>
<p>ä¿è¯ <span class="math inline">\(\sum n^2\le 2.5\times 10^5\)</span>ï¼Œæ“ä½œæ¬¡æ•°éœ€ <span class="math inline">\(\le 2n^2\)</span>ï¼Œè‹¥æ— è§£åˆ™æŠ¥å‘Šä¹‹ã€‚</p>
<p>é¦–å…ˆï¼Œæ³¨æ„åˆ°æ¯ç§æ•°å­—çš„å‡ºç°æ¬¡æ•°å¿…é¡»ä¸ºå¶æ•°æ¬¡ï¼Œå› ä¸ºæ·»åŠ æ•°å­—ä¸€å®šæ˜¯ç»™æŸç§æ•°å­—æ·»åŠ ä¸¤ä¸ªï¼Œè‹¥å­˜åœ¨å‡ºç°äº†å¥‡æ•°æ¬¡çš„æ•°å­—åˆ™æ— è®ºå¦‚ä½•éƒ½æ²¡åŠæ³•æ‰¾åˆ°ä¸ä¹‹é…å¯¹çš„æ•°ï¼Œæ‰€ä»¥æ— è§£ã€‚</p>
<p>ç„¶åå¯ä»¥æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ªå‰ç¼€åšç¿»è½¬æ“ä½œï¼Œå…·ä½“åœ°ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre class="plain"><code>1 2 3 1 3 2
1 2 3 - 1 2 3 3 2 1 - 1 3 2 // è¿™ä¸€æ­¥å¯ä»¥é€šè¿‡ 3 æ¬¡æ“ä½œå®ç°
(1 2 3 | 1 2 3) - 3 2 1 1 3 2 // å³æˆ‘ä»¬æ„é€ ä¸€ä¸ªå›æ–‡ä¸²ï¼Œç„¶åå°†å‰é¢çš„åˆå¹¶åˆ°ä¸€æ®µï¼Œå‰ç¼€å°±æˆåŠŸè¢«ç¿»è½¬äº†ã€‚</code></pre>
<p>è€Œé€šè¿‡è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¸¤ä¸ª <span class="math inline">\(1\)</span> æ”¾åœ¨ä¸€èµ·ï¼Œå†åè½¬ä¸€ä¸‹ï¼š</p>
<pre class="plain"><code>(1 2 3 | 1 2 3) - (3 2 1 1 | 3 2 1 1) - 1 1 2 3 - 3 2</code></pre>
<p>ç„¶åä¸¤ä¸ª <span class="math inline">\(1\)</span> å°±é¡ºç†æˆç« çš„åœ¨ä¸€èµ·äº†ï¼Œå¯ä»¥æ”¾åœ¨ä¸€æ®µæ¶ˆæ‰äº†ã€‚</p>
<pre class="plain"><code>(1 2 3 | 1 2 3) - (3 2 1 1 | 3 2 1 1) - (1 | 1) 2 3 3 2</code></pre>
<p>æ¥ä¸‹æ¥å°±è§£å†³ <code>2 3 3 2</code> å°±è¡Œäº†ï¼Œæ€è·¯æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>é€šè¿‡è¿™æ ·çš„æ“ä½œï¼Œæˆ‘ä»¬å°±èƒ½åœ¨ <span class="math inline">\(O(n^2)\)</span> çš„æ“ä½œæ¬¡æ•°ä¸‹ï¼Œå°†ä¸¤ä¸ªæ•°â€œä¸¤ä¸¤åˆå¹¶â€ï¼Œè§£å†³è¿™é“é¢˜ç›®ã€‚</p>
<p>è¾“å‡ºæ–¹æ¡ˆæ¯”è¾ƒæ¯’ç˜¤ï¼Œå¤§å®¶å†™çš„æ—¶å€™éœ€è¦æ³¨æ„ç»†èŠ‚ã€‚</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb34-1"><a aria-hidden="true" href="#cb34-1"></a><span class="kw">using</span> pii = pair&lt;<span class="dt">int</span>, <span class="dt">int</span>&gt;;</span>
<span id="cb34-2"><a aria-hidden="true" href="#cb34-2"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="dv">505</span>;</span>
<span id="cb34-3"><a aria-hidden="true" href="#cb34-3"></a><span class="dt">int</span> n, a[maxn], alreadyLen, now;</span>
<span id="cb34-4"><a aria-hidden="true" href="#cb34-4"></a>vector&lt;pii&gt; op;</span>
<span id="cb34-5"><a aria-hidden="true" href="#cb34-5"></a>vector&lt;<span class="dt">int</span>&gt; ans;</span>
<span id="cb34-6"><a aria-hidden="true" href="#cb34-6"></a>map&lt;<span class="dt">int</span>, <span class="dt">int</span>&gt; vis;</span>
<span id="cb34-7"><a aria-hidden="true" href="#cb34-7"></a></span>
<span id="cb34-8"><a aria-hidden="true" href="#cb34-8"></a><span class="dt">void</span> rev(<span class="dt">int</span> pos) {</span>
<span id="cb34-9"><a aria-hidden="true" href="#cb34-9"></a>    FOR(i, now + <span class="dv">1</span>, pos - <span class="dv">1</span>) op.push_back({i - now + alreadyLen + pos - <span class="dv">2</span>, a[i]});</span>
<span id="cb34-10"><a aria-hidden="true" href="#cb34-10"></a>    ans.push_back(<span class="dv">2</span> * (pos - now - <span class="dv">1</span>));</span>
<span id="cb34-11"><a aria-hidden="true" href="#cb34-11"></a>    alreadyLen += <span class="dv">2</span> * (pos - now - <span class="dv">1</span>);</span>
<span id="cb34-12"><a aria-hidden="true" href="#cb34-12"></a>    reverse(a + now + <span class="dv">1</span>, a + pos);</span>
<span id="cb34-13"><a aria-hidden="true" href="#cb34-13"></a>    <span class="cf">return</span>;</span>
<span id="cb34-14"><a aria-hidden="true" href="#cb34-14"></a>}</span>
<span id="cb34-15"><a aria-hidden="true" href="#cb34-15"></a></span>
<span id="cb34-16"><a aria-hidden="true" href="#cb34-16"></a><span class="dt">int</span> main() {</span>
<span id="cb34-17"><a aria-hidden="true" href="#cb34-17"></a>    <span class="dt">int</span> T; read(T);</span>
<span id="cb34-18"><a aria-hidden="true" href="#cb34-18"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb34-19"><a aria-hidden="true" href="#cb34-19"></a>        read(n);</span>
<span id="cb34-20"><a aria-hidden="true" href="#cb34-20"></a>        <span class="kw">decltype</span>(vis)().swap(vis);</span>
<span id="cb34-21"><a aria-hidden="true" href="#cb34-21"></a>        FOR(i, <span class="dv">1</span>, n) read(a[i]), ++vis[a[i]];</span>
<span id="cb34-22"><a aria-hidden="true" href="#cb34-22"></a>        <span class="dt">bool</span> flg = <span class="dv">1</span>;</span>
<span id="cb34-23"><a aria-hidden="true" href="#cb34-23"></a>        <span class="cf">for</span> (<span class="kw">auto</span> &amp;p : vis) <span class="cf">if</span> (p.second &amp; <span class="dv">1</span>) flg = <span class="dv">0</span>;</span>
<span id="cb34-24"><a aria-hidden="true" href="#cb34-24"></a>        <span class="cf">if</span> (!flg) {</span>
<span id="cb34-25"><a aria-hidden="true" href="#cb34-25"></a>            print(-<span class="dv">1</span>);</span>
<span id="cb34-26"><a aria-hidden="true" href="#cb34-26"></a>            <span class="cf">continue</span>;</span>
<span id="cb34-27"><a aria-hidden="true" href="#cb34-27"></a>        }</span>
<span id="cb34-28"><a aria-hidden="true" href="#cb34-28"></a>        <span class="kw">decltype</span>(op)().swap(op);</span>
<span id="cb34-29"><a aria-hidden="true" href="#cb34-29"></a>        <span class="kw">decltype</span>(ans)().swap(ans);</span>
<span id="cb34-30"><a aria-hidden="true" href="#cb34-30"></a>        alreadyLen = <span class="dv">0</span>, now = <span class="dv">0</span>;</span>
<span id="cb34-31"><a aria-hidden="true" href="#cb34-31"></a></span>
<span id="cb34-32"><a aria-hidden="true" href="#cb34-32"></a>        <span class="cf">while</span> (now &lt; n) {</span>
<span id="cb34-33"><a aria-hidden="true" href="#cb34-33"></a>            <span class="cf">if</span> (now == n - <span class="dv">2</span>) {</span>
<span id="cb34-34"><a aria-hidden="true" href="#cb34-34"></a>                ans.push_back(<span class="dv">2</span>);</span>
<span id="cb34-35"><a aria-hidden="true" href="#cb34-35"></a>                <span class="cf">break</span>;</span>
<span id="cb34-36"><a aria-hidden="true" href="#cb34-36"></a>            }</span>
<span id="cb34-37"><a aria-hidden="true" href="#cb34-37"></a>            <span class="dt">int</span> pos = <span class="dv">0</span>;</span>
<span id="cb34-38"><a aria-hidden="true" href="#cb34-38"></a>            FOR(i, now + <span class="dv">2</span>, n) <span class="cf">if</span> (a[i] == a[now + <span class="dv">1</span>]) {</span>
<span id="cb34-39"><a aria-hidden="true" href="#cb34-39"></a>                pos = i;</span>
<span id="cb34-40"><a aria-hidden="true" href="#cb34-40"></a>                <span class="cf">break</span>;</span>
<span id="cb34-41"><a aria-hidden="true" href="#cb34-41"></a>            }</span>
<span id="cb34-42"><a aria-hidden="true" href="#cb34-42"></a>            rev(pos), rev(pos + <span class="dv">1</span>);</span>
<span id="cb34-43"><a aria-hidden="true" href="#cb34-43"></a>            ans.push_back(<span class="dv">2</span>);</span>
<span id="cb34-44"><a aria-hidden="true" href="#cb34-44"></a>            now += <span class="dv">2</span>;</span>
<span id="cb34-45"><a aria-hidden="true" href="#cb34-45"></a>        }</span>
<span id="cb34-46"><a aria-hidden="true" href="#cb34-46"></a></span>
<span id="cb34-47"><a aria-hidden="true" href="#cb34-47"></a>        print(op.size());</span>
<span id="cb34-48"><a aria-hidden="true" href="#cb34-48"></a>        <span class="cf">for</span> (<span class="kw">auto</span> &amp;p : op) print(p.first, p.second);</span>
<span id="cb34-49"><a aria-hidden="true" href="#cb34-49"></a>        print(ans.size());</span>
<span id="cb34-50"><a aria-hidden="true" href="#cb34-50"></a>        <span class="cf">for</span> (<span class="kw">auto</span> x : ans) print(x, <span class="ch">' '</span>);</span>
<span id="cb34-51"><a aria-hidden="true" href="#cb34-51"></a>        putchar(<span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>);</span>
<span id="cb34-52"><a aria-hidden="true" href="#cb34-52"></a>    }</span>
<span id="cb34-53"><a aria-hidden="true" href="#cb34-53"></a>    <span class="cf">return</span> output(), <span class="dv">0</span>;</span>
<span id="cb34-54"><a aria-hidden="true" href="#cb34-54"></a>}</span></code></pre></div>
<h2 id="codeforces-round-781-div.-2">Codeforces Round #781 (Div. 2)</h2>
<p>rnmé€€é’±ã€‚</p>
<h3 id="c---tree-infection">1665C - Tree Infection</h3>
<p><del>è¯»é”™é¢˜å°±ä¸€ç›´æƒ³å‘—ï¼Œæƒ³å‘—ï¼Œå“ˆå“ˆã€‚</del></p>
<p>ç›´æ¥è½¬åŒ–æˆä¸€ä¸ªèŠ‚ç‚¹çš„å„¿å­ä¸ªæ•°çš„é—®é¢˜ã€‚æ˜¾ç„¶ä»å„¿å­æœ€å¤šçš„æŒ¨ä¸ªç‚¹ä¼ æŸ“ã€‚æ‰€ä»¥æ¨¡æ‹Ÿä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹å³å¯ã€‚</p>
<h3 id="d---gcd-guess">1665D - GCD Guess</h3>
<p>çŒœ <span class="math inline">\(1\le x\le 10^9\)</span>ï¼Œæœ€å¤š <span class="math inline">\(30\)</span> æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡å¯ä»¥æŸ¥è¯¢ <span class="math inline">\(\gcd(x + a, x + b)\)</span>ã€‚è¦æ±‚ <span class="math inline">\(a\ne b,1\le a,b\le 2\times 10^9\)</span>ã€‚</p>
<p>æ³¨æ„åˆ° <span class="math inline">\(30\)</span> æ¬¡è¯¢é—®éå¸¸çµæ€§ï¼Œç›¸å½“äºæ˜ç¤ºæˆ‘ä»¬è¦æŒ‰ä½è€ƒè™‘ã€‚å…·ä½“åœ°æˆ‘ä»¬å¯ä»¥æ€è€ƒ <span class="math inline">\(x\bmod 2^k\)</span> çš„å€¼ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬çŸ¥é“ <span class="math inline">\(x\bmod 2^0 = 0\)</span>ï¼Œè€ƒè™‘å¦‚ä½•ä» <span class="math inline">\(x\bmod 2^k\)</span> æ¨å¾— <span class="math inline">\(x\bmod 2^{k+1}\)</span>ã€‚å…¶ä¸­é—´çš„å·®å€¼è¦ä¹ˆæ˜¯ <span class="math inline">\(0\)</span> è¦ä¹ˆæ˜¯ <span class="math inline">\(2^k\)</span>ï¼Œé‚£ä¹ˆä¸å¦¨ä»¤ <span class="math inline">\(x \bmod 2^k = r\)</span>ï¼Œåˆ™æˆ‘ä»¬è¯¢é—® <span class="math inline">\(\gcd(x + 2^k - r, 2^{k + 1})\)</span>ï¼Œè‹¥ç»“æœä¸º <span class="math inline">\(2^{k + 1}\)</span> åˆ™ <span class="math inline">\(x\bmod 2^{k + 1} = r + 2^k\)</span>ã€‚</p>
<p>å…·ä½“åœ°è¯¢é—®å°±æ˜¯é—® <span class="math inline">\(\gcd(x + 2^k - r, x + 2^k + 2^{k+1}-r)\)</span>ï¼Œå¯ä»¥å‘ç°åˆšå¥½é—® <span class="math inline">\(30\)</span> æ¬¡ã€‚</p>
<h3 id="e---minimizor">1665E - MinimizOR</h3>
<p>é™æ€æŸ¥è¯¢åŒºé—´ <span class="math inline">\([l, r]\)</span> å†… <span class="math inline">\(\min_{i\ne j,l\le i,j\le r}\{a_i\lor a_j\}\)</span>ã€‚<span class="math inline">\(n\le 10^5\)</span>ï¼Œ<span class="math inline">\(0\le a_i&lt; 2^{30}\)</span></p>
<p>ç‰›é€¼ç»“è®ºé¢˜ã€‚ã€‚ç»“è®ºæ˜¯ <span class="math inline">\(&lt; 2^k\)</span> çš„æ•°å­—ä¸­çš„ç­”æ¡ˆåªå¯èƒ½ä»æœ€å°çš„ <span class="math inline">\(k + 1\)</span> ä¸ªæ•°å­—ä¸­äº§ç”Ÿã€‚äºæ˜¯çº¿æ®µæ ‘ç»´æŠ¤ä¸€ä¸‹åŒºé—´å†…æœ€å°çš„ <span class="math inline">\(31\)</span> ä¸ªæ•°å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(n\log^2n)\)</span>ã€‚</p>
<p>ä¸‹é¢ç”¨å½’çº³æ³•è¯æ˜ï¼š</p>
<ul>
<li><p>å½“ <span class="math inline">\(k = 1\)</span> æ—¶ï¼Œæ‰€æœ‰æ•°éƒ½ä¸º <span class="math inline">\(0\)</span>ï¼Œæ˜¾ç„¶æˆç«‹ã€‚</p></li>
<li><p>ä¸‹é¢è¯´æ˜ <span class="math inline">\(k\to k + 1\)</span>ï¼š</p>
<p>è‹¥ç¬¬ <span class="math inline">\(k\)</span> ä½çš„ <span class="math inline">\(0\)</span> çš„ä¸ªæ•° <span class="math inline">\(\le 1\)</span>ï¼Œåˆ™è¿™ä¸€ä½æœ€åæˆ–èµ·æ¥è‚¯å®šæ˜¯ <span class="math inline">\(1\)</span>ï¼Œé—®é¢˜å˜ä¸º <span class="math inline">\(&lt; 2^k\)</span> çš„æƒ…å†µï¼Œ<span class="math inline">\(k + 1\)</span> ä¸ªæ•°å­—å³å¯ï¼Œ<span class="math inline">\(k + 2\)</span> ä¸ªè‚¯å®šä¹Ÿå¯ä»¥ã€‚</p>
<p>å¦åˆ™ç¬¬ <span class="math inline">\(k\)</span> ä½æˆ‘ä»¬è´ªå¿ƒåœ°å¼ºåˆ¶å…¶ä¸º <span class="math inline">\(0\)</span>ï¼Œæ•…ç­”æ¡ˆåªä¸ç¬¬ <span class="math inline">\(k\)</span> ä½ä¸º <span class="math inline">\(0\)</span> çš„æ•°å­—æœ‰å…³ã€‚æ˜¾ç„¶ <span class="math inline">\(k + 2\)</span> ä¸ªä¹Ÿèƒ½æ»¡è¶³éœ€æ±‚ã€‚</p></li>
</ul>
<p>è¯æ¯•ã€‚</p>
<h2 id="educational-codeforces-round-126-rated-for-div.-2">Educational Codeforces Round 126 (Rated for Div. 2)</h2>
<h3 id="e---narrow-components">1661E - Narrow Components</h3>
<p><span class="math inline">\(3\times n\)</span> çš„ 0-1 çŸ©é˜µï¼Œ<span class="math inline">\(q\)</span> æ¬¡è¯¢é—® <span class="math inline">\([l_i, r_i]\)</span> åˆ—å†…çš„å››è¿é€šå—ä¸ªæ•°ã€‚<span class="math inline">\(n\le 5\times 10^5\)</span>ã€‚</p>
<p>è€ƒè™‘ç”¨çº¿æ®µæ ‘ç»´æŠ¤ã€‚åœ¨æ¯ä¸ªåŒºé—´å¯¹åº”çš„èŠ‚ç‚¹å†…ç»´æŠ¤å·¦ç«¯ç‚¹/å³ç«¯ç‚¹å¯¹åº”çš„å¹¶æŸ¥é›†ï¼Œç„¶åå¯¹åº”åˆå¹¶å³å¯ã€‚</p>
<p>æ³¨æ„ç»†èŠ‚ï¼Œåˆå¹¶çš„æ—¶å€™è¦å¼€ 12 ä¸ªèŠ‚ç‚¹åˆ†åˆ«å¯¹åº”å·¦åŒºé—´/å³åŒºé—´çš„å·¦å³ç«¯ç‚¹ã€‚è€Œä¸ºäº†é˜²æ­¢æœ‰è¿é€šå—ä»å·¦è¾¹è¿åˆ°å³è¾¹æ‰€ä»¥è€ƒè™‘ä»¤å…¶å¹¶æŸ¥é›†ç¼–å·ä¸º <span class="math inline">\(1\sim 6\)</span>ã€‚</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb35-1"><a aria-hidden="true" href="#cb35-1"></a><span class="kw">struct</span> Node {</span>
<span id="cb35-2"><a aria-hidden="true" href="#cb35-2"></a>    <span class="dt">int</span> l[<span class="dv">4</span>], r[<span class="dv">4</span>], lc[<span class="dv">4</span>], rc[<span class="dv">4</span>], sum;</span>
<span id="cb35-3"><a aria-hidden="true" href="#cb35-3"></a>    <span class="dt">void</span> init(<span class="dt">int</span> pos) {</span>
<span id="cb35-4"><a aria-hidden="true" href="#cb35-4"></a>        FOR(i, <span class="dv">1</span>, m) lc[i] = rc[i] = a[i][pos] - <span class="ch">'0'</span>, sum += lc[i], fa[i] = i;</span>
<span id="cb35-5"><a aria-hidden="true" href="#cb35-5"></a>        FOR(i, <span class="dv">1</span>, m - <span class="dv">1</span>) <span class="cf">if</span> (lc[i] == lc[i + <span class="dv">1</span>] &amp;&amp; lc[i]) sum -= merge(i, i + <span class="dv">1</span>);</span>
<span id="cb35-6"><a aria-hidden="true" href="#cb35-6"></a>        FOR(i, <span class="dv">1</span>, m) l[i] = r[i] = find(i);</span>
<span id="cb35-7"><a aria-hidden="true" href="#cb35-7"></a>    }</span>
<span id="cb35-8"><a aria-hidden="true" href="#cb35-8"></a>} t[maxn &lt;&lt; <span class="dv">2</span>], tmp;</span>
<span id="cb35-9"><a aria-hidden="true" href="#cb35-9"></a></span>
<span id="cb35-10"><a aria-hidden="true" href="#cb35-10"></a>Node merge(<span class="at">const</span> Node &amp;l, <span class="at">const</span> Node &amp;r) {</span>
<span id="cb35-11"><a aria-hidden="true" href="#cb35-11"></a>    tmp.sum = l.sum + r.sum;</span>
<span id="cb35-12"><a aria-hidden="true" href="#cb35-12"></a>    FOR(i, <span class="dv">1</span>, m) tmp.lc[i] = l.lc[i], tmp.rc[i] = r.rc[i];</span>
<span id="cb35-13"><a aria-hidden="true" href="#cb35-13"></a>    FOR(i, <span class="dv">1</span>, m) tmp.l[i] = tmp.r[i] = <span class="dv">0</span>;</span>
<span id="cb35-14"><a aria-hidden="true" href="#cb35-14"></a></span>
<span id="cb35-15"><a aria-hidden="true" href="#cb35-15"></a>    FOR(i, <span class="dv">1</span>, m * <span class="dv">4</span>) fa[i] = i;</span>
<span id="cb35-16"><a aria-hidden="true" href="#cb35-16"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb35-17"><a aria-hidden="true" href="#cb35-17"></a>        merge(i, l.l[i]), merge(i + m, l.r[i]);</span>
<span id="cb35-18"><a aria-hidden="true" href="#cb35-18"></a>        merge(i + <span class="dv">2</span> * m, r.l[i] + <span class="dv">2</span> * m), merge(i + <span class="dv">3</span> * m, r.r[i] + m * <span class="dv">2</span>);</span>
<span id="cb35-19"><a aria-hidden="true" href="#cb35-19"></a>    }</span>
<span id="cb35-20"><a aria-hidden="true" href="#cb35-20"></a>    FOR(i, <span class="dv">1</span>, m) <span class="cf">if</span> (l.rc[i] == r.lc[i] &amp;&amp; l.rc[i]) </span>
<span id="cb35-21"><a aria-hidden="true" href="#cb35-21"></a>        tmp.sum -= merge(i + m, i + m * <span class="dv">2</span>);</span>
<span id="cb35-22"><a aria-hidden="true" href="#cb35-22"></a>    memset(b, <span class="dv">0</span>, <span class="kw">sizeof</span> b);</span>
<span id="cb35-23"><a aria-hidden="true" href="#cb35-23"></a>    FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb35-24"><a aria-hidden="true" href="#cb35-24"></a>        <span class="cf">if</span> (!b[find(i)]) b[find(i)] = i;</span>
<span id="cb35-25"><a aria-hidden="true" href="#cb35-25"></a>        tmp.l[i] = b[find(i)];</span>
<span id="cb35-26"><a aria-hidden="true" href="#cb35-26"></a>    }</span>
<span id="cb35-27"><a aria-hidden="true" href="#cb35-27"></a>    FOR(i, m * <span class="dv">3</span> + <span class="dv">1</span>, m * <span class="dv">4</span>) {</span>
<span id="cb35-28"><a aria-hidden="true" href="#cb35-28"></a>        <span class="cf">if</span> (!b[find(i)]) b[find(i)] = i - <span class="dv">2</span> * m;</span>
<span id="cb35-29"><a aria-hidden="true" href="#cb35-29"></a>        tmp.r[i - m * <span class="dv">3</span>] = b[find(i)];</span>
<span id="cb35-30"><a aria-hidden="true" href="#cb35-30"></a>    }</span>
<span id="cb35-31"><a aria-hidden="true" href="#cb35-31"></a>    <span class="cf">return</span> tmp;</span>
<span id="cb35-32"><a aria-hidden="true" href="#cb35-32"></a>}</span></code></pre></div>
<h3 id="f---teleporters">1661F - Teleporters</h3>
<p>ä¸€æ¡ç›´çº¿ä¸Šæœ‰ <span class="math inline">\(n+1\)</span> ä¸ªä¼ é€æœºï¼Œä½äºç‚¹ <span class="math inline">\(0,a_1,a_2,a_3,...,a_n\)</span>ã€‚å¦‚æœåœ¨ <span class="math inline">\(x\)</span> ç‚¹å’Œ <span class="math inline">\(y\)</span> ç‚¹éƒ½æœ‰ä¼ é€æœºï¼Œé‚£ä¹ˆå¯ä»¥ä» <span class="math inline">\(x\)</span> ç‚¹ä¼ é€åˆ° <span class="math inline">\(y\)</span> ç‚¹ï¼Œèƒ½é‡å¼€é”€ä¸º <span class="math inline">\((x-y)^2\)</span>ã€‚ç°å¯ä»¥åœ¨æ•´ç‚¹å®‰è£…é¢å¤–çš„ä¼ é€æœºï¼Œè¦æ±‚ä½¿å¾—ä» <span class="math inline">\(0\)</span> ä¼ é€åˆ° <span class="math inline">\(a_n\)</span> çš„ä»£ä»· <span class="math inline">\(\le m\)</span>ã€‚é—®æœ€å°‘å®‰è£…å¤šå°‘é¢å¤–ä¼ é€æœºã€‚</p>
<p><span class="math inline">\(n\le 2\times 10^5\)</span>ï¼Œ<span class="math inline">\(1\le a_1&lt;a_2&lt;\cdots&lt;a_n\le 10^9\)</span>ï¼Œ<span class="math inline">\(a_n\le m\le 10^{18}\)</span>ã€‚</p>
<p>æ ¹æ®å‡å€¼ä¸ç­‰å¼ï¼Œåœ¨æœ€ä¼˜ç­–ç•¥ä¸‹ï¼Œæˆ‘ä»¬ä¸€å®šæ˜¯å°†ä¼ é€æœºå°½å¯èƒ½â€œå¹³å‡â€å®‰æ’ã€‚æ‰€ä»¥æ¯ä¸ª <span class="math inline">\(a\)</span> åˆ†çš„æ®µå¯ä»¥ç‹¬ç«‹è€ƒè™‘ã€‚</p>
<p>ä»¤ <span class="math inline">\(f(x, k)\)</span> è¡¨ç¤ºè€ƒè™‘é•¿åº¦ä¸º <span class="math inline">\(x\)</span> çš„ä¸€æ®µï¼Œæ”¾ <span class="math inline">\(k\)</span> ä¸ªä¼ é€æœºï¼Œèƒ½è¾¾åˆ°çš„æœ€å°ä»£ä»·ï¼Œåˆ™æˆ‘ä»¬åˆ’åˆ†å‡ºçš„ <span class="math inline">\(k + 1\)</span> æ®µçš„é•¿åº¦è‚¯å®šè¦ä¹ˆæ˜¯ <span class="math inline">\(\left\lfloor\dfrac{x}{k + 1}\right\rfloor\)</span>ï¼Œè¦ä¹ˆæ˜¯ <span class="math inline">\(\left\lceil\dfrac{x}{k + 1}\right\rceil\)</span>ã€‚å‰è€…æœ‰ <span class="math inline">\(k + 1 - x\bmod(k + 1)\)</span> æ®µï¼Œåè€…æœ‰ <span class="math inline">\(x\bmod(k + 1)\)</span> æ®µã€‚æ‰€ä»¥f <span class="math display">\[
f(x, k) = (x\bmod(k + 1))\cdot\left\lceil\frac{x}{k + 1}\right\rceil^2 +(k + 1 - x\bmod(k + 1))\cdot\left\lfloor\dfrac{x}{k + 1}\right\rfloor^2
\]</span> è€Œå¦‚æœä¸è€ƒè™‘æ•´ç‚¹é™åˆ¶çš„è¯ï¼Œè¿™ä¸ª <span class="math inline">\(f\)</span> æ˜¯å…³äº <span class="math inline">\(k\)</span> æœ‰å‡¸æ€§çš„ï¼Œå³æ¯ä¸€æ®µæ¯å¢åŠ ä¸€ä¸ªä¼ é€æœºï¼Œä»£ä»·çš„å‡å°‘é‡æ˜¯ä¸å¢çš„ã€‚</p>
<p>è€Œæ ¹æ®æˆ‘ä»¬çš„ç›´è§‰ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½ä¼šå¾€èƒ½å‡å°‘æœ€å¤šä»£ä»·çš„ä¸€æ®µåŠ ä¼ é€æœºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥äºŒåˆ†ä¸€ä¸ªæœ€å°çš„å‡å°‘é‡ <span class="math inline">\(d\)</span>ï¼Œå¯¹äºæ¯ä¸€æ®µï¼ŒäºŒåˆ†æ±‚å‡º <span class="math inline">\(f(x, k - 1) - f(x, k)\ge d\)</span> çš„æœ€å¤§çš„ <span class="math inline">\(x\)</span>ï¼Œå¹¶ä¸”åœ¨è¿™æ®µæ”¾ <span class="math inline">\(x\)</span> ä¸ªä¼ é€æœºã€‚è®¾è¿™æ ·å­çš„æ€»ä»£ä»·ä¸º <span class="math inline">\(g(d)\)</span>ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥äºŒåˆ†å‡ºä¸€ä¸ªåˆšå¥½ <span class="math inline">\(\le m\)</span> çš„æœ€å¤§çš„ <span class="math inline">\(d\)</span>ã€‚</p>
<p>ç„¶è€Œ <span class="math inline">\(d\)</span> æ˜¯ä¸ä¸€å®šè¦å…¨éƒ¨åŠ è¿›å»çš„ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬å¯ä»¥åœ¨ <span class="math inline">\(d + 1\)</span> çš„åŸºç¡€ä¸Šæ”¾å‡ ä¸ª <span class="math inline">\(d\)</span> å°±å¯ä»¥ä½¿å¾—æ€»ä»£ä»· <span class="math inline">\(\le m\)</span>ã€‚</p>
<p>æ‰€ä»¥å…ˆç®—å‡º <span class="math inline">\(g(d + 1)\)</span> ç„¶åå†æ”¾ <span class="math inline">\(\left\lceil\dfrac{g(d + 1) - m}{d}\right\rceil\)</span> ä¸ªä¼ é€æœºå°±å¯ä»¥äº†ã€‚</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb36-1"><a aria-hidden="true" href="#cb36-1"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb36-2"><a aria-hidden="true" href="#cb36-2"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb36-3"><a aria-hidden="true" href="#cb36-3"></a><span class="dt">int</span> n, a[maxn];</span>
<span id="cb36-4"><a aria-hidden="true" href="#cb36-4"></a>ll m;</span>
<span id="cb36-5"><a aria-hidden="true" href="#cb36-5"></a><span class="kw">using</span> pll = pair&lt;ll, ll&gt;;</span>
<span id="cb36-6"><a aria-hidden="true" href="#cb36-6"></a></span>
<span id="cb36-7"><a aria-hidden="true" href="#cb36-7"></a>il ll f(ll x, ll k) {</span>
<span id="cb36-8"><a aria-hidden="true" href="#cb36-8"></a>    <span class="cf">return</span> (x % (k + <span class="dv">1</span>)) * ((x + k) / (k + <span class="dv">1</span>)) * ((x + k) / (k + <span class="dv">1</span>)) + (k + <span class="dv">1</span> - (x % (k + <span class="dv">1</span>))) * (x / (k + <span class="dv">1</span>)) * (x / (k + <span class="dv">1</span>));</span>
<span id="cb36-9"><a aria-hidden="true" href="#cb36-9"></a>}</span>
<span id="cb36-10"><a aria-hidden="true" href="#cb36-10"></a></span>
<span id="cb36-11"><a aria-hidden="true" href="#cb36-11"></a>pll calc(ll x, ll d) {</span>
<span id="cb36-12"><a aria-hidden="true" href="#cb36-12"></a>    ll l = <span class="dv">1</span>, r = x - <span class="dv">1</span>, ret = <span class="dv">0</span>;</span>
<span id="cb36-13"><a aria-hidden="true" href="#cb36-13"></a>    <span class="cf">while</span> (l &lt;= r) {</span>
<span id="cb36-14"><a aria-hidden="true" href="#cb36-14"></a>        <span class="kw">auto</span> mid = (l + r) &gt;&gt; <span class="dv">1</span>;</span>
<span id="cb36-15"><a aria-hidden="true" href="#cb36-15"></a>        <span class="cf">if</span> (f(x, mid - <span class="dv">1</span>) - f(x, mid) &gt;= d)</span>
<span id="cb36-16"><a aria-hidden="true" href="#cb36-16"></a>            ret = mid, l = mid + <span class="dv">1</span>;</span>
<span id="cb36-17"><a aria-hidden="true" href="#cb36-17"></a>        <span class="cf">else</span> r = mid - <span class="dv">1</span>;</span>
<span id="cb36-18"><a aria-hidden="true" href="#cb36-18"></a>    }</span>
<span id="cb36-19"><a aria-hidden="true" href="#cb36-19"></a>    <span class="cf">return</span> {f(x, ret), ret};</span>
<span id="cb36-20"><a aria-hidden="true" href="#cb36-20"></a>}</span>
<span id="cb36-21"><a aria-hidden="true" href="#cb36-21"></a></span>
<span id="cb36-22"><a aria-hidden="true" href="#cb36-22"></a>pll check(ll mid) {</span>
<span id="cb36-23"><a aria-hidden="true" href="#cb36-23"></a>    pll res;</span>
<span id="cb36-24"><a aria-hidden="true" href="#cb36-24"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb36-25"><a aria-hidden="true" href="#cb36-25"></a>        <span class="kw">auto</span> now = calc(a[i], mid);</span>
<span id="cb36-26"><a aria-hidden="true" href="#cb36-26"></a>        res.first += now.first, res.second += now.second;</span>
<span id="cb36-27"><a aria-hidden="true" href="#cb36-27"></a>    }</span>
<span id="cb36-28"><a aria-hidden="true" href="#cb36-28"></a>    <span class="cf">return</span> res;</span>
<span id="cb36-29"><a aria-hidden="true" href="#cb36-29"></a>}</span>
<span id="cb36-30"><a aria-hidden="true" href="#cb36-30"></a></span>
<span id="cb36-31"><a aria-hidden="true" href="#cb36-31"></a><span class="dt">int</span> main() {</span>
<span id="cb36-32"><a aria-hidden="true" href="#cb36-32"></a>    is &gt;&gt; n;</span>
<span id="cb36-33"><a aria-hidden="true" href="#cb36-33"></a>    FOR(i, <span class="dv">1</span>, n) is &gt;&gt; a[i];</span>
<span id="cb36-34"><a aria-hidden="true" href="#cb36-34"></a>    DEC(i, n, <span class="dv">1</span>) a[i] -= a[i - <span class="dv">1</span>];</span>
<span id="cb36-35"><a aria-hidden="true" href="#cb36-35"></a>    is &gt;&gt; m;</span>
<span id="cb36-36"><a aria-hidden="true" href="#cb36-36"></a>    ll l = <span class="dv">0</span>, r = <span class="fl">1e18</span>, d;</span>
<span id="cb36-37"><a aria-hidden="true" href="#cb36-37"></a>    <span class="cf">while</span> (l &lt;= r) {</span>
<span id="cb36-38"><a aria-hidden="true" href="#cb36-38"></a>        ll mid = (l + r) &gt;&gt; <span class="dv">1</span>;</span>
<span id="cb36-39"><a aria-hidden="true" href="#cb36-39"></a>        <span class="cf">if</span> (check(mid).first &lt;= m) l = mid + <span class="dv">1</span>, d = mid;</span>
<span id="cb36-40"><a aria-hidden="true" href="#cb36-40"></a>        <span class="cf">else</span> r = mid - <span class="dv">1</span>;</span>
<span id="cb36-41"><a aria-hidden="true" href="#cb36-41"></a>    }</span>
<span id="cb36-42"><a aria-hidden="true" href="#cb36-42"></a>    <span class="kw">auto</span> res = check(d + <span class="dv">1</span>);</span>
<span id="cb36-43"><a aria-hidden="true" href="#cb36-43"></a>    cout &lt;&lt; res.second + (res.first - m + d - <span class="dv">1</span>) / d;</span>
<span id="cb36-44"><a aria-hidden="true" href="#cb36-44"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb36-45"><a aria-hidden="true" href="#cb36-45"></a>}</span></code></pre></div>
<h2 id="codeforces-round-796">Codeforces Round #796</h2>
<h3 id="c---sanae-and-giant-robot">1687C - Sanae and Giant Robot</h3>
<p>ç»™å®šæ•°åˆ— <span class="math inline">\(a,b\)</span> å’Œ <span class="math inline">\(m\)</span> ä¸ªåŒºé—´ <span class="math inline">\([l_i, r_i]\)</span>ï¼Œæ¯æ¬¡æ“ä½œçš„æ—¶å€™å¯ä»¥é€‰æ‹©ä¸€ä¸ªåŒºé—´ <span class="math inline">\([l,r]\)</span> ç„¶å <span class="math inline">\(\forall l\le i\le r\)</span> æ‰§è¡Œ <span class="math inline">\(a_i\leftarrow b_i\)</span>ï¼Œå½“ä¸”ä»…å½“ <span class="math inline">\(\displaystyle\sum_{i=l}^r a_i\)</span> ä¸å˜ã€‚é—®èƒ½å¦ç»è¿‡è‹¥å¹²æ¬¡æ“ä½œå°† <span class="math inline">\(a\)</span> è½¬åŒ–ä¸º <span class="math inline">\(b\)</span>ã€‚</p>
<p>æ€è€ƒ <span class="math inline">\(b_i = 0\)</span> çš„æƒ…å†µã€‚åˆ™è‹¥æˆ‘ä»¬ä»¤ <span class="math inline">\(s_i\)</span> ä¸º <span class="math inline">\(a_i\)</span> çš„å‰ç¼€å’Œçš„è¯ï¼Œæˆ‘ä»¬æ¯æ¬¡å°±å¯ä»¥é€‰æ‹© <span class="math inline">\(s_r - s_{l - 1} = 0\)</span> çš„åŒºé—´ <span class="math inline">\([l, r]\)</span>ï¼Œç„¶åå°† <span class="math inline">\(s_l,s_{l+1},\cdots,s_{r - 1}\)</span> å…¨éƒ¨èµ‹å€¼ä¸º <span class="math inline">\(s_r\)</span>ã€‚è€Œæœ€ç»ˆçš„ç›®æ ‡æ˜¯è®©æ‰€æœ‰çš„ <span class="math inline">\(s_i = 0\)</span>ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±æ¯æ¬¡é€‰æ‹© <span class="math inline">\(s_{l-1} = s_r = 0\)</span> çš„åŒºé—´ <span class="math inline">\([l,r]\)</span>ï¼Œç„¶åå°† <span class="math inline">\([l, r - 1]\)</span> å†…çš„ <span class="math inline">\(s_i\)</span> å…¨éƒ¨èµ‹å€¼ä¸º <span class="math inline">\(0\)</span>ã€‚å¯ä»¥éšä¾¿ç»´æŠ¤ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼ˆä¾‹å¦‚ä½¿ç”¨ <code>set</code> + bfsï¼‰ã€‚</p>
<p>è€Œå¯¹äº <span class="math inline">\(b_i\ne 0\)</span> çš„æƒ…å†µå‘¢ï¼Ÿå°† <span class="math inline">\(a_i \leftarrow a_i - b_i\)</span> ä¹‹åå°±èƒ½å˜æˆå’Œä¸Šé¢ä¸€æ ·çš„é—®é¢˜äº†ã€‚æ¯ä¸ªç‚¹è‡³å¤šè¢«åˆ é™¤ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O((n+m)\log n)\)</span>ã€‚</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb37-1"><a aria-hidden="true" href="#cb37-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb37-2"><a aria-hidden="true" href="#cb37-2"></a><span class="pp">#include </span><span class="im">&lt;fastio.hpp&gt;</span></span>
<span id="cb37-3"><a aria-hidden="true" href="#cb37-3"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb37-4"><a aria-hidden="true" href="#cb37-4"></a></span>
<span id="cb37-5"><a aria-hidden="true" href="#cb37-5"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb37-6"><a aria-hidden="true" href="#cb37-6"></a><span class="kw">using</span> YangTY::fastIO::is;</span>
<span id="cb37-7"><a aria-hidden="true" href="#cb37-7"></a><span class="kw">using</span> YangTY::fastIO::os;</span>
<span id="cb37-8"><a aria-hidden="true" href="#cb37-8"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb37-9"><a aria-hidden="true" href="#cb37-9"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb37-10"><a aria-hidden="true" href="#cb37-10"></a><span class="dt">int</span> n, m, deg[maxn];</span>
<span id="cb37-11"><a aria-hidden="true" href="#cb37-11"></a>ll a[maxn], b[maxn];</span>
<span id="cb37-12"><a aria-hidden="true" href="#cb37-12"></a>vector&lt;<span class="dt">int</span>&gt; G[maxn];</span>
<span id="cb37-13"><a aria-hidden="true" href="#cb37-13"></a>pair&lt;<span class="dt">int</span>, <span class="dt">int</span>&gt; e[maxn];</span>
<span id="cb37-14"><a aria-hidden="true" href="#cb37-14"></a></span>
<span id="cb37-15"><a aria-hidden="true" href="#cb37-15"></a><span class="dt">int</span> main() {</span>
<span id="cb37-16"><a aria-hidden="true" href="#cb37-16"></a>    <span class="dt">int</span> T; is &gt;&gt; T;</span>
<span id="cb37-17"><a aria-hidden="true" href="#cb37-17"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb37-18"><a aria-hidden="true" href="#cb37-18"></a>        is &gt;&gt; n &gt;&gt; m;</span>
<span id="cb37-19"><a aria-hidden="true" href="#cb37-19"></a>        FOR(i, <span class="dv">1</span>, n) is &gt;&gt; a[i];</span>
<span id="cb37-20"><a aria-hidden="true" href="#cb37-20"></a>        FOR(i, <span class="dv">1</span>, n) is &gt;&gt; b[i], a[i] -= b[i], a[i] += a[i - <span class="dv">1</span>];</span>
<span id="cb37-21"><a aria-hidden="true" href="#cb37-21"></a>        set&lt;<span class="dt">int</span>&gt; S;</span>
<span id="cb37-22"><a aria-hidden="true" href="#cb37-22"></a>        FOR(i, <span class="dv">0</span>, n) S.insert(i), vector&lt;<span class="dt">int</span>&gt;().swap(G[i]);</span>
<span id="cb37-23"><a aria-hidden="true" href="#cb37-23"></a>        FOR(i, <span class="dv">1</span>, m) {</span>
<span id="cb37-24"><a aria-hidden="true" href="#cb37-24"></a>            <span class="dt">int</span> &amp;l = e[i].first, &amp;r = e[i].second;</span>
<span id="cb37-25"><a aria-hidden="true" href="#cb37-25"></a>            is &gt;&gt; l &gt;&gt; r;</span>
<span id="cb37-26"><a aria-hidden="true" href="#cb37-26"></a>            G[l - <span class="dv">1</span>].push_back(i), G[r].push_back(i);</span>
<span id="cb37-27"><a aria-hidden="true" href="#cb37-27"></a>            deg[i] = <span class="dv">2</span>;</span>
<span id="cb37-28"><a aria-hidden="true" href="#cb37-28"></a>        }</span>
<span id="cb37-29"><a aria-hidden="true" href="#cb37-29"></a>        queue&lt;<span class="dt">int</span>&gt; q;</span>
<span id="cb37-30"><a aria-hidden="true" href="#cb37-30"></a>        FOR(i, <span class="dv">0</span>, n) <span class="cf">if</span> (!a[i]) q.push(i), S.erase(i);</span>
<span id="cb37-31"><a aria-hidden="true" href="#cb37-31"></a>        <span class="cf">while</span> (!q.empty()) {</span>
<span id="cb37-32"><a aria-hidden="true" href="#cb37-32"></a>            <span class="dt">int</span> x = q.front(); q.pop();</span>
<span id="cb37-33"><a aria-hidden="true" href="#cb37-33"></a>            <span class="cf">for</span> (<span class="dt">int</span> id : G[x]) <span class="cf">if</span> (!--deg[id]) {</span>
<span id="cb37-34"><a aria-hidden="true" href="#cb37-34"></a>                <span class="dt">int</span> l = e[id].first, r = e[id].second;</span>
<span id="cb37-35"><a aria-hidden="true" href="#cb37-35"></a>                <span class="kw">auto</span> lt = S.lower_bound(l), rt = S.upper_bound(r);</span>
<span id="cb37-36"><a aria-hidden="true" href="#cb37-36"></a>                <span class="cf">for</span> (<span class="kw">auto</span> it = lt; it != rt; ++it) q.push(*it);</span>
<span id="cb37-37"><a aria-hidden="true" href="#cb37-37"></a>                S.erase(lt, rt);</span>
<span id="cb37-38"><a aria-hidden="true" href="#cb37-38"></a>            }</span>
<span id="cb37-39"><a aria-hidden="true" href="#cb37-39"></a>        }</span>
<span id="cb37-40"><a aria-hidden="true" href="#cb37-40"></a>        os &lt;&lt; (S.empty() ? <span class="st">"YES"</span> : <span class="st">"NO"</span>) &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb37-41"><a aria-hidden="true" href="#cb37-41"></a>    }</span>
<span id="cb37-42"><a aria-hidden="true" href="#cb37-42"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb37-43"><a aria-hidden="true" href="#cb37-43"></a>}</span></code></pre></div>
<h3 id="d---cute-number">1687D - Cute number</h3>
<p>å®šä¹‰ <span class="math inline">\(f(x)\)</span> ä¸ºä¸¥æ ¼å¤§äº <span class="math inline">\(x\)</span> çš„æœ€å°å®Œå…¨å¹³æ–¹æ•°ï¼Œ<span class="math inline">\(g(x)\)</span> ä¸ºå°äºç­‰äº <span class="math inline">\(x\)</span> çš„æœ€å¤§å®Œå…¨å¹³æ–¹æ•°ã€‚å®šä¹‰ä¸€ä¸ªæ­£æ•´æ•° <span class="math inline">\(x\)</span> æ˜¯å¯çˆ±çš„ï¼Œå½“ä¸”ä»…å½“ <span class="math inline">\(x - g(x) &lt; f(x) - x\)</span>ã€‚ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(n\)</span> çš„æ­£æ•´æ•°åºåˆ— <span class="math inline">\(a\)</span>ï¼Œæ±‚ä¸€ä¸ªæœ€å°çš„éè´Ÿæ•´æ•° <span class="math inline">\(k\)</span> æ»¡è¶³ <span class="math inline">\(\forall 1\le i\le n\)</span> æ»¡è¶³ <span class="math inline">\(a_i + k\)</span> ä¸ºå¯çˆ±çš„ã€‚</p>
<p><span class="math inline">\(n\le 10^6\)</span>ï¼Œ<span class="math inline">\(1\le a_i\le 2\times 10^6\)</span>ã€‚</p>
<p>é¦–å…ˆå¤§åŠ›è§‚å¯Ÿï¼Œæ ¹æ® <span class="math inline">\((x^2)' = 2x\)</span> å¾—åˆ°å¯çˆ±çš„æ•°ä¸€å®šåœ¨ <span class="math inline">\([k^2, k^2 + k]\)</span> å†…ï¼Œæˆä¸€æ®µä¸€æ®µçš„åˆ†å¸ƒï¼Œç¬¬ <span class="math inline">\(i\)</span> æ®µå¯çˆ±çš„æ•°çš„é•¿åº¦ä¸º <span class="math inline">\(i + 1\)</span>ï¼Œç¬¬ <span class="math inline">\(i\)</span> æ®µä¸å¯çˆ±çš„æ•°é•¿åº¦ä¸º <span class="math inline">\(i\)</span>ã€‚ä¸å¦¨ä»¤ <span class="math inline">\([k^2, k^2 + k]\)</span> ä¸ºç¬¬ <span class="math inline">\(k\)</span> æ®µã€‚</p>
<p>é¦–å…ˆï¼Œè‹¥ <span class="math inline">\(a_1 + k\)</span> åœ¨ç¬¬ <span class="math inline">\(a_n\)</span> æ®µçš„æ®µå¤´çš„è¯ï¼Œä¸€å®šæ˜¯å¯ä»¥çš„ã€‚æ‰€ä»¥æšä¸¾æ‰€æœ‰ <span class="math inline">\(&lt; a_n\)</span> çš„æ®µåˆ¤æ–­æ˜¯å¦å¯ä»¥å°±è¡Œäº†ã€‚</p>
<p>è‹¥ <span class="math inline">\(a_1 + k\)</span> åœ¨ç¬¬ <span class="math inline">\(i\)</span> æ®µï¼Œåˆ™ <span class="math inline">\(k\)</span> ä¸€å…±ä¼šæœ‰ <span class="math inline">\(i + 1\)</span> ä¸ªå¯å–çš„å€¼ï¼Œè€Œå½“ <span class="math inline">\(k\)</span> é€æ¸å˜åŒ–çš„æ—¶å€™ï¼ŒæŸä¸ª <span class="math inline">\(a_i + k\)</span> å¯èƒ½ä¼šä»å¯çˆ±å˜åˆ°ä¸å¯çˆ±ï¼Œä¹Ÿæœ‰å¯èƒ½ä»ä¸å¯çˆ±å˜å¾—å¯çˆ±ã€‚ä¹Ÿå³ï¼šæˆ‘ä»¬è¦æŠŠæ‰€æœ‰ä¸å¯çˆ±çš„æ•°å˜å¾—å¯çˆ±ï¼Œä¹Ÿä¸èƒ½æŠŠä»»ä½•å¯çˆ±çš„æ•°å˜å¾—ä¸å¯çˆ±ã€‚ä¸éš¾å‘ç°è¿™å®é™…ä¸Šç»™ <span class="math inline">\(k\)</span> å¡äº†ä¸€ä¸ªä¸Šä¸‹ç•Œã€‚</p>
<p>å¦‚ä½•è®¡ç®—ï¼Ÿåˆå§‹æ—¶ä»¤ <span class="math inline">\(a_1 + k\)</span> ä¸ºç¬¬ <span class="math inline">\(i\)</span> æ®µæ®µé¦–ï¼Œå³ <span class="math inline">\(k=i^2 - a_1\)</span>ï¼Œè€ƒè™‘å¯¹äºæ¯ä¸ªä¸å¯çˆ±çš„æ®µï¼Œæ‰¾åˆ°é‡Œé¢æœ€å°çš„ <span class="math inline">\(a\)</span>ï¼Œè¿™é™åˆ¶äº† <span class="math inline">\(k\)</span> çš„ä¸‹ç•Œï¼›å¯¹æ¯ä¸ªå¯çˆ±çš„æ®µæ‰¾åˆ°æœ€å¤§çš„ <span class="math inline">\(a\)</span>ï¼Œè¿™é™åˆ¶äº† <span class="math inline">\(k\)</span> çš„ä¸Šç•Œã€‚ç”±äºæ¯æ®µé•¿åº¦éƒ½ <span class="math inline">\(\ge i\)</span>ï¼Œæ‰€ä»¥ä¸€å…±åªä¼šæšä¸¾ <span class="math inline">\(\dfrac{a_n}{i}\)</span> æ®µã€‚æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦è°ƒå’Œ <span class="math inline">\(a_n\log a_n\)</span>ã€‚</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb38-1"><a aria-hidden="true" href="#cb38-1"></a><span class="pp">#define int </span><span class="dt">long</span><span class="pp"> </span><span class="dt">long</span></span>
<span id="cb38-2"><a aria-hidden="true" href="#cb38-2"></a></span>
<span id="cb38-3"><a aria-hidden="true" href="#cb38-3"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">4e6</span> + <span class="dv">6</span>, N = <span class="fl">4e6</span>;</span>
<span id="cb38-4"><a aria-hidden="true" href="#cb38-4"></a><span class="dt">int</span> n, a[maxn], vis[maxn], pre[maxn], suf[maxn];</span>
<span id="cb38-5"><a aria-hidden="true" href="#cb38-5"></a></span>
<span id="cb38-6"><a aria-hidden="true" href="#cb38-6"></a><span class="dt">signed</span> main() {</span>
<span id="cb38-7"><a aria-hidden="true" href="#cb38-7"></a>    cin &gt;&gt; n;</span>
<span id="cb38-8"><a aria-hidden="true" href="#cb38-8"></a>    FOR(i, <span class="dv">1</span>, n) cin &gt;&gt; a[i], vis[a[i] - a[<span class="dv">1</span>]] = <span class="dv">1</span>;</span>
<span id="cb38-9"><a aria-hidden="true" href="#cb38-9"></a>    pre[<span class="dv">0</span>] = -<span class="dv">1</span>, suf[N] = N;</span>
<span id="cb38-10"><a aria-hidden="true" href="#cb38-10"></a>    FOR(i, <span class="dv">1</span>, N) <span class="cf">if</span> (vis[i]) pre[i] = i; <span class="cf">else</span> pre[i] = pre[i - <span class="dv">1</span>];</span>
<span id="cb38-11"><a aria-hidden="true" href="#cb38-11"></a>    DEC(i, N - <span class="dv">1</span>, <span class="dv">1</span>) <span class="cf">if</span> (vis[i]) suf[i] = i; <span class="cf">else</span> suf[i] = suf[i + <span class="dv">1</span>];</span>
<span id="cb38-12"><a aria-hidden="true" href="#cb38-12"></a>    FOR(i, <span class="dv">1</span>, a[n]) {</span>
<span id="cb38-13"><a aria-hidden="true" href="#cb38-13"></a>        <span class="cf">if</span> (i * (i + <span class="dv">1</span>) &lt; a[<span class="dv">1</span>]) <span class="cf">continue</span>;</span>
<span id="cb38-14"><a aria-hidden="true" href="#cb38-14"></a>        <span class="dt">int</span> lb = <span class="dv">0</span>, rb = i;</span>
<span id="cb38-15"><a aria-hidden="true" href="#cb38-15"></a>        <span class="cf">if</span> (a[<span class="dv">1</span>] &gt; i * i) lb = a[<span class="dv">1</span>] - i * i;</span>
<span id="cb38-16"><a aria-hidden="true" href="#cb38-16"></a>        <span class="dt">int</span> l = <span class="dv">0</span>, r = i;</span>
<span id="cb38-17"><a aria-hidden="true" href="#cb38-17"></a>        FOR(j, i, a[n]) {</span>
<span id="cb38-18"><a aria-hidden="true" href="#cb38-18"></a>            <span class="cf">if</span> (pre[r] &gt;= l)</span>
<span id="cb38-19"><a aria-hidden="true" href="#cb38-19"></a>                chkmin(rb, r - pre[r]);</span>
<span id="cb38-20"><a aria-hidden="true" href="#cb38-20"></a>            l += <span class="dv">2</span> * j + <span class="dv">1</span>;</span>
<span id="cb38-21"><a aria-hidden="true" href="#cb38-21"></a>            <span class="cf">if</span> (suf[r + <span class="dv">1</span>] &lt; l)</span>
<span id="cb38-22"><a aria-hidden="true" href="#cb38-22"></a>                chkmax(lb, l - suf[r + <span class="dv">1</span>]);</span>
<span id="cb38-23"><a aria-hidden="true" href="#cb38-23"></a>            r += <span class="dv">2</span> * j + <span class="dv">2</span>;</span>
<span id="cb38-24"><a aria-hidden="true" href="#cb38-24"></a>            <span class="cf">if</span> (l &gt; a[n] - a[<span class="dv">1</span>]) <span class="cf">break</span>;</span>
<span id="cb38-25"><a aria-hidden="true" href="#cb38-25"></a>        }</span>
<span id="cb38-26"><a aria-hidden="true" href="#cb38-26"></a>        <span class="cf">if</span> (lb &lt;= rb) {</span>
<span id="cb38-27"><a aria-hidden="true" href="#cb38-27"></a>            cout &lt;&lt; i * i + lb - a[<span class="dv">1</span>] &lt;&lt; endl;</span>
<span id="cb38-28"><a aria-hidden="true" href="#cb38-28"></a>            <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb38-29"><a aria-hidden="true" href="#cb38-29"></a>        }</span>
<span id="cb38-30"><a aria-hidden="true" href="#cb38-30"></a>    }</span>
<span id="cb38-31"><a aria-hidden="true" href="#cb38-31"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb38-32"><a aria-hidden="true" href="#cb38-32"></a>}</span></code></pre></div>
<h2 id="codeforces-round-801-div.-2-and-epic-institute-of-technology-round">Codeforces Round #801 (Div. 2) and EPIC Institute of Technology Round</h2>
<h3 id="d12---tree-queries-hard-version">1695D1/2 - Tree Queries (Hard Version)</h3>
<p>åŸé¢˜åœ°å€ï¼š<a href="https://atcoder.jp/contests/apc001/tasks/apc001_e">AtCoder</a>ï¼Œ<a href="https://www.luogu.com.cn/problem/AT3912">æ´›è°·</a>ã€‚</p>
<p>é¦–å…ˆå¯¹äº <span class="math inline">\(n = 1\)</span> æˆ‘ä»¬å¯ä»¥ç‰¹åˆ¤æ‰ã€‚</p>
<p>ç„¶åæ˜¯ <span class="math inline">\(n\le 2000\)</span> çš„ D1ï¼Œå‘ç°æˆ‘ä»¬å¯ä»¥æšä¸¾æ ¹ç„¶åé’¦å®šé€‰æ‹©ä¹‹ï¼Œä¹‹åè´ªå¿ƒæ‰«ä¸€éæ ‘è®¡ç®—ç­”æ¡ˆã€‚å…·ä½“åœ°ï¼Œè‹¥é‡åˆ°äº†åº¦æ•° <span class="math inline">\(\mathrm{deg}(u)\ge 3\)</span> çš„èŠ‚ç‚¹ï¼ˆå³åˆ†å‰ï¼‰ï¼Œåˆ™è‡³å°‘è¦æœ‰ <span class="math inline">\(\mathrm{deg}(u) - 2\)</span> ä¸ªå­æ ‘å†…æœ‰é€‰æ‹©çš„ç‚¹ï¼ˆå¦åˆ™æ— æ³•å°†æ‰€æœ‰çš„å­æ ‘åŒºåˆ†å¼€æ¥ï¼‰ã€‚è¿™ä¸ªä¸œè¥¿å¯ä»¥ç¨å¾® dp ä¸€ä¸‹æ¥åšï¼Œè®¾ <span class="math inline">\(f_u\)</span> è¡¨ç¤º <span class="math inline">\(u\)</span> å­æ ‘å†…æœ‰æ²¡æœ‰é€‰ç‚¹ï¼Œåˆ™</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb39-1"><a aria-hidden="true" href="#cb39-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb39-2"><a aria-hidden="true" href="#cb39-2"></a><span class="pp">#define il </span><span class="kw">inline</span></span>
<span id="cb39-3"><a aria-hidden="true" href="#cb39-3"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb39-4"><a aria-hidden="true" href="#cb39-4"></a></span>
<span id="cb39-5"><a aria-hidden="true" href="#cb39-5"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb39-6"><a aria-hidden="true" href="#cb39-6"></a></span>
<span id="cb39-7"><a aria-hidden="true" href="#cb39-7"></a><span class="kw">template</span>&lt;<span class="kw">typename</span> T&gt; il T chkmin(T &amp;a, <span class="at">const</span> T &amp;b) {<span class="cf">return</span> a = (b &lt; a ? b : a);}</span>
<span id="cb39-8"><a aria-hidden="true" href="#cb39-8"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e3</span> + <span class="dv">5</span>;</span>
<span id="cb39-9"><a aria-hidden="true" href="#cb39-9"></a><span class="dt">int</span> n, f[maxn];</span>
<span id="cb39-10"><a aria-hidden="true" href="#cb39-10"></a>vector&lt;<span class="dt">int</span>&gt; G[maxn];</span>
<span id="cb39-11"><a aria-hidden="true" href="#cb39-11"></a></span>
<span id="cb39-12"><a aria-hidden="true" href="#cb39-12"></a><span class="dt">int</span> dfs(<span class="dt">int</span> u, <span class="dt">int</span> fa) {</span>
<span id="cb39-13"><a aria-hidden="true" href="#cb39-13"></a>    <span class="dt">int</span> tmp = <span class="dv">0</span>, ret = <span class="dv">0</span>;</span>
<span id="cb39-14"><a aria-hidden="true" href="#cb39-14"></a>    f[u] = <span class="dv">0</span>;</span>
<span id="cb39-15"><a aria-hidden="true" href="#cb39-15"></a>    <span class="cf">for</span> (<span class="kw">auto</span> &amp;v : G[u]) <span class="cf">if</span> (v != fa) {</span>
<span id="cb39-16"><a aria-hidden="true" href="#cb39-16"></a>        ret += dfs(v, u);</span>
<span id="cb39-17"><a aria-hidden="true" href="#cb39-17"></a>        tmp += !f[v], f[u] |= f[v];</span>
<span id="cb39-18"><a aria-hidden="true" href="#cb39-18"></a>    }</span>
<span id="cb39-19"><a aria-hidden="true" href="#cb39-19"></a>    <span class="cf">if</span> (tmp &gt; <span class="dv">1</span>) ret += tmp - <span class="dv">1</span>, f[u] = <span class="dv">1</span>;</span>
<span id="cb39-20"><a aria-hidden="true" href="#cb39-20"></a>    <span class="cf">return</span> ret;</span>
<span id="cb39-21"><a aria-hidden="true" href="#cb39-21"></a>}</span>
<span id="cb39-22"><a aria-hidden="true" href="#cb39-22"></a></span>
<span id="cb39-23"><a aria-hidden="true" href="#cb39-23"></a><span class="dt">int</span> main() {</span>
<span id="cb39-24"><a aria-hidden="true" href="#cb39-24"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb39-25"><a aria-hidden="true" href="#cb39-25"></a>    <span class="dt">int</span> T; cin &gt;&gt; T;</span>
<span id="cb39-26"><a aria-hidden="true" href="#cb39-26"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb39-27"><a aria-hidden="true" href="#cb39-27"></a>        cin &gt;&gt; n;</span>
<span id="cb39-28"><a aria-hidden="true" href="#cb39-28"></a>        FOR(i, <span class="dv">1</span>, n) vector&lt;<span class="dt">int</span>&gt;().swap(G[i]);</span>
<span id="cb39-29"><a aria-hidden="true" href="#cb39-29"></a>        <span class="cf">if</span> (n == <span class="dv">1</span>) {</span>
<span id="cb39-30"><a aria-hidden="true" href="#cb39-30"></a>            cout &lt;&lt; <span class="dv">0</span> &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb39-31"><a aria-hidden="true" href="#cb39-31"></a>            <span class="cf">continue</span>;</span>
<span id="cb39-32"><a aria-hidden="true" href="#cb39-32"></a>        }</span>
<span id="cb39-33"><a aria-hidden="true" href="#cb39-33"></a>        FOR(i, <span class="dv">1</span>, n - <span class="dv">1</span>) {</span>
<span id="cb39-34"><a aria-hidden="true" href="#cb39-34"></a>            <span class="dt">int</span> u, v; cin &gt;&gt; u &gt;&gt; v;</span>
<span id="cb39-35"><a aria-hidden="true" href="#cb39-35"></a>            G[u].push_back(v), G[v].push_back(u);</span>
<span id="cb39-36"><a aria-hidden="true" href="#cb39-36"></a>        }</span>
<span id="cb39-37"><a aria-hidden="true" href="#cb39-37"></a>        <span class="dt">int</span> ans = <span class="fl">1e9</span>;</span>
<span id="cb39-38"><a aria-hidden="true" href="#cb39-38"></a>        FOR(i, <span class="dv">1</span>, n) chkmin(ans, dfs(i, <span class="dv">0</span>) + <span class="dv">1</span>);</span>
<span id="cb39-39"><a aria-hidden="true" href="#cb39-39"></a>        cout &lt;&lt; ans &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb39-40"><a aria-hidden="true" href="#cb39-40"></a>    }</span>
<span id="cb39-41"><a aria-hidden="true" href="#cb39-41"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb39-42"><a aria-hidden="true" href="#cb39-42"></a>}</span></code></pre></div>
<p>ç„¶åä¼šå‘ç°ï¼Œæˆ‘ä»¬è¿™æ ·åšçš„æœ¬è´¨æ˜¯ï¼Œå¯¹äºä¸€ä¸ªä»¥ <span class="math inline">\(u\)</span> ä¸ºæ ¹çš„å­æ ‘ï¼Œæˆ‘ä»¬ä¿è¯äº†ä»–çš„å¤–é¢è‡³å°‘æœ‰ä¸€ä¸ªç‚¹è¢«é€‰ï¼ˆå³è‡³å°‘é€‰äº†æ ¹ï¼‰ï¼Œä»¥ç¡®å®š <span class="math inline">\(u\)</span> çš„ä½ç½®ã€‚è€Œå½“æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªåº¦æ•° <span class="math inline">\(\ge 3\)</span> çš„ç‚¹ä½œä¸ºæ ¹æ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°å³ä½¿ä¸é€‰æ ¹ï¼Œå¯¹äºæ ¹çš„æ¯ä¸€ä¸ªå­æ ‘éƒ½å¯ä»¥æ»¡è¶³ä¸Šè¿°æ€§è´¨ï¼ˆå­æ ‘å¤–é¢ä¹Ÿè‡³å°‘é€‰äº†ä¸€ä¸ªç‚¹ï¼‰ï¼Œæ‰€ä»¥éšä¾¿é€‰ä¸€ä¸ªåº¦æ•° <span class="math inline">\(\ge 3\)</span> çš„æ ¹è·‘ä¸€éè¿™ä¸ª dp å°±èƒ½å¾—åˆ°ç­”æ¡ˆï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™å°±ä¸é€‰æ ¹äº†ï¼‰ã€‚</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb40-1"><a aria-hidden="true" href="#cb40-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb40-2"><a aria-hidden="true" href="#cb40-2"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb40-3"><a aria-hidden="true" href="#cb40-3"></a><span class="pp">#define DEC</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&gt;=<span class="pp"> </span>(b);<span class="pp"> </span>--i)</span>
<span id="cb40-4"><a aria-hidden="true" href="#cb40-4"></a></span>
<span id="cb40-5"><a aria-hidden="true" href="#cb40-5"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb40-6"><a aria-hidden="true" href="#cb40-6"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">2e5</span> + <span class="dv">5</span>;</span>
<span id="cb40-7"><a aria-hidden="true" href="#cb40-7"></a><span class="dt">int</span> n, f[maxn], ans;</span>
<span id="cb40-8"><a aria-hidden="true" href="#cb40-8"></a>vector&lt;<span class="dt">int</span>&gt; G[maxn];</span>
<span id="cb40-9"><a aria-hidden="true" href="#cb40-9"></a></span>
<span id="cb40-10"><a aria-hidden="true" href="#cb40-10"></a><span class="dt">void</span> dfs(<span class="dt">int</span> u, <span class="dt">int</span> fa) {</span>
<span id="cb40-11"><a aria-hidden="true" href="#cb40-11"></a>    <span class="dt">int</span> tmp = <span class="dv">0</span>;</span>
<span id="cb40-12"><a aria-hidden="true" href="#cb40-12"></a>    <span class="cf">for</span> (<span class="kw">auto</span> &amp;v : G[u]) <span class="cf">if</span> (v != fa) {</span>
<span id="cb40-13"><a aria-hidden="true" href="#cb40-13"></a>        dfs(v, u);</span>
<span id="cb40-14"><a aria-hidden="true" href="#cb40-14"></a>        tmp += !f[v], f[u] |= f[v];</span>
<span id="cb40-15"><a aria-hidden="true" href="#cb40-15"></a>    }</span>
<span id="cb40-16"><a aria-hidden="true" href="#cb40-16"></a>    <span class="cf">if</span> (tmp &gt; <span class="dv">1</span>) ans += tmp - <span class="dv">1</span>, f[u] = <span class="dv">1</span>;</span>
<span id="cb40-17"><a aria-hidden="true" href="#cb40-17"></a>    <span class="cf">return</span>;</span>
<span id="cb40-18"><a aria-hidden="true" href="#cb40-18"></a>}</span>
<span id="cb40-19"><a aria-hidden="true" href="#cb40-19"></a></span>
<span id="cb40-20"><a aria-hidden="true" href="#cb40-20"></a><span class="dt">int</span> main() {</span>
<span id="cb40-21"><a aria-hidden="true" href="#cb40-21"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb40-22"><a aria-hidden="true" href="#cb40-22"></a>    <span class="dt">int</span> T; cin &gt;&gt; T;</span>
<span id="cb40-23"><a aria-hidden="true" href="#cb40-23"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb40-24"><a aria-hidden="true" href="#cb40-24"></a>        cin &gt;&gt; n;</span>
<span id="cb40-25"><a aria-hidden="true" href="#cb40-25"></a>        FOR(i, <span class="dv">1</span>, n) vector&lt;<span class="dt">int</span>&gt;().swap(G[i]), f[i] = <span class="dv">0</span>;</span>
<span id="cb40-26"><a aria-hidden="true" href="#cb40-26"></a>        <span class="cf">if</span> (n == <span class="dv">1</span>) {</span>
<span id="cb40-27"><a aria-hidden="true" href="#cb40-27"></a>            cout &lt;&lt; <span class="dv">0</span> &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb40-28"><a aria-hidden="true" href="#cb40-28"></a>            <span class="cf">continue</span>;</span>
<span id="cb40-29"><a aria-hidden="true" href="#cb40-29"></a>        }</span>
<span id="cb40-30"><a aria-hidden="true" href="#cb40-30"></a>        FOR(i, <span class="dv">1</span>, n - <span class="dv">1</span>) {</span>
<span id="cb40-31"><a aria-hidden="true" href="#cb40-31"></a>            <span class="dt">int</span> u, v; cin &gt;&gt; u &gt;&gt; v;</span>
<span id="cb40-32"><a aria-hidden="true" href="#cb40-32"></a>            G[u].push_back(v), G[v].push_back(u);</span>
<span id="cb40-33"><a aria-hidden="true" href="#cb40-33"></a>        }</span>
<span id="cb40-34"><a aria-hidden="true" href="#cb40-34"></a>        <span class="dt">int</span> rt = <span class="dv">0</span>;</span>
<span id="cb40-35"><a aria-hidden="true" href="#cb40-35"></a>        FOR(i, <span class="dv">1</span>, n) <span class="cf">if</span> (G[i].size() &gt; <span class="dv">2</span>) {</span>
<span id="cb40-36"><a aria-hidden="true" href="#cb40-36"></a>            rt = i;</span>
<span id="cb40-37"><a aria-hidden="true" href="#cb40-37"></a>            <span class="cf">break</span>;</span>
<span id="cb40-38"><a aria-hidden="true" href="#cb40-38"></a>        }</span>
<span id="cb40-39"><a aria-hidden="true" href="#cb40-39"></a>        ans = <span class="dv">0</span>;</span>
<span id="cb40-40"><a aria-hidden="true" href="#cb40-40"></a>        <span class="cf">if</span> (!rt) cout &lt;&lt; <span class="dv">1</span> &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb40-41"><a aria-hidden="true" href="#cb40-41"></a>        <span class="cf">else</span> cout &lt;&lt; (dfs(rt, <span class="dv">0</span>), ans) &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb40-42"><a aria-hidden="true" href="#cb40-42"></a>    }</span>
<span id="cb40-43"><a aria-hidden="true" href="#cb40-43"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb40-44"><a aria-hidden="true" href="#cb40-44"></a>}</span></code></pre></div>
<hr/>
<p>å½“ç„¶æœ¬é¢˜è¿˜å¯ä»¥ä»å¦å¤–ä¸€ä¸ªè§’åº¦å‡ºå‘ï¼Œå³æ€è€ƒé—®é¢˜çš„ç»“æ„ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬è€ƒè™‘é€‰äº† <span class="math inline">\(k\)</span> ä¸ªå…³é”®ç‚¹ä¹‹åï¼Œä»€ä¹ˆæƒ…å†µä¸‹èƒ½åŒºåˆ†æ¯ä¸ªç‚¹ã€‚</p>
<p>å‘ç°è‹¥ä»¤é€‰å‡ºæ¥çš„ <span class="math inline">\(k\)</span> ä¸ªå…³é”®ç‚¹åœ¨æ ‘ä¸Šç”Ÿæˆä¸€å¼ â€œè¿é€šå­å›¾â€ï¼Œè¿é€šå­å›¾å†…éƒ¨çš„ç‚¹æ˜¯ä¸¤ä¸¤å¯åŒºåˆ†çš„ï¼Œè€Œåˆ™å…¶ä¼¸å‡ºå»çš„å­æ ‘ä¸­ï¼ŒåŒä¸€æ·±åº¦çš„ç‚¹æ˜¯ä¸å¯åŒºåˆ†çš„ã€‚æ‰€ä»¥<strong>è¿é€šå­å›¾ä¼¸å‡ºå»çš„éƒ¨åˆ†å¿…é¡»æ˜¯é“¾</strong>ã€‚</p>
<p>é‚£ä¹ˆå›åˆ°åŸé—®é¢˜ï¼Œæ˜¾ç„¶æˆ‘ä»¬å¯ä»¥é’¦å®šä¸€å¼€å§‹é€‰æ‹©æ‰€æœ‰å¶å­ä½œä¸ºå…³é”®ç‚¹ï¼Œå³å°†è¿é€šå­å›¾åˆå§‹åŒ–ä¸ºæ•´æ£µæ ‘ï¼Œç„¶åä¼šæ³¨æ„åˆ°æˆ‘ä»¬å¯ä»¥åˆ ä¸€äº›åŸæ ‘ä¸­ä»å¶å­è¿åˆ°å†…éƒ¨ç‚¹çš„é“¾ï¼ŒåŒæ—¶ä¸ç ´åä¸Šé¢â€œä¼¸å‡ºå»çš„éƒ¨åˆ†è¦æ˜¯é“¾â€çš„æ€§è´¨ã€‚</p>
<p>æ‰€ä»¥ä»å¶å­èŠ‚ç‚¹å¾€ä¸Šæœï¼Œæœåˆ°åº¦ <span class="math inline">\(\ge 3\)</span> çš„èŠ‚ç‚¹åœä¸‹æ¥æ‰“æ ‡è®°ï¼ˆæ„å‘³ç€è¿™ä¸ªå­æ ‘é‡Œé¢å¯ä»¥åˆ æ‰ä¸€æ¡é“¾ï¼‰ã€‚ç”¨æ€»å¶å­æ•°é‡å‡å»æ‰“äº†æ ‡è®°çš„ç‚¹çš„æ•°é‡å°±æ˜¯ç­”æ¡ˆã€‚æ³¨æ„ç‰¹åˆ¤é“¾çš„æƒ…å†µï¼Œä¸‹é¢ä»£ç æ˜¯ APC001E çš„ï¼Œå’Œ CF çš„æœ‰äº›è®¸å‡ºå…¥ã€‚</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb41-1"><a aria-hidden="true" href="#cb41-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb41-2"><a aria-hidden="true" href="#cb41-2"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb41-3"><a aria-hidden="true" href="#cb41-3"></a></span>
<span id="cb41-4"><a aria-hidden="true" href="#cb41-4"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb41-5"><a aria-hidden="true" href="#cb41-5"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">1e5</span> + <span class="dv">5</span>;</span>
<span id="cb41-6"><a aria-hidden="true" href="#cb41-6"></a><span class="dt">int</span> n, vis[maxn], ans;</span>
<span id="cb41-7"><a aria-hidden="true" href="#cb41-7"></a>vector&lt;<span class="dt">int</span>&gt; G[maxn];</span>
<span id="cb41-8"><a aria-hidden="true" href="#cb41-8"></a></span>
<span id="cb41-9"><a aria-hidden="true" href="#cb41-9"></a><span class="dt">int</span> dfs(<span class="dt">int</span> u, <span class="dt">int</span> fa) {</span>
<span id="cb41-10"><a aria-hidden="true" href="#cb41-10"></a>    <span class="cf">if</span> (G[u].size() &gt; <span class="dv">2</span>) <span class="cf">return</span> u;</span>
<span id="cb41-11"><a aria-hidden="true" href="#cb41-11"></a>    <span class="cf">for</span> (<span class="kw">auto</span> &amp;v : G[u]) <span class="cf">if</span> (v != fa) <span class="cf">return</span> dfs(v, u);</span>
<span id="cb41-12"><a aria-hidden="true" href="#cb41-12"></a>    <span class="cf">return</span> u;</span>
<span id="cb41-13"><a aria-hidden="true" href="#cb41-13"></a>}</span>
<span id="cb41-14"><a aria-hidden="true" href="#cb41-14"></a></span>
<span id="cb41-15"><a aria-hidden="true" href="#cb41-15"></a><span class="dt">int</span> main() {</span>
<span id="cb41-16"><a aria-hidden="true" href="#cb41-16"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb41-17"><a aria-hidden="true" href="#cb41-17"></a>    cin &gt;&gt; n;</span>
<span id="cb41-18"><a aria-hidden="true" href="#cb41-18"></a>    FOR(i, <span class="dv">1</span>, n - <span class="dv">1</span>) {</span>
<span id="cb41-19"><a aria-hidden="true" href="#cb41-19"></a>        <span class="dt">int</span> u, v; cin &gt;&gt; u &gt;&gt; v;</span>
<span id="cb41-20"><a aria-hidden="true" href="#cb41-20"></a>        ++u, ++v;</span>
<span id="cb41-21"><a aria-hidden="true" href="#cb41-21"></a>        G[u].push_back(v), G[v].push_back(u);</span>
<span id="cb41-22"><a aria-hidden="true" href="#cb41-22"></a>    }</span>
<span id="cb41-23"><a aria-hidden="true" href="#cb41-23"></a>    FOR(i, <span class="dv">1</span>, n) <span class="cf">if</span> (G[i].size() == <span class="dv">1</span>) vis[dfs(i, <span class="dv">0</span>)] = <span class="dv">1</span>, ++ans;</span>
<span id="cb41-24"><a aria-hidden="true" href="#cb41-24"></a>    FOR(i, <span class="dv">1</span>, n) ans -= vis[i];</span>
<span id="cb41-25"><a aria-hidden="true" href="#cb41-25"></a>    cout &lt;&lt; (ans ? ans : <span class="dv">1</span>) &lt;&lt; endl;</span>
<span id="cb41-26"><a aria-hidden="true" href="#cb41-26"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb41-27"><a aria-hidden="true" href="#cb41-27"></a>}</span></code></pre></div>
<h3 id="e---ambiguous-dominoes">1695E - Ambiguous Dominoes</h3>
<p>é¢˜æ„ï¼šæœ‰ <span class="math inline">\(n\)</span> ä¸ªå¤šç±³è¯ºéª¨ç‰Œï¼Œæ¯å¼ éª¨ç‰Œä¸Šæœ‰ä¸¤ä¸ªæ•°å­—ï¼Œè¦æ±‚æ„é€ ä¸¤ä¸ªå°†è¿™ <span class="math inline">\(n\)</span> ä¸ªéª¨ç‰Œä¸é‡å æ”¾å…¥ <span class="math inline">\(m\times k = 2n\)</span> çš„æ£‹ç›˜ <span class="math inline">\(a_{m\times k}\)</span> ä¸­çš„æ–¹æ¡ˆï¼Œæ»¡è¶³å¯¹åº”ä½ç½®ä¸Šçš„æ•°å­—ä¸€æ ·ï¼Œä¸”è¦æ±‚ä¸¤ç§æ–¹æ¡ˆä¸­éª¨ç‰Œçš„ä½ç½®å…¨éƒ¨ä¸ä¸€æ ·ï¼Œæˆ–æŠ¥å‘Šæ— è§£ã€‚<span class="math inline">\(n\le 3\times 10^5\)</span>ã€‚</p>
<p>æœ‰ç‚¹æµæ°“äº†å“ˆï¼Œç‰›é€¼æ„é€ ã€‚</p>
<p>å¯¹äºæ¯å¼ å¤šç±³è¯ºéª¨ç‰Œ <span class="math inline">\((x_i, y_i)\)</span>ï¼Œè¿ä¸€æ¡æ— å‘è¾¹ <span class="math inline">\(x\to y\)</span>ã€‚ç„¶åä¼šå‘ç°ï¼Œè‹¥ä¸€ä¸ªè¿é€šåˆ†é‡é‡Œé¢æ°å¥½åªæœ‰ <span class="math inline">\(1\)</span> æ¡è¾¹ï¼Œè¯´æ˜è¿™æ¡è¾¹ä»£è¡¨çš„å¤šç±³è¯ºéª¨ç‰Œåªæœ‰ä¸€ç§æ‘†æ³•ï¼Œå› æ­¤æ— è§£ã€‚</p>
<p>å¦åˆ™æ€»èƒ½æ„é€ å‡ºä¸€ä¸ª <span class="math inline">\(2\times k\)</span> çš„æ£‹ç›˜ï¼ˆ<span class="math inline">\(k\)</span> ä¸ºè¿é€šåˆ†é‡å†…è¾¹æ•°ï¼‰ï¼Œè§ä¸‹ã€‚</p>
<p>æˆ‘ä»¬éšä¾¿å¯¹è¿™å¼ å›¾è¿›è¡Œæ¬§æ‹‰éå†ï¼ˆå°±æ˜¯ dfs éå†æ²¡æœ‰éå†çš„è¾¹ï¼Œç„¶åå°†ç»è¿‡çš„è¾¹å­˜ä¸‹æ¥ï¼‰ï¼Œç„¶åä¼šå‘ç°æ¯æ¡è¾¹éƒ½æ°å¥½åœ¨è¿™ä¸ªæ¬§æ‹‰åºä¸­å‡ºç°ä¸¤æ¬¡ï¼ˆè€ƒè™‘æ¬§æ‹‰åºçš„æ€§è´¨ï¼‰ï¼Œå¹¶ä¸”<strong>ä¸¤æ¬¡å‡ºç°çš„ä½ç½®çš„å¥‡å¶æ€§ä¸ä¸€æ ·</strong>ã€‚</p>
<p>å¦‚ä½•è¯æ˜ï¼Ÿè€ƒè™‘è¾¹ <span class="math inline">\(e=u\to v\)</span>ï¼Œè‹¥æˆ‘ä»¬çš„ dfs ç›´æ¥è¿”å›ï¼Œåˆ™æ¬§æ‹‰åºåˆ—ä¸­ä¼šå½¢æˆ <span class="math inline">\(e,e\)</span>ï¼Œä¸¤æ¬¡å‡ºç°ä½ç½®çš„å¥‡å¶æ€§æ˜¾ç„¶ä¸åŒã€‚å¦‚æœè¿˜è¦ç»§ç»­éå†ï¼Œç”±äºæˆ‘ä»¬ä¹‹åéå†çš„è¾¹ä¸€å®šç»å†äº†å›æº¯è¿‡ç¨‹ï¼Œæ‰€ä»¥ä¸¤ä¸ª <span class="math inline">\(e\)</span> ä¸­é—´å¤¹ç€å¶æ•°æ¡è¾¹ï¼Œ<span class="math inline">\(e\)</span> å‡ºç°ä½ç½®çš„å¥‡å¶æ€§ä»ç„¶ä¸åŒã€‚</p>
<p>å¦‚æœè€ƒè™‘ç‚¹çš„éå†åºï¼Œåˆ™æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(2k + 1\)</span> çš„é¦–å°¾ç›¸æ¥çš„åºåˆ—ï¼ˆè¿˜æ˜¯è€ƒè™‘æ¬§æ‹‰åºçš„æ€§è´¨ï¼‰ï¼Œç„¶åå°†æœ€åä¸€ä¸ªå…ƒç´ å»æ‰å¹¶å°†å…¶ä¾æ¬¡é¡ºæ—¶é’ˆæ”¾å…¥ <span class="math inline">\(2\times k\)</span> çš„æ£‹ç›˜ä¸­ï¼Œç°åœ¨éª¨ç‰Œä»¬å¯¹åº”çš„ <span class="math inline">\(k\)</span> æ¡è¾¹å°±å½¢æˆäº†é•¿ <span class="math inline">\(2n\)</span> çš„ç¯ã€‚å› ä¸ºæ¯å¼ éª¨ç‰Œ<strong>å‡ºç°ä½ç½®çš„å¥‡å¶æ€§ä¸ä¸€æ ·</strong>ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¸¤ç§æ„é€ æ€»ä¼šæ˜¯åˆæ³•çš„ï¼ˆå›¾æºå®˜æ–¹é¢˜è§£ï¼‰ï¼š</p>
<p><img src="https://espresso.codeforces.com/8d975bc11693b0864bbc0b6e19423e4954b1b282.png"/></p>
<p>äºæ˜¯å¯¹äºä¸€ä¸ªè¿é€šå—æˆ‘ä»¬å°±æå®šäº†ã€‚å¯¹äºå¤šä¸ªè¿é€šå—çš„æƒ…å†µï¼ŒæŠŠå¾—åˆ°çš„ <span class="math inline">\(2\times k\)</span> æ£‹ç›˜ä»¬æ‹¼ä¸€èµ·å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(n)\)</span>ã€‚</p>
<p><img src="https://espresso.codeforces.com/211398dfdf9487ee70a6b189aa834b35c0dd601f.png"/></p>
<p>ï¼ˆå¯èƒ½æœ‰ä¸Šé¢çš„å›¾æ›´å¥½ç†è§£äº›ï¼‰</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb42-1"><a aria-hidden="true" href="#cb42-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb42-2"><a aria-hidden="true" href="#cb42-2"></a><span class="pp">#define il </span><span class="kw">inline</span></span>
<span id="cb42-3"><a aria-hidden="true" href="#cb42-3"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb42-4"><a aria-hidden="true" href="#cb42-4"></a><span class="pp">#define DEC</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&gt;=<span class="pp"> </span>(b);<span class="pp"> </span>--i)</span>
<span id="cb42-5"><a aria-hidden="true" href="#cb42-5"></a></span>
<span id="cb42-6"><a aria-hidden="true" href="#cb42-6"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb42-7"><a aria-hidden="true" href="#cb42-7"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">3e5</span> + <span class="dv">5</span>;</span>
<span id="cb42-8"><a aria-hidden="true" href="#cb42-8"></a><span class="dt">int</span> head[maxn &lt;&lt; <span class="dv">1</span>], to[maxn &lt;&lt; <span class="dv">2</span>], nxt[maxn &lt;&lt; <span class="dv">2</span>], cnte = <span class="dv">1</span>;</span>
<span id="cb42-9"><a aria-hidden="true" href="#cb42-9"></a><span class="dt">int</span> n, vis[maxn &lt;&lt; <span class="dv">1</span>], vise[maxn &lt;&lt; <span class="dv">2</span>];</span>
<span id="cb42-10"><a aria-hidden="true" href="#cb42-10"></a></span>
<span id="cb42-11"><a aria-hidden="true" href="#cb42-11"></a>il <span class="dt">void</span> add(<span class="dt">int</span> u, <span class="dt">int</span> v) {</span>
<span id="cb42-12"><a aria-hidden="true" href="#cb42-12"></a>    to[++cnte] = v;</span>
<span id="cb42-13"><a aria-hidden="true" href="#cb42-13"></a>    nxt[cnte] = head[u];</span>
<span id="cb42-14"><a aria-hidden="true" href="#cb42-14"></a>    head[u] = cnte;</span>
<span id="cb42-15"><a aria-hidden="true" href="#cb42-15"></a>    <span class="cf">return</span>;</span>
<span id="cb42-16"><a aria-hidden="true" href="#cb42-16"></a>}</span>
<span id="cb42-17"><a aria-hidden="true" href="#cb42-17"></a></span>
<span id="cb42-18"><a aria-hidden="true" href="#cb42-18"></a>vector&lt;<span class="dt">int</span>&gt; path;</span>
<span id="cb42-19"><a aria-hidden="true" href="#cb42-19"></a></span>
<span id="cb42-20"><a aria-hidden="true" href="#cb42-20"></a><span class="dt">void</span> dfs(<span class="dt">int</span> u, <span class="dt">int</span> pre) {</span>
<span id="cb42-21"><a aria-hidden="true" href="#cb42-21"></a>    path.push_back(u);</span>
<span id="cb42-22"><a aria-hidden="true" href="#cb42-22"></a>    <span class="cf">if</span> (vis[u]) <span class="cf">return</span>;</span>
<span id="cb42-23"><a aria-hidden="true" href="#cb42-23"></a>    vis[u] = <span class="dv">1</span>;</span>
<span id="cb42-24"><a aria-hidden="true" href="#cb42-24"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = head[u]; i; i = nxt[i]) <span class="cf">if</span> (!vise[i]) {</span>
<span id="cb42-25"><a aria-hidden="true" href="#cb42-25"></a>        vise[i] = vise[i ^ <span class="dv">1</span>] = <span class="dv">1</span>;</span>
<span id="cb42-26"><a aria-hidden="true" href="#cb42-26"></a>        dfs(to[i], i);</span>
<span id="cb42-27"><a aria-hidden="true" href="#cb42-27"></a>        path.push_back(u);</span>
<span id="cb42-28"><a aria-hidden="true" href="#cb42-28"></a>    }</span>
<span id="cb42-29"><a aria-hidden="true" href="#cb42-29"></a>    <span class="cf">return</span>;</span>
<span id="cb42-30"><a aria-hidden="true" href="#cb42-30"></a>}</span>
<span id="cb42-31"><a aria-hidden="true" href="#cb42-31"></a></span>
<span id="cb42-32"><a aria-hidden="true" href="#cb42-32"></a><span class="dt">int</span> ans[<span class="dv">2</span>][maxn];</span>
<span id="cb42-33"><a aria-hidden="true" href="#cb42-33"></a><span class="dt">char</span> sol1[<span class="dv">2</span>][maxn], sol2[<span class="dv">2</span>][maxn];</span>
<span id="cb42-34"><a aria-hidden="true" href="#cb42-34"></a></span>
<span id="cb42-35"><a aria-hidden="true" href="#cb42-35"></a><span class="dt">int</span> main() {</span>
<span id="cb42-36"><a aria-hidden="true" href="#cb42-36"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb42-37"><a aria-hidden="true" href="#cb42-37"></a>    cin &gt;&gt; n;</span>
<span id="cb42-38"><a aria-hidden="true" href="#cb42-38"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb42-39"><a aria-hidden="true" href="#cb42-39"></a>        <span class="dt">int</span> x, y; cin &gt;&gt; x &gt;&gt; y;</span>
<span id="cb42-40"><a aria-hidden="true" href="#cb42-40"></a>        add(x, y), add(y, x);</span>
<span id="cb42-41"><a aria-hidden="true" href="#cb42-41"></a>    }</span>
<span id="cb42-42"><a aria-hidden="true" href="#cb42-42"></a>    <span class="dt">int</span> col = <span class="dv">0</span>;</span>
<span id="cb42-43"><a aria-hidden="true" href="#cb42-43"></a>    FOR(i, <span class="dv">1</span>, n &lt;&lt; <span class="dv">1</span>) <span class="cf">if</span> (!vis[i]) {</span>
<span id="cb42-44"><a aria-hidden="true" href="#cb42-44"></a>        vector&lt;<span class="dt">int</span>&gt;().swap(path);</span>
<span id="cb42-45"><a aria-hidden="true" href="#cb42-45"></a>        dfs(i, <span class="dv">0</span>);</span>
<span id="cb42-46"><a aria-hidden="true" href="#cb42-46"></a>        <span class="cf">if</span> (path.size() == <span class="dv">3</span>) <span class="cf">return</span> puts(<span class="st">"-1"</span>), <span class="dv">0</span>;</span>
<span id="cb42-47"><a aria-hidden="true" href="#cb42-47"></a>        <span class="cf">else</span> <span class="cf">if</span> (path.size() &lt; <span class="dv">3</span>) <span class="cf">continue</span>;</span>
<span id="cb42-48"><a aria-hidden="true" href="#cb42-48"></a>        path.pop_back();</span>
<span id="cb42-49"><a aria-hidden="true" href="#cb42-49"></a>        <span class="dt">int</span> k = path.size() &gt;&gt; <span class="dv">1</span>;</span>
<span id="cb42-50"><a aria-hidden="true" href="#cb42-50"></a>        <span class="kw">auto</span> it = path.begin();</span>
<span id="cb42-51"><a aria-hidden="true" href="#cb42-51"></a>        FOR(i, <span class="dv">1</span>, k) ans[<span class="dv">0</span>][i + col] = *it++;</span>
<span id="cb42-52"><a aria-hidden="true" href="#cb42-52"></a>        DEC(i, k, <span class="dv">1</span>) ans[<span class="dv">1</span>][i + col] = *it++;</span>
<span id="cb42-53"><a aria-hidden="true" href="#cb42-53"></a>        <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">2</span>; i &lt;= k; i += <span class="dv">2</span>) sol1[<span class="dv">0</span>][col + i] = sol1[<span class="dv">1</span>][col + i] = <span class="ch">'R'</span>, sol1[<span class="dv">0</span>][col + i - <span class="dv">1</span>] = sol1[<span class="dv">1</span>][col + i - <span class="dv">1</span>] = <span class="ch">'L'</span>;</span>
<span id="cb42-54"><a aria-hidden="true" href="#cb42-54"></a>        <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">3</span>; i &lt;= k; i += <span class="dv">2</span>) sol2[<span class="dv">0</span>][col + i] = sol2[<span class="dv">1</span>][col + i] = <span class="ch">'R'</span>, sol2[<span class="dv">0</span>][col + i - <span class="dv">1</span>] = sol2[<span class="dv">1</span>][col + i - <span class="dv">1</span>] = <span class="ch">'L'</span>;</span>
<span id="cb42-55"><a aria-hidden="true" href="#cb42-55"></a>        <span class="cf">if</span> (k &amp; <span class="dv">1</span>) sol1[<span class="dv">0</span>][col + k] = <span class="ch">'U'</span>, sol1[<span class="dv">1</span>][col + k] = <span class="ch">'D'</span>;</span>
<span id="cb42-56"><a aria-hidden="true" href="#cb42-56"></a>        <span class="cf">else</span> sol2[<span class="dv">0</span>][col + k] = <span class="ch">'U'</span>, sol2[<span class="dv">1</span>][col + k] = <span class="ch">'D'</span>;</span>
<span id="cb42-57"><a aria-hidden="true" href="#cb42-57"></a>        sol2[<span class="dv">0</span>][col + <span class="dv">1</span>] = <span class="ch">'U'</span>, sol2[<span class="dv">1</span>][col + <span class="dv">1</span>] = <span class="ch">'D'</span>;</span>
<span id="cb42-58"><a aria-hidden="true" href="#cb42-58"></a>        col += k;</span>
<span id="cb42-59"><a aria-hidden="true" href="#cb42-59"></a>    }</span>
<span id="cb42-60"><a aria-hidden="true" href="#cb42-60"></a>    cout &lt;&lt; <span class="dv">2</span> &lt;&lt; <span class="ch">' '</span> &lt;&lt; col &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb42-61"><a aria-hidden="true" href="#cb42-61"></a>    FOR(i, <span class="dv">0</span>, <span class="dv">1</span>) {</span>
<span id="cb42-62"><a aria-hidden="true" href="#cb42-62"></a>        FOR(j, <span class="dv">1</span>, col) cout &lt;&lt; ans[i][j] &lt;&lt; <span class="ch">' '</span>;</span>
<span id="cb42-63"><a aria-hidden="true" href="#cb42-63"></a>        cout &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb42-64"><a aria-hidden="true" href="#cb42-64"></a>    }</span>
<span id="cb42-65"><a aria-hidden="true" href="#cb42-65"></a>    FOR(i, <span class="dv">0</span>, <span class="dv">1</span>) {</span>
<span id="cb42-66"><a aria-hidden="true" href="#cb42-66"></a>        FOR(j, <span class="dv">1</span>, col) cout &lt;&lt; sol1[i][j];</span>
<span id="cb42-67"><a aria-hidden="true" href="#cb42-67"></a>        cout &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb42-68"><a aria-hidden="true" href="#cb42-68"></a>    }</span>
<span id="cb42-69"><a aria-hidden="true" href="#cb42-69"></a>    FOR(i, <span class="dv">0</span>, <span class="dv">1</span>) {</span>
<span id="cb42-70"><a aria-hidden="true" href="#cb42-70"></a>        FOR(j, <span class="dv">1</span>, col) cout &lt;&lt; sol2[i][j];</span>
<span id="cb42-71"><a aria-hidden="true" href="#cb42-71"></a>        cout &lt;&lt; <span class="ch">'</span><span class="sc">\n</span><span class="ch">'</span>;</span>
<span id="cb42-72"><a aria-hidden="true" href="#cb42-72"></a>    }</span>
<span id="cb42-73"><a aria-hidden="true" href="#cb42-73"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb42-74"><a aria-hidden="true" href="#cb42-74"></a>}</span></code></pre></div>
<h2 id="codeforces-round-802-div.-2">Codeforces Round #802 (Div. 2)</h2>
<h3 id="e---serega-the-pirate">1700E - Serega the Pirate</h3>
<p>é¦–å…ˆ <span class="math inline">\(0\)</span> å®¹æ˜“åˆ¤ï¼Œä¸‹é¢è€ƒè™‘å¦‚ä½•åˆ¤æ–­ <span class="math inline">\(1\)</span> å’Œ <span class="math inline">\(2\)</span> ä»¥åŠå¯¹æ–¹æ¡ˆè®¡æ•°ã€‚</p>
<p>å®¹æ˜“å‘ç°æ•´ä¸ªçŸ©é˜µå¯è§£ç­‰ä»·äºå¯¹äºæ¯ä¸ª <span class="math inline">\(&gt;1\)</span> çš„æ ¼å­éƒ½å­˜åœ¨æƒå€¼å°äºä»–çš„æ ¼å­ä¸å…¶å››è”é€šï¼Œå……åˆ†æ€§å¯ä½¿ç”¨å½’çº³è¯æ˜ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å°±å°†é‚£äº›å››å‘¨ä¸å­˜åœ¨æ¯”ä»–å°ä¸” <span class="math inline">\(&gt; 1\)</span> çš„æ ¼å­ä¸ºåçš„ã€‚</p>
<p>ä¸€æ¬¡äº¤æ¢æˆ‘ä»¬æœ€å¤šå¯ä»¥æ”¹å˜ <span class="math inline">\(10\)</span> ä¸ªæ ¼å­çš„çŠ¶æ€ï¼ˆä¸¤ä¸ªæœ¬èº«ï¼Œä»¥åŠä»–ä»¬å››å‘¨ï¼‰ï¼Œæ‰€ä»¥åç‚¹å¤šäº <span class="math inline">\(10\)</span> ä¸ªç­”æ¡ˆå¿…ç„¶æ˜¯ Noã€‚</p>
<p>å¹¶ä¸”ï¼Œä¸€æ¬¡äº¤æ¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬äº¤æ¢çš„å…¶ä¸­ä¸€ä¸ªç‚¹å¿…ç„¶æ˜¯æŸä¸ªåç‚¹æˆ–å…¶æ—è¾¹çš„å››ä¸ªæ ¼å­ï¼Œä¸€å…± <span class="math inline">\(5\)</span> ä¸ªæ ¼å­ï¼Œè€ƒè™‘æšä¸¾ä¹‹ã€‚</p>
<p>ç„¶å <span class="math inline">\(O(nm)\)</span> æšä¸¾å¦ä¸€ä¸ªç‚¹ï¼Œäº¤æ¢çš„æ—¶å€™æˆ‘ä»¬åªéœ€åˆ¤æ–­</p>
<ul>
<li>æ‰€æœ‰çš„åç‚¹æ˜¯å¦è¢«éƒ½è¦†ç›–åˆ°äº†ï¼ˆæœ€å¤š <span class="math inline">\(10\)</span> ä¸ªï¼‰ï¼›</li>
<li>äº¤æ¢ä¹‹åå½±å“åˆ°çš„æ ¼å­æ˜¯å¦åˆæ³•ï¼ˆæœ€å¤š <span class="math inline">\(10\)</span> ä¸ªï¼‰ã€‚</li>
</ul>
<p>æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(nm)\)</span>ï¼Œå¸¦ä¸€ä¸ª <span class="math inline">\(20\times 5\)</span> çš„å¸¸æ•°ã€‚ä¸º <span class="math inline">\(1\)</span> çš„æƒ…å†µè·‘çš„æ—¶å€™é¡ºä¾¿å°±å¯ä»¥è®¡æ•°ï¼Œå¦‚æœè·‘ä¸å‡ºæ¥é‚£ä¹ˆå°±æ˜¯ <span class="math inline">\(2\)</span>ã€‚</p>
<p>å®é™…å®ç°éœ€è¦æ³¨æ„å¸¸æ•°é—®é¢˜ï¼Œä»¥åŠ<strong>è·‘ç‚¹å¯¹çš„æ—¶å€™è¦å»é‡</strong>ã€‚</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb43-1"><a aria-hidden="true" href="#cb43-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb43-2"><a aria-hidden="true" href="#cb43-2"></a><span class="pp">#define il </span><span class="kw">inline</span></span>
<span id="cb43-3"><a aria-hidden="true" href="#cb43-3"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb43-4"><a aria-hidden="true" href="#cb43-4"></a><span class="pp">#define szof</span>(a)<span class="pp"> </span>((<span class="dt">int</span>)<span class="pp"> </span>(a).size())</span>
<span id="cb43-5"><a aria-hidden="true" href="#cb43-5"></a></span>
<span id="cb43-6"><a aria-hidden="true" href="#cb43-6"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb43-7"><a aria-hidden="true" href="#cb43-7"></a><span class="kw">using</span> pii = pair&lt;<span class="dt">int</span>, <span class="dt">int</span>&gt;;</span>
<span id="cb43-8"><a aria-hidden="true" href="#cb43-8"></a><span class="dt">int</span> n, m, ans;</span>
<span id="cb43-9"><a aria-hidden="true" href="#cb43-9"></a>vector&lt;vector&lt;<span class="dt">int</span>&gt; &gt; a, vis, val;</span>
<span id="cb43-10"><a aria-hidden="true" href="#cb43-10"></a>vector&lt;pii&gt; bad;</span>
<span id="cb43-11"><a aria-hidden="true" href="#cb43-11"></a><span class="at">const</span> <span class="dt">int</span> fx[] = {<span class="dv">1</span>, -<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>};</span>
<span id="cb43-12"><a aria-hidden="true" href="#cb43-12"></a><span class="at">const</span> <span class="dt">int</span> fy[] = {<span class="dv">0</span>, <span class="dv">0</span>, -<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>};</span>
<span id="cb43-13"><a aria-hidden="true" href="#cb43-13"></a></span>
<span id="cb43-14"><a aria-hidden="true" href="#cb43-14"></a>il <span class="dt">bool</span> bound(<span class="dt">int</span> x, <span class="dt">int</span> y) {</span>
<span id="cb43-15"><a aria-hidden="true" href="#cb43-15"></a>    <span class="cf">return</span> x &lt;= n &amp;&amp; y &lt;= m &amp;&amp; x &gt;= <span class="dv">1</span> &amp;&amp; y &gt;= <span class="dv">1</span>;</span>
<span id="cb43-16"><a aria-hidden="true" href="#cb43-16"></a>}</span>
<span id="cb43-17"><a aria-hidden="true" href="#cb43-17"></a></span>
<span id="cb43-18"><a aria-hidden="true" href="#cb43-18"></a>il <span class="dt">bool</span> check(<span class="dt">int</span> x, <span class="dt">int</span> y) {</span>
<span id="cb43-19"><a aria-hidden="true" href="#cb43-19"></a>    <span class="cf">return</span> a[x][y] == <span class="dv">1</span> ||</span>
<span id="cb43-20"><a aria-hidden="true" href="#cb43-20"></a>           (x + <span class="dv">1</span> &lt;= n &amp;&amp; a[x][y] &gt; a[x + <span class="dv">1</span>][y]) ||</span>
<span id="cb43-21"><a aria-hidden="true" href="#cb43-21"></a>           (x - <span class="dv">1</span> &gt;= <span class="dv">1</span> &amp;&amp; a[x][y] &gt; a[x - <span class="dv">1</span>][y]) ||</span>
<span id="cb43-22"><a aria-hidden="true" href="#cb43-22"></a>           (y + <span class="dv">1</span> &lt;= m &amp;&amp; a[x][y] &gt; a[x][y + <span class="dv">1</span>]) ||</span>
<span id="cb43-23"><a aria-hidden="true" href="#cb43-23"></a>           (y - <span class="dv">1</span> &gt;= <span class="dv">1</span> &amp;&amp; a[x][y] &gt; a[x][y - <span class="dv">1</span>]);</span>
<span id="cb43-24"><a aria-hidden="true" href="#cb43-24"></a>}</span>
<span id="cb43-25"><a aria-hidden="true" href="#cb43-25"></a></span>
<span id="cb43-26"><a aria-hidden="true" href="#cb43-26"></a><span class="dt">bool</span> check(<span class="dt">int</span> x1, <span class="dt">int</span> y1, <span class="dt">int</span> x2, <span class="dt">int</span> y2) {</span>
<span id="cb43-27"><a aria-hidden="true" href="#cb43-27"></a>    swap(a[x1][y1], a[x2][y2]);</span>
<span id="cb43-28"><a aria-hidden="true" href="#cb43-28"></a>    <span class="dt">int</span> cnt = <span class="dv">0</span>;</span>
<span id="cb43-29"><a aria-hidden="true" href="#cb43-29"></a>    FOR(k, <span class="dv">0</span>, <span class="dv">4</span>) {</span>
<span id="cb43-30"><a aria-hidden="true" href="#cb43-30"></a>        <span class="dt">int</span> x = x1 + fx[k], y = y1 + fy[k];</span>
<span id="cb43-31"><a aria-hidden="true" href="#cb43-31"></a>        <span class="cf">if</span> (!bound(x, y) || vis[x][y]) <span class="cf">continue</span>;</span>
<span id="cb43-32"><a aria-hidden="true" href="#cb43-32"></a>        vis[x][y] = <span class="dv">1</span>, cnt += val[x][y] - (!check(x, y));</span>
<span id="cb43-33"><a aria-hidden="true" href="#cb43-33"></a>    }</span>
<span id="cb43-34"><a aria-hidden="true" href="#cb43-34"></a>    FOR(k, <span class="dv">0</span>, <span class="dv">4</span>) {</span>
<span id="cb43-35"><a aria-hidden="true" href="#cb43-35"></a>        <span class="dt">int</span> x = x2 + fx[k], y = y2 + fy[k];</span>
<span id="cb43-36"><a aria-hidden="true" href="#cb43-36"></a>        <span class="cf">if</span> (!bound(x, y) || vis[x][y]) <span class="cf">continue</span>;</span>
<span id="cb43-37"><a aria-hidden="true" href="#cb43-37"></a>        vis[x][y] = <span class="dv">1</span>, cnt += val[x][y] - (!check(x, y));</span>
<span id="cb43-38"><a aria-hidden="true" href="#cb43-38"></a>    }</span>
<span id="cb43-39"><a aria-hidden="true" href="#cb43-39"></a>    FOR(k, <span class="dv">0</span>, <span class="dv">4</span>) {</span>
<span id="cb43-40"><a aria-hidden="true" href="#cb43-40"></a>        <span class="dt">int</span> x = x1 + fx[k], y = y1 + fy[k];</span>
<span id="cb43-41"><a aria-hidden="true" href="#cb43-41"></a>        <span class="cf">if</span> (bound(x, y)) vis[x][y] = <span class="dv">0</span>;</span>
<span id="cb43-42"><a aria-hidden="true" href="#cb43-42"></a>        x = x2 + fx[k], y = y2 + fy[k];</span>
<span id="cb43-43"><a aria-hidden="true" href="#cb43-43"></a>        <span class="cf">if</span> (bound(x, y)) vis[x][y] = <span class="dv">0</span>;</span>
<span id="cb43-44"><a aria-hidden="true" href="#cb43-44"></a>    }</span>
<span id="cb43-45"><a aria-hidden="true" href="#cb43-45"></a>    swap(a[x1][y1], a[x2][y2]);</span>
<span id="cb43-46"><a aria-hidden="true" href="#cb43-46"></a>    <span class="cf">return</span> cnt == bad.size();</span>
<span id="cb43-47"><a aria-hidden="true" href="#cb43-47"></a>}</span>
<span id="cb43-48"><a aria-hidden="true" href="#cb43-48"></a></span>
<span id="cb43-49"><a aria-hidden="true" href="#cb43-49"></a>unordered_set&lt;<span class="dt">long</span> <span class="dt">long</span>&gt; S;</span>
<span id="cb43-50"><a aria-hidden="true" href="#cb43-50"></a></span>
<span id="cb43-51"><a aria-hidden="true" href="#cb43-51"></a><span class="dt">int</span> main() {</span>
<span id="cb43-52"><a aria-hidden="true" href="#cb43-52"></a>    ios::sync_with_stdio(<span class="kw">false</span>);</span>
<span id="cb43-53"><a aria-hidden="true" href="#cb43-53"></a>    cin &gt;&gt; n &gt;&gt; m;</span>
<span id="cb43-54"><a aria-hidden="true" href="#cb43-54"></a>    a.resize(n + <span class="dv">1</span>), vis.resize(n + <span class="dv">1</span>), val.resize(n + <span class="dv">1</span>);</span>
<span id="cb43-55"><a aria-hidden="true" href="#cb43-55"></a>    FOR(i, <span class="dv">1</span>, n) {</span>
<span id="cb43-56"><a aria-hidden="true" href="#cb43-56"></a>        a[i].resize(m + <span class="dv">1</span>), vis[i].resize(m + <span class="dv">1</span>), val[i].resize(m + <span class="dv">1</span>);</span>
<span id="cb43-57"><a aria-hidden="true" href="#cb43-57"></a>        FOR(j, <span class="dv">1</span>, m) cin &gt;&gt; a[i][j];</span>
<span id="cb43-58"><a aria-hidden="true" href="#cb43-58"></a>    }</span>
<span id="cb43-59"><a aria-hidden="true" href="#cb43-59"></a>    FOR(x, <span class="dv">1</span>, n) FOR(y, <span class="dv">1</span>, m) <span class="cf">if</span> (!check(x, y)) bad.push_back({x, y}), val[x][y] = <span class="dv">1</span>;</span>
<span id="cb43-60"><a aria-hidden="true" href="#cb43-60"></a>    <span class="cf">if</span> (bad.size() &gt; <span class="dv">10</span>) <span class="cf">return</span> puts(<span class="st">"2"</span>), <span class="dv">0</span>;</span>
<span id="cb43-61"><a aria-hidden="true" href="#cb43-61"></a>    <span class="cf">else</span> <span class="cf">if</span> (bad.empty()) <span class="cf">return</span> puts(<span class="st">"0"</span>), <span class="dv">0</span>;</span>
<span id="cb43-62"><a aria-hidden="true" href="#cb43-62"></a>    FOR(k, <span class="dv">0</span>, <span class="dv">4</span>) {</span>
<span id="cb43-63"><a aria-hidden="true" href="#cb43-63"></a>        <span class="dt">int</span> x = bad[<span class="dv">0</span>].first + fx[k], y = bad[<span class="dv">0</span>].second + fy[k];</span>
<span id="cb43-64"><a aria-hidden="true" href="#cb43-64"></a>        <span class="cf">if</span> (!bound(x, y)) <span class="cf">continue</span>;</span>
<span id="cb43-65"><a aria-hidden="true" href="#cb43-65"></a>        FOR(i, <span class="dv">1</span>, n) FOR(j, <span class="dv">1</span>, m) {</span>
<span id="cb43-66"><a aria-hidden="true" href="#cb43-66"></a>            <span class="dt">long</span> <span class="dt">long</span> hsh1 = ((<span class="dv">1</span><span class="bu">ll</span> * (x - <span class="dv">1</span>) * m + y) * (n * m)) + ((i - <span class="dv">1</span>) * m + j),</span>
<span id="cb43-67"><a aria-hidden="true" href="#cb43-67"></a>                    hsh2 = ((<span class="dv">1</span><span class="bu">ll</span> * (i - <span class="dv">1</span>) * m + j) * (n * m)) + ((x - <span class="dv">1</span>) * m + y);</span>
<span id="cb43-68"><a aria-hidden="true" href="#cb43-68"></a>            <span class="cf">if</span> (!S.count(hsh1) &amp;&amp; !S.count(hsh2)) ans += check(x, y, i, j), S.insert(hsh1), S.insert(hsh2);</span>
<span id="cb43-69"><a aria-hidden="true" href="#cb43-69"></a>        }</span>
<span id="cb43-70"><a aria-hidden="true" href="#cb43-70"></a>    }</span>
<span id="cb43-71"><a aria-hidden="true" href="#cb43-71"></a>    <span class="cf">if</span> (!ans) puts(<span class="st">"2"</span>);</span>
<span id="cb43-72"><a aria-hidden="true" href="#cb43-72"></a>    <span class="cf">else</span> printf(<span class="st">"1 </span><span class="sc">%d\n</span><span class="st">"</span>, ans);</span>
<span id="cb43-73"><a aria-hidden="true" href="#cb43-73"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb43-74"><a aria-hidden="true" href="#cb43-74"></a>}</span></code></pre></div>
<h2 id="codeforces-round-807-div-2.">Codeforces Round #807 (Div 2.)</h2>
<h3 id="f---mark-and-the-online-exam">1705F - Mark and the Online Exam</h3>
<p>é¢˜æ„ï¼šçŒœä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(n\le 1000\)</span> çš„ 0-1 åºåˆ—ï¼Œæœ€å¤šçŒœ <span class="math inline">\(675\)</span> æ¬¡ï¼Œäº¤äº’åº“ä¼šè¿”å›çŒœå¯¹çš„ä½ç½®æ•°ã€‚</p>
<p><a href="https://www.luogu.com.cn/problem/T183641">åŸé¢˜</a>ï¼Œ<a href="https://www.luogu.com.cn/problem/P7848">åŸé¢˜</a>ï¼Œ<a href="https://www.luogu.com.cn/blog/1973224568qq/kao-shi-2021-coe-iii-d#">é¢˜è§£</a>ï¼Œå…¶å¯¹äº <span class="math inline">\(n=5000\)</span> çš„é™åˆ¶ä¸º <span class="math inline">\(q\le 1026\)</span>ï¼Œå³ <span class="math inline">\(n / \log n\)</span> çº§åˆ«ã€‚</p>
<p>æ­¤å¤„æµ…ç¿»è¯‘ä¸€ä¸‹å®˜æ–¹é¢˜è§£çš„ <span class="math inline">\(q \approx 2/3n\)</span> çš„åšæ³•ã€‚</p>
<p>é¦–å…ˆé¢„å¤„ç†è¯¢é—® <code>TTT...TTT</code> å’Œ <code>TFTFTF...TF</code>ï¼Œç„¶åå¯¹äº <span class="math inline">\(i= 1,2,\cdots, \lfloor n /3\rfloor\)</span>ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾è®¡ç®— <span class="math inline">\(2i - 1\)</span> å’Œ <span class="math inline">\(2i\)</span> çš„ç­”æ¡ˆï¼Œå…·ä½“åœ°æˆ‘ä»¬å°†å…¶è®¾ä¸º <code>F</code>ï¼Œå…¶ä»–éƒ½æ˜¯ <code>T</code>ï¼Œç„¶åç®—å¾—çš„ç­”æ¡ˆå’Œå…¨ <code>T</code> çš„æ¯”è¾ƒï¼š</p>
<ul>
<li><span class="math inline">\(+2\)</span>ï¼Œåˆ™ä¸¤ä¸ªéƒ½æ˜¯ <code>F</code>ã€‚</li>
<li><span class="math inline">\(-1\)</span>ï¼Œåˆ™ä¸¤ä¸ªéƒ½æ˜¯ <code>T</code>ã€‚</li>
<li><span class="math inline">\(0\)</span>ï¼Œåˆ™è¦ä¹ˆ <code>FT</code> è¦ä¹ˆ <code>TR</code>ã€‚</li>
</ul>
<p>å¯¹äºå¦å¤–ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€æ¬¡é¢å¤–çš„è¯¢é—®æ¥åˆ¤æ–­ï¼Œå³å°†å…¶ä¸ <code>TFTFTF...</code> çš„æ¯”è¾ƒï¼š <span class="math display">\[
\begin{aligned}
\mathrm{TFTF}...\mathrm{TF}...\mathrm{T}...\mathrm{TF}\\
\mathrm{TFTF}...\mathrm{\color{red}FT}...\mathrm{\color{red}F}...\mathrm{TF}\\
\end{aligned}
\]</span></p>
<ul>
<li>ç­”æ¡ˆä¸º <code>TFT</code>ï¼Œåˆ™å·®è·ä¸º <span class="math inline">\(-3\)</span>ï¼›</li>
<li>ç­”æ¡ˆä¸º <code>TFF</code>ï¼Œåˆ™å·®è·ä¸º <span class="math inline">\(-1\)</span>ï¼›</li>
<li>ç­”æ¡ˆä¸º <code>FTT</code>ï¼Œåˆ™å·®è·ä¸º <span class="math inline">\(+1\)</span>ï¼›</li>
<li>ç­”æ¡ˆä¸º <code>FTF</code>ï¼Œåˆ™å·®è·ä¸º <span class="math inline">\(+3\)</span>ï¼›</li>
</ul>
<p>äºæ˜¯æˆ‘ä»¬å¾€å³è¾¹å¤šè¯¢é—®ä¸€ä½å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆäº†ã€‚è§£å†³ <span class="math inline">\(3\)</span> ä¸ªä½ç½®éœ€è¦ä¸¤ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥ <span class="math inline">\(q\)</span> çš„çº§åˆ«å¤§æ¦‚æ˜¯ <span class="math inline">\(2/3q\)</span>ï¼Œè¶³ä»¥é€šè¿‡æœ¬é¢˜ã€‚</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb44-1"><a aria-hidden="true" href="#cb44-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb44-2"><a aria-hidden="true" href="#cb44-2"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb44-3"><a aria-hidden="true" href="#cb44-3"></a></span>
<span id="cb44-4"><a aria-hidden="true" href="#cb44-4"></a><span class="dt">int</span> n;</span>
<span id="cb44-5"><a aria-hidden="true" href="#cb44-5"></a></span>
<span id="cb44-6"><a aria-hidden="true" href="#cb44-6"></a><span class="dt">int</span> query(string s) {</span>
<span id="cb44-7"><a aria-hidden="true" href="#cb44-7"></a>    cout &lt;&lt; s &lt;&lt; endl;</span>
<span id="cb44-8"><a aria-hidden="true" href="#cb44-8"></a>    cout.flush();</span>
<span id="cb44-9"><a aria-hidden="true" href="#cb44-9"></a>    <span class="dt">int</span> x; cin &gt;&gt; x;</span>
<span id="cb44-10"><a aria-hidden="true" href="#cb44-10"></a>    <span class="cf">if</span> (x == n) puts(n &gt; <span class="dv">100</span> ? <span class="st">"sb"</span> : <span class="st">""</span>), exit(<span class="dv">0</span>);</span>
<span id="cb44-11"><a aria-hidden="true" href="#cb44-11"></a>    <span class="cf">return</span> x;</span>
<span id="cb44-12"><a aria-hidden="true" href="#cb44-12"></a>}</span>
<span id="cb44-13"><a aria-hidden="true" href="#cb44-13"></a></span>
<span id="cb44-14"><a aria-hidden="true" href="#cb44-14"></a><span class="dt">int</span> main() {</span>
<span id="cb44-15"><a aria-hidden="true" href="#cb44-15"></a>    cin &gt;&gt; n;</span>
<span id="cb44-16"><a aria-hidden="true" href="#cb44-16"></a>    string allT(n, <span class="ch">'T'</span>), ans(n, <span class="ch">'?'</span>);</span>
<span id="cb44-17"><a aria-hidden="true" href="#cb44-17"></a>    <span class="dt">int</span> cntT = query(allT);</span>
<span id="cb44-18"><a aria-hidden="true" href="#cb44-18"></a></span>
<span id="cb44-19"><a aria-hidden="true" href="#cb44-19"></a>    string allTF(n, <span class="ch">'T'</span>);</span>
<span id="cb44-20"><a aria-hidden="true" href="#cb44-20"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>; i &lt; n; i += <span class="dv">2</span>) allTF[i] = <span class="ch">'F'</span>;</span>
<span id="cb44-21"><a aria-hidden="true" href="#cb44-21"></a>    <span class="dt">int</span> cntTF = query(allTF);</span>
<span id="cb44-22"><a aria-hidden="true" href="#cb44-22"></a></span>
<span id="cb44-23"><a aria-hidden="true" href="#cb44-23"></a>    <span class="dt">int</span> l = <span class="dv">0</span>, r = n - <span class="dv">1</span>;</span>
<span id="cb44-24"><a aria-hidden="true" href="#cb44-24"></a>    <span class="cf">while</span> (r &gt;= l) {</span>
<span id="cb44-25"><a aria-hidden="true" href="#cb44-25"></a>        <span class="cf">if</span> (r == l) {</span>
<span id="cb44-26"><a aria-hidden="true" href="#cb44-26"></a>            string s(allT);</span>
<span id="cb44-27"><a aria-hidden="true" href="#cb44-27"></a>            s[l] = <span class="ch">'F'</span>;</span>
<span id="cb44-28"><a aria-hidden="true" href="#cb44-28"></a>            <span class="dt">int</span> k = query(s);</span>
<span id="cb44-29"><a aria-hidden="true" href="#cb44-29"></a>            <span class="cf">if</span> (k &gt; cntT) ans[l] = <span class="ch">'F'</span>;</span>
<span id="cb44-30"><a aria-hidden="true" href="#cb44-30"></a>            <span class="cf">else</span> ans[l] = <span class="ch">'T'</span>;</span>
<span id="cb44-31"><a aria-hidden="true" href="#cb44-31"></a>            ++l, --r;</span>
<span id="cb44-32"><a aria-hidden="true" href="#cb44-32"></a>        } <span class="cf">else</span> {</span>
<span id="cb44-33"><a aria-hidden="true" href="#cb44-33"></a>            string s(allT);</span>
<span id="cb44-34"><a aria-hidden="true" href="#cb44-34"></a>            s[l] = <span class="ch">'F'</span>, s[l + <span class="dv">1</span>] = <span class="ch">'F'</span>;</span>
<span id="cb44-35"><a aria-hidden="true" href="#cb44-35"></a>            <span class="dt">int</span> k = query(s) - cntT;</span>
<span id="cb44-36"><a aria-hidden="true" href="#cb44-36"></a>            <span class="cf">if</span> (k == <span class="dv">2</span>) {</span>
<span id="cb44-37"><a aria-hidden="true" href="#cb44-37"></a>                ans[l] = ans[l + <span class="dv">1</span>] = <span class="ch">'F'</span>;</span>
<span id="cb44-38"><a aria-hidden="true" href="#cb44-38"></a>                l += <span class="dv">2</span>;</span>
<span id="cb44-39"><a aria-hidden="true" href="#cb44-39"></a>            } <span class="cf">else</span> <span class="cf">if</span> (k == -<span class="dv">2</span>) {</span>
<span id="cb44-40"><a aria-hidden="true" href="#cb44-40"></a>                ans[l] = ans[l + <span class="dv">1</span>] = <span class="ch">'T'</span>;</span>
<span id="cb44-41"><a aria-hidden="true" href="#cb44-41"></a>                l += <span class="dv">2</span>;</span>
<span id="cb44-42"><a aria-hidden="true" href="#cb44-42"></a>            } <span class="cf">else</span> {</span>
<span id="cb44-43"><a aria-hidden="true" href="#cb44-43"></a>                <span class="cf">if</span> (r == l + <span class="dv">1</span>) {</span>
<span id="cb44-44"><a aria-hidden="true" href="#cb44-44"></a>                    s = allT, s[l] = <span class="ch">'F'</span>;</span>
<span id="cb44-45"><a aria-hidden="true" href="#cb44-45"></a>                    <span class="dt">int</span> k = query(s);</span>
<span id="cb44-46"><a aria-hidden="true" href="#cb44-46"></a>                    <span class="cf">if</span> (k &gt; cntT) ans[l] = <span class="ch">'F'</span>, ans[l + <span class="dv">1</span>] = <span class="ch">'T'</span>;</span>
<span id="cb44-47"><a aria-hidden="true" href="#cb44-47"></a>                    <span class="cf">else</span> ans[l] = <span class="ch">'T'</span>, ans[l + <span class="dv">1</span>] = <span class="ch">'F'</span>;</span>
<span id="cb44-48"><a aria-hidden="true" href="#cb44-48"></a>                    l += <span class="dv">2</span>;</span>
<span id="cb44-49"><a aria-hidden="true" href="#cb44-49"></a>                } <span class="cf">else</span> {</span>
<span id="cb44-50"><a aria-hidden="true" href="#cb44-50"></a>                    s = allTF;</span>
<span id="cb44-51"><a aria-hidden="true" href="#cb44-51"></a>                    s[l] = <span class="ch">'F'</span>, s[l + <span class="dv">1</span>] = <span class="ch">'T'</span>;</span>
<span id="cb44-52"><a aria-hidden="true" href="#cb44-52"></a>                    <span class="cf">if</span> (s[r] == <span class="ch">'F'</span>) s[r] = <span class="ch">'T'</span>;</span>
<span id="cb44-53"><a aria-hidden="true" href="#cb44-53"></a>                    <span class="cf">else</span> s[r] = <span class="ch">'F'</span>;</span>
<span id="cb44-54"><a aria-hidden="true" href="#cb44-54"></a></span>
<span id="cb44-55"><a aria-hidden="true" href="#cb44-55"></a>                    <span class="dt">int</span> k = query(s) - cntTF;</span>
<span id="cb44-56"><a aria-hidden="true" href="#cb44-56"></a>                    <span class="cf">if</span> (k == <span class="dv">3</span>) ans[l] = <span class="ch">'F'</span>, ans[l + <span class="dv">1</span>] = <span class="ch">'T'</span>, ans[r] = s[r];</span>
<span id="cb44-57"><a aria-hidden="true" href="#cb44-57"></a>                    <span class="cf">else</span> <span class="cf">if</span> (k == <span class="dv">1</span>) ans[l] = <span class="ch">'F'</span>, ans[l + <span class="dv">1</span>] = <span class="ch">'T'</span>, ans[r] = allTF[r];</span>
<span id="cb44-58"><a aria-hidden="true" href="#cb44-58"></a>                    <span class="cf">else</span> <span class="cf">if</span> (k == -<span class="dv">1</span>) ans[l] = <span class="ch">'T'</span>, ans[l + <span class="dv">1</span>] = <span class="ch">'F'</span>, ans[r] = s[r];</span>
<span id="cb44-59"><a aria-hidden="true" href="#cb44-59"></a>                    <span class="cf">else</span> ans[l] = <span class="ch">'T'</span>, ans[l + <span class="dv">1</span>] = <span class="ch">'F'</span>, ans[r] = allTF[r];</span>
<span id="cb44-60"><a aria-hidden="true" href="#cb44-60"></a></span>
<span id="cb44-61"><a aria-hidden="true" href="#cb44-61"></a>                    l += <span class="dv">2</span>, --r;</span>
<span id="cb44-62"><a aria-hidden="true" href="#cb44-62"></a>                }</span>
<span id="cb44-63"><a aria-hidden="true" href="#cb44-63"></a>            }</span>
<span id="cb44-64"><a aria-hidden="true" href="#cb44-64"></a>        }</span>
<span id="cb44-65"><a aria-hidden="true" href="#cb44-65"></a>    }</span>
<span id="cb44-66"><a aria-hidden="true" href="#cb44-66"></a>    query(ans);</span>
<span id="cb44-67"><a aria-hidden="true" href="#cb44-67"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb44-68"><a aria-hidden="true" href="#cb44-68"></a>}</span></code></pre></div>
<h2 id="codeton-round-2">CodeTON Round 2</h2>
<h3 id="f---colouring-game">1704F - Colouring Game</h3>
<p>åœ¨æœ‰ <code>RB</code> å’Œ <code>BR</code> çš„æ—¶å€™ï¼ŒåŒæ–¹ç­–ç•¥éƒ½æ˜¯å…ˆç›´æ¥å»æ¶ˆè¿™ä¸ªï¼Œå› ä¸ºè¿™æ ·èƒ½å°½å¯èƒ½æ¶ˆè€—å¯¹é¢çš„å­—æ¯ã€‚</p>
<p>ç„¶åæ²¡æœ‰ç›¸é‚»çº¢è“æ–¹æ ¼ä¹‹åï¼Œè¿™ä¸ªè‚¯å®šå°±æ˜¯åæ‰‹å¿…èƒœäº†ã€‚æ‰€ä»¥åªè€ƒè™‘ç¬¬ä¸€é˜¶æ®µï¼Œå…¬å¹³ç»„åˆæ¸¸æˆï¼Œæ±‚ SGï¼Œæ‰“è¡¨</p>
<h2 id="codeforces-round-813-div.-2">Codeforces Round #813 (Div. 2)</h2>
<h3 id="e2---lcm-sum-hard-version">1712E2 - LCM Sum (hard version)</h3>
<p>é¢˜æ„ï¼šé—®æ»¡è¶³ <span class="math inline">\(l\le i&lt; j &lt; k\le r\)</span> ä¸” <span class="math inline">\(\operatorname{lcm}(i,j,k)\ge i + j + k\)</span> çš„ <span class="math inline">\((i,j,k)\)</span> å¯¹æ•°ã€‚<span class="math inline">\(T\le 2\times 10^5\)</span> ç»„è¯¢é—®ï¼Œ<span class="math inline">\(l,r\le 2\times 10^5\)</span>ã€‚</p>
<p>è€ƒè™‘ E1ï¼Œå³ <span class="math inline">\(T\)</span> å¾ˆå°çš„æƒ…å†µã€‚é¦–å…ˆè½¬åŒ–ä¸ºæ•° <span class="math inline">\([i,j,k] &lt; i + j +k\)</span> çš„æƒ…å†µï¼Œè€Œè¿™æ ·çš„ <span class="math inline">\([i,j,k]\)</span> æ˜¾ç„¶ <span class="math inline">\(&lt; 3k\)</span>ï¼Œæ‰€ä»¥å–å€¼åªèƒ½ä¸º <span class="math inline">\(k\)</span> æˆ– <span class="math inline">\(2k\)</span>ã€‚é‚£ä¹ˆè€ƒè™‘æšä¸¾ <span class="math inline">\(k\)</span>ï¼Œåˆ™ <span class="math inline">\([i,j,k] = k\)</span> çš„æƒ…å†µå¾ˆå¥½å¤„ç†ï¼Œå³ <span class="math inline">\(i,j\)</span> éœ€è¦ä¸º <span class="math inline">\(k\)</span> çš„å› æ•°ï¼Œæ­¤æ—¶æ˜¾ç„¶ <span class="math inline">\(k&lt;i + j + k\)</span>ï¼Œå¯ä»¥ <span class="math inline">\(O(n\log n)\)</span> è®¡ç®—ã€‚</p>
<p>å¯¹äº <span class="math inline">\(\operatorname{lcm} = 2k\)</span> çš„æƒ…å†µï¼Œ<span class="math inline">\(i,j,k\)</span> åªå¯èƒ½å½¢å¦‚ <span class="math inline">\(3t,4t,6t\)</span> æˆ–è€… <span class="math inline">\(6t, 10t, 15t\)</span> çš„å½¢å¼ï¼ˆæ‰“è¡¨å¯ä»¥å‘ç°ï¼‰ï¼Œä¸‹é¢ç»™å‡ºè¯æ˜ï¼š</p>
<p>å› ä¸º <span class="math inline">\(i+j &gt; k \land i &lt; j\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(j &gt; k / 2\)</span>ï¼Œè®¾ <span class="math inline">\(2k = j\times p\)</span>ï¼Œæ‰€ä»¥ <span class="math inline">\(k/2 &lt; 2k/p &lt; k\)</span>ï¼Œè§£å¾— <span class="math inline">\(2&lt;p&lt;4\)</span>ï¼Œæ•… <span class="math inline">\(p = 3\)</span>ï¼Œ<span class="math inline">\(j = 2k/3\)</span>ã€‚ç”± <span class="math inline">\(i + j &gt; k\)</span>ï¼Œ<span class="math inline">\(i &gt; k / 3\)</span>ï¼Œè®¾ <span class="math inline">\(2k = i \times q\)</span>ï¼Œåˆ™ <span class="math inline">\(k / 3 &lt; 2k/q &lt; k\)</span>ï¼Œè§£å¾— <span class="math inline">\(3&lt;q&lt;6\)</span>ï¼Œæ•… <span class="math inline">\(q= 4\)</span> æˆ– <span class="math inline">\(5\)</span>ï¼Œå¯¹åº”çš„ <span class="math inline">\(i = k / 2\)</span> æˆ– <span class="math inline">\(2k / 5\)</span>ã€‚è¯æ¯•ã€‚</p>
<p>æ‰€ä»¥å¯¹äº <span class="math inline">\(15\mid k\)</span> å’Œ <span class="math inline">\(6\mid k\)</span> çš„æ—¶å€™ï¼Œç‰¹åˆ¤ä¸€ä¸‹å³å¯ã€‚</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb45-1"><a aria-hidden="true" href="#cb45-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb45-2"><a aria-hidden="true" href="#cb45-2"></a><span class="pp">#define il </span><span class="kw">inline</span></span>
<span id="cb45-3"><a aria-hidden="true" href="#cb45-3"></a><span class="pp">#define FOR</span>(i,<span class="pp"> </span>a,<span class="pp"> </span>b)<span class="pp"> </span><span class="cf">for</span><span class="pp"> </span>(<span class="dt">int</span><span class="pp"> </span>i<span class="pp"> </span>=<span class="pp"> </span>(a);<span class="pp"> </span>i<span class="pp"> </span>&lt;=<span class="pp"> </span>(b);<span class="pp"> </span>++i)</span>
<span id="cb45-4"><a aria-hidden="true" href="#cb45-4"></a><span class="pp">#define szof</span>(a)<span class="pp"> </span>((<span class="dt">int</span>)<span class="pp"> </span>(a).size())</span>
<span id="cb45-5"><a aria-hidden="true" href="#cb45-5"></a></span>
<span id="cb45-6"><a aria-hidden="true" href="#cb45-6"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb45-7"><a aria-hidden="true" href="#cb45-7"></a><span class="kw">using</span> ll = <span class="dt">long</span> <span class="dt">long</span>;</span>
<span id="cb45-8"><a aria-hidden="true" href="#cb45-8"></a><span class="at">const</span> <span class="dt">int</span> maxn = <span class="fl">4e5</span> + <span class="dv">5</span>, N = <span class="fl">4e5</span>;</span>
<span id="cb45-9"><a aria-hidden="true" href="#cb45-9"></a>vector&lt;<span class="dt">int</span>&gt; fact[maxn];</span>
<span id="cb45-10"><a aria-hidden="true" href="#cb45-10"></a></span>
<span id="cb45-11"><a aria-hidden="true" href="#cb45-11"></a>ll binom(<span class="dt">int</span> n) {<span class="cf">return</span> (n - <span class="dv">2</span><span class="bu">ll</span>) * (n - <span class="dv">1</span><span class="bu">ll</span>) * n / <span class="dv">6</span>;}</span>
<span id="cb45-12"><a aria-hidden="true" href="#cb45-12"></a></span>
<span id="cb45-13"><a aria-hidden="true" href="#cb45-13"></a>ll solve(<span class="dt">int</span> l, <span class="dt">int</span> r) { <span class="co">// count lcm(i, j, k) &lt; i + j + k</span></span>
<span id="cb45-14"><a aria-hidden="true" href="#cb45-14"></a>    ll ret = <span class="dv">0</span>;</span>
<span id="cb45-15"><a aria-hidden="true" href="#cb45-15"></a>    FOR(k, l + <span class="dv">2</span>, r) {</span>
<span id="cb45-16"><a aria-hidden="true" href="#cb45-16"></a>        <span class="dt">int</span> cnt = <span class="dv">0</span>;</span>
<span id="cb45-17"><a aria-hidden="true" href="#cb45-17"></a>        <span class="cf">for</span> (<span class="dt">int</span> x : fact[k]) <span class="cf">if</span> (x &gt;= l &amp;&amp; x &lt; k) ++cnt;</span>
<span id="cb45-18"><a aria-hidden="true" href="#cb45-18"></a>        ret += cnt * (cnt - <span class="dv">1</span><span class="bu">ll</span>) / <span class="dv">2</span>; <span class="co">// lcm = k</span></span>
<span id="cb45-19"><a aria-hidden="true" href="#cb45-19"></a>        <span class="cf">if</span> (k % <span class="dv">6</span> == <span class="dv">0</span> &amp;&amp; k / <span class="dv">2</span> &gt;= l) ++ret;</span>
<span id="cb45-20"><a aria-hidden="true" href="#cb45-20"></a>        <span class="cf">if</span> (k % <span class="dv">15</span> == <span class="dv">0</span> &amp;&amp; k * <span class="dv">2</span> / <span class="dv">5</span> &gt;= l) ++ret; <span class="co">// lcm = 2k</span></span>
<span id="cb45-21"><a aria-hidden="true" href="#cb45-21"></a>    }</span>
<span id="cb45-22"><a aria-hidden="true" href="#cb45-22"></a>    <span class="cf">return</span> ret;</span>
<span id="cb45-23"><a aria-hidden="true" href="#cb45-23"></a>}</span>
<span id="cb45-24"><a aria-hidden="true" href="#cb45-24"></a></span>
<span id="cb45-25"><a aria-hidden="true" href="#cb45-25"></a><span class="dt">int</span> main() {</span>
<span id="cb45-26"><a aria-hidden="true" href="#cb45-26"></a>    FOR(i, <span class="dv">1</span>, N) <span class="cf">for</span> (<span class="dt">int</span> j = i; j &lt;= N; j += i) fact[j].emplace_back(i);</span>
<span id="cb45-27"><a aria-hidden="true" href="#cb45-27"></a>    <span class="dt">int</span> T; cin &gt;&gt; T;</span>
<span id="cb45-28"><a aria-hidden="true" href="#cb45-28"></a>    <span class="cf">while</span> (T--) {</span>
<span id="cb45-29"><a aria-hidden="true" href="#cb45-29"></a>        <span class="dt">int</span> l, r; cin &gt;&gt; l &gt;&gt; r;</span>
<span id="cb45-30"><a aria-hidden="true" href="#cb45-30"></a>        cout &lt;&lt; binom(r - l + <span class="dv">1</span>) - solve(l, r) &lt;&lt; endl;</span>
<span id="cb45-31"><a aria-hidden="true" href="#cb45-31"></a>    }</span>
<span id="cb45-32"><a aria-hidden="true" href="#cb45-32"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb45-33"><a aria-hidden="true" href="#cb45-33"></a>}</span></code></pre></div>
<p>å¯¹äº E2ï¼Œæˆ‘ä»¬å°†ä¸Šé¢è¿™ä¸ªè¿‡ç¨‹ç¦»çº¿ä¸‹æ¥æ‰«æçº¿å³å¯ï¼Œå€’åºæšä¸¾ <span class="math inline">\(l\)</span>ï¼Œç»´æŠ¤ <span class="math inline">\(r\)</span> çš„ç­”æ¡ˆã€‚ç›¸å½“äºæˆ‘ä»¬å…¶å®éœ€è¦ç»´æŠ¤å› æ•°é›†åˆçš„å¤§å°ï¼Œå‘ç° <span class="math inline">\(x(x-1)/2\)</span> å’Œ <span class="math inline">\((x+1)x/2\)</span> ä¹‹é—´ç›¸å·® <span class="math inline">\(x\)</span>ï¼Œæ‰€ä»¥ç”¨æ ‘çŠ¶æ•°ç»„è¿˜æ˜¯æ¯”è¾ƒå¥½ç»´æŠ¤çš„ã€‚è€Œå¯¹äº <span class="math inline">\(\operatorname{lcm} = 2k\)</span> çš„æƒ…å†µï¼Œå› ä¸ºæˆ‘ä»¬æšä¸¾çš„æ˜¯ <span class="math inline">\(i\)</span>ï¼Œæ‰€ä»¥åœ¨ <span class="math inline">\(3\mid i\)</span> å’Œ <span class="math inline">\(6\mid i\)</span> çš„æ—¶å€™åˆ¤ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<h2 id="codeforces-round-815-div.-2">Codeforces Round #815 (Div. 2)</h2>
<p>A FST äº†ï¼Œæœ¬æ¥èƒ½æ‰“å‡º 2400+ çš„ perf çš„ <img src="https://å•§.tk/tuu"/>ã€‚</p>
<h3 id="e---misha-and-paintings">1720E - Misha and Paintings</h3>
<p>æœ‰ä¸€ä¸ª <span class="math inline">\(n\times n\)</span> çš„çŸ©é˜µï¼Œ<span class="math inline">\(n\le 500\)</span>ï¼Œæ¯ä¸ªä½ç½®æœ‰ä¸€ä¸ªå€¼ <span class="math inline">\(v\)</span>ï¼Œä¸” <span class="math inline">\(1\le v\le n^2\)</span>ï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸€ä¸ªå­æ–¹é˜µç„¶åç›´æ¥æŸ“è‰²ï¼Œè¦æ±‚ <span class="math inline">\(1\le x\le n^2\)</span>ã€‚ç°åœ¨ç»™å®šä¸€ä¸ª <span class="math inline">\(k\)</span>ï¼Œé—®æœ€å°‘å¤šå°‘æ¬¡æ“ä½œä½¿å¾—çŸ©é˜µä¸­ä¸åŒçš„æ•°åˆšå¥½æœ‰ <span class="math inline">\(k\)</span> ä¸ªã€‚</p>
<p>é¦–å…ˆï¼Œè®¾ä¸€å¼€å§‹æœ‰ <span class="math inline">\(m\)</span> ç§ä¸åŒçš„æ•°ï¼Œåˆ™è‹¥ <span class="math inline">\(m \le k\)</span>ï¼Œåˆ™æ˜¾ç„¶ç­”æ¡ˆä¸º <span class="math inline">\(k - m\)</span>ã€‚</p>
<p>ç°åœ¨è€ƒè™‘ <span class="math inline">\(k &lt; m\)</span> çš„æƒ…å†µï¼Œä¸‹é¢ç»™å‡ºç­”æ¡ˆä¸è¶…è¿‡ <span class="math inline">\(2\)</span> çš„æ„é€ è¯æ˜ã€‚</p>
<ul>
<li><p>é€‰ä¸€ä¸ªé•¿åº¦ä¸º <span class="math inline">\(L\)</span> çš„å°½å¯èƒ½å¤§çš„æ­£æ–¹å½¢ï¼Œå°†é‡Œé¢å…¨éƒ¨æ¶‚ä¸ºä¸€ä¸ªæœªå‡ºç°çš„é¢œè‰²ï¼Œä½¿å¾—ç°åœ¨ä¸åŒçš„æ•°æ° <span class="math inline">\(\ge k\)</span> ä¸ªã€‚</p></li>
<li><p>ç„¶åè¿™ä¸ªæ­£æ–¹å½¢çš„å³ä¸‹è§’å¼€å§‹ï¼ˆç›¸å½“äº <span class="math inline">\((L + 1, L + 1)\)</span> æ‰©å±•ï¼‰ï¼Œæ¶‚ä¸ºä¸€ä¸ªæœªå‡ºç°çš„é¢œè‰²ï¼Œä½¿å¾—ç°åœ¨ä¸åŒçš„æ•°æ° <span class="math inline">\(\le k\)</span> ä¸ªã€‚</p>
<p>å®¹æ˜“å‘ç°è¿™æ ·ç›¸å½“äºä¸€æ¬¡æ‰©å±•ä¸¤æ ¼ï¼Œæœ€åä¸åŒçš„æ•°åªå¯èƒ½æœ‰ <span class="math inline">\(k\)</span> ä¸ªæˆ– <span class="math inline">\(k - 1\)</span> ä¸ªï¼Œå¯¹äºåè€…æˆ‘ä»¬æŠŠæ¶‚çš„é¢œè‰²å˜ä¸ºä¸€ä¸ªå·²å‡ºç°çš„å³å¯ã€‚</p></li>
</ul>
<p>äºæ˜¯åªéœ€è¦åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦ä¸º <span class="math inline">\(1\)</span>ã€‚äºæ˜¯éœ€è¦å¯¹äº <span class="math inline">\(O(n^3)\)</span> ä¸ªæ­£æ–¹å½¢æ‰¾åˆ°å…¶å®Œå…¨åŒ…å«äº†å¤šå°‘æ•°å­—ï¼Œè¿™ä¸ªå¯ä»¥ç”¨äºŒç»´å‰ç¼€å’Œä»€ä¹ˆçš„å¤„ç†ä¸€ä¸‹ã€‚æ€»æ—¶é—´å¤æ‚åº¦ <span class="math inline">\(O(n^3)\)</span>ã€‚</p>
</section>
<footer class="article-footer">
<section class="article-tags">
<a href="/tags/Codeforces/">Codeforces</a>
<a href="/tags/OI/">OI</a>
<a href="/tags/solution/">è§£é¢˜æŠ¥å‘Š</a>
<a href="/tags/implementation/">æ¨¡æ‹Ÿ</a>
<a href="/tags/constructive/">æ„é€ </a>
<a href="/tags/greedy/">è´ªå¿ƒ</a>
<a href="/tags/game-theory/">åšå¼ˆè®º</a>
<a href="/tags/dp/">åŠ¨æ€è§„åˆ’</a>
<a href="/tags/combinatorics/">ç»„åˆæ•°å­¦</a>
<a href="/tags/gf/">ç”Ÿæˆå‡½æ•°</a>
<a href="/tags/segtree/">çº¿æ®µæ ‘</a>
<a href="/tags/bi-graph/">äºŒåˆ†å›¾</a>
<a href="/tags/binary-search/">äºŒåˆ†ç­”æ¡ˆ</a>
<a href="/tags/toposort/">æ‹“æ‰‘æ’åº</a>
<a href="/tags/scc/">å¼ºè¿é€šåˆ†é‡</a>
<a href="/tags/lld/">é•¿é“¾å‰–åˆ†</a>
<a href="/tags/number-theory/">æ•°è®º</a>
<a href="/tags/sqrt-division/">æ ¹å·åˆ†æ²»</a>
</section>
<section class="article-copyright">
<svg class="icon icon-tabler icon-tabler-copyright" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" stroke="none"></path>
<circle cx="12" cy="12" r="9"></circle>
<path d="M14.5 9a3.5 4 0 1 0 0 6"></path>
</svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" rel="stylesheet"/><script crossorigin="anonymous" defer="" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js">
</script><script crossorigin="anonymous" defer="" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js">
</script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
</article>
<aside class="related-contents--wrapper">
<h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
<div class="related-contents">
<div class="flex article-list--tile">
<article class="has-image">
<a href="/summary-atcoder/">
<div class="article-image">
<img data-hash="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg70.webp" data-key="" loading="lazy" src="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg70.webp"/>
</div>
<div class="article-details">
<h2 class="article-title">AtCoder æ¯”èµ›æ—¥è®°</h2>
</div>
</a>
</article>
<article class="has-image">
<a href="/sol-cf431d/">
<div class="article-image">
<img data-hash="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg66.webp" data-key="" loading="lazy" src="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg66.webp"/>
</div>
<div class="article-details">
<h2 class="article-title">CF431D Random Task</h2>
</div>
</a>
</article>
<article class="has-image">
<a href="/sol-agc010e/">
<div class="article-image">
<img data-hash="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg41.webp" data-key="" loading="lazy" src="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg41.webp"/>
</div>
<div class="article-details">
<h2 class="article-title">AGC010E - Rearranging</h2>
</div>
</a>
</article>
<article class="has-image">
<a href="/sol-loj2838/">
<div class="article-image">
<img data-hash="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg23.webp" data-key="" loading="lazy" src="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg23.webp"/>
</div>
<div class="article-details">
<h2 class="article-title">LOJ#2838. ã€ŒJOISC 2018 Day 3ã€æ¯”å¤ªéƒçš„èšä¼š</h2>
</div>
</a>
</article>
<article class="has-image">
<a href="/sol-past-noip/">
<div class="article-image">
<img data-hash="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg35.webp" data-key="" loading="lazy" src="https://yangty-pic.oss-cn-beijing.aliyuncs.com/bg35.webp"/>
</div>
<div class="article-details">
<h2 class="article-title">å†å¹´è”èµ›çœŸé¢˜é€‰åš</h2>
</div>
</a>
</article>
</div>
</div>
</aside>
<footer class="site-footer">
<section class="copyright">
        Â© 
        
            2019 - 
        
        2024 æ¸…çƒ›çš„åšå®¢
    </section>
<section class="powerby">
        Built with <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo</a> <br/>
        ä¸»é¢˜ <b><a data-version="3.11.0" href="https://github.com/CaiJimmy/hugo-theme-stack" rel="noopener" target="_blank">Stack</a></b> ç”± <a href="https://jimmycai.com" rel="noopener" target="_blank">Jimmy</a> è®¾è®¡
    </section>
</footer>
<div aria-hidden="true" class="pswp" role="dialog" tabindex="-1">
<div class="pswp__bg"></div>
<div class="pswp__scroll-wrap">
<div class="pswp__container">
<div class="pswp__item"></div>
<div class="pswp__item"></div>
<div class="pswp__item"></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class="pswp__top-bar">
<div class="pswp__counter"></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title="Share"></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class="pswp__preloader">
<div class="pswp__preloader__icn">
<div class="pswp__preloader__cut">
<div class="pswp__preloader__donut"></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class="pswp__share-tooltip"></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class="pswp__caption">
<div class="pswp__caption__center"></div>
</div>
</div>
</div>
</div><script crossorigin="anonymous" defer="" integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js">
</script><script crossorigin="anonymous" defer="" integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js">
</script><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css" integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" rel="stylesheet"/><link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css" integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" rel="stylesheet"/>
</main>
</div>
<script crossorigin="anonymous" integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js">
</script><script defer="" src="/ts/main.js" type="text/javascript"></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
</body>
</html>
